dojo._hasResource["aipo.widget.ToolTip"]||(dojo._hasResource["aipo.widget.ToolTip"]=!0,dojo.provide("aipo.widget.ToolTip"),dojo.require("dijit.Tooltip"),dojo.declare("aipo.widget._MasterToolTip",[dijit._MasterTooltip],{duration:100,postCreate:function(){dojo.body().appendChild(this.domNode),this.bgIframe=new dijit.BackgroundIframe(this.domNode)},show:function(o,i,t,e){if((!this.aroundNode||this.aroundNode!==i)&&null!=i&&"undefined"!=i&&null!=this.domNode&&"undefined"!=this.domNode){this.containerNode.innerHTML=o,this.domNode.style.width="150px",this.domNode.style.top=this.domNode.offsetTop+1+"px";try{var d=this.isLeftToRight()?{BR:"BL",BL:"BR"}:{BL:"BR",BR:"BL"},s=dijit.placeOnScreenAroundElement(this.domNode,i,d);this.domNode.className="dijitTooltip dijitTooltip"+("BL"==s.corner?"Right":"Left")}catch(h){return this.hide(i),void 0}if(parseInt(this.domNode.style.left)<1)this.domNode.style.top=-1e4+"px";else{var n=parseInt(aipo.widget.tmpY)-36;this.domNode.style.top=n+"px"}dojo.style(this.domNode,"opacity",1),this.isShowingNow=!0,this.aroundNode=i,t&&t(this.containerNode,e)}},hide:function(o){if(this.domNode&&(this.domNode.zIndex=0),this.aroundNode&&this.aroundNode===o){if(this._onDeck)return this._onDeck=null,void 0;this.domNode.style.top=-1e4+"px",dojo.style(this.domNode,"opacity",0),this.isShowingNow=!1,this.aroundNode=null}}}),aipo.widget._masterTT=null,aipo.widget.showTooltip=function(o,i,t,e){return aipo.widget._masterTT||(aipo.widget._masterTT=new aipo.widget._MasterToolTip),aipo.widget._masterTT.show(o,i,t,e)},aipo.widget.hideTooltip=function(o){return aipo.widget._masterTT?aipo.widget._masterTT.hide(o):void 0},dojo.declare("aipo.widget.ToolTip",[dijit.Tooltip],{origZIndex:0,_portletId:null,_callback:null,constructor:function(o,i,t){this._portletId=i,this._callback=t},open:function(o){o=o||this._connectNodes[0],o&&(this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer),aipo.widget.showTooltip(this.label||this.domNode.innerHTML,o,this._callback,this._connectNodes[0]),this._connectNode=o)},close:function(){aipo.widget.hideTooltip(this._connectNode),delete this._connectNode,this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer)},_onHover:function(o){if(1==ptConfig[this._portletId].isTooltipEnable&&!this._showTimer){var i=o.target;aipo.widget.tmpX=o.pageX,aipo.widget.tmpY=o.pageY,this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(i)}),this.showDelay)}},_onUnHover:function(){this._focus||(this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer),this.close())}}));