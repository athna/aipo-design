dojo._xdResourceLoaded({depends:[["provide","dojox.charting.plot2d.StackedColumns"],["require","dojox.charting.plot2d.common"],["require","dojox.charting.plot2d.Columns"],["require","dojox.lang.functional"]],defineResource:function(e){e._hasResource["dojox.charting.plot2d.StackedColumns"]||(e._hasResource["dojox.charting.plot2d.StackedColumns"]=!0,e.provide("dojox.charting.plot2d.StackedColumns"),e.require("dojox.charting.plot2d.common"),e.require("dojox.charting.plot2d.Columns"),e.require("dojox.lang.functional"),function(){var t=dojox.lang.functional,o=dojox.charting.plot2d.common,r=t.lambda("item.purgeGroup()");e.declare("dojox.charting.plot2d.StackedColumns",dojox.charting.plot2d.Columns,{calculateAxes:function(e){var t=o.collectStackedStats(this.series);return this._maxRunLength=t.hmax,t.hmin-=.5,t.hmax+=.5,this._calc(e,t),this},render:function(i,a){for(var s=t.repeat(this._maxRunLength,"-> 0",0),l=0;l<this.series.length;++l)for(var n=this.series[l],h=0;h<n.data.length;++h){var c=n.data[h];isNaN(c)&&(c=0),s[h]+=c}if(this.dirty){e.forEach(this.series,r),this.cleanGroup();var d=this.group;t.forEachReversed(this.series,function(e){e.cleanGroup(d)})}for(var u,g,p,f=this.chart.theme,m=this.opt.gap<this._hScaler.scale/3?this.opt.gap:0,l=this.series.length-1;l>=0;--l){var n=this.series[l];if(this.dirty||n.dirty){n.cleanGroup();var d=n.group;n.fill&&n.stroke||(u=n.dyn.color=new e.Color(f.next("color"))),g=n.stroke?n.stroke:o.augmentStroke(f.series.stroke,u),p=n.fill?n.fill:o.augmentFill(f.series.fill,u);for(var h=0;h<s.length;++h){var c=s[h],x=this._hScaler.scale-2*m,v=this._vScaler.scale*(c-this._vScaler.bounds.lower);if(x>=1&&v>=1){var S=d.createRect({x:a.l+this._hScaler.scale*(h+.5-this._hScaler.bounds.lower)+m,y:i.height-a.b-this._vScaler.scale*(c-this._vScaler.bounds.lower),width:x,height:v}).setFill(p).setStroke(g);n.dyn.fill=S.getFill(),n.dyn.stroke=S.getStroke()}}n.dirty=!1;for(var h=0;h<n.data.length;++h){var c=n.data[h];isNaN(c)&&(c=0),s[h]-=c}}}return this.dirty=!1,this}})}())}});