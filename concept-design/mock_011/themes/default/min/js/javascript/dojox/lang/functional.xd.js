dojo._xdResourceLoaded({depends:[["provide","dojox.lang.functional"]],defineResource:function(n){n._hasResource["dojox.lang.functional"]||(n._hasResource["dojox.lang.functional"]=!0,n.provide("dojox.lang.functional"),function(){var r=n,t=dojox.lang.functional,a=/\bfor\b|\bif\b/gm,e={},l="ab".split(/a*/).length>1?String.prototype.split:function(n){var r=this.split.call(this,n),t=n.exec(this);return t&&0==t.index&&r.unshift(""),r},o=function(n){var t=[],a=l.call(n,/\s*->\s*/m);if(a.length>1)for(;a.length;)n=a.pop(),t=a.pop().split(/\s*,\s*|\s+/m),a.length&&a.push("(function("+t+"){return ("+n+")})");else if(n.match(/\b_\b/))t=["_"];else{var e=n.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),o=n.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(e||o)e&&(t.push("$1"),n="$1"+n),o&&(t.push("$2"),n+="$2");else{var u=n.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],i={};r.forEach(u,function(n){n in i||(t.push(n),i[n]=1)})}}return{args:t,body:"return ("+n+");"}},u=function(n){for(var r=n.split(a),t=n.match(a),e=["var r = [];"],l=[],o=0;o<t.length;){var u=t[o],i=r[++o];"for"!=u||/^\s*\(\s*(;|var)/.test(i)||(i=i.replace(/^\s*\(/,"(var ")),e.push(u,i,"{"),l.push("}")}return e.join("")+"r.push("+r[0]+");"+l.join("")+"return r;"},i=function(n){return function(){return arguments.length+n.args.length<n.arity?i({func:n.func,arity:n.arity,args:Array.prototype.concat.apply(n.args,arguments)}):n.func.apply(this,Array.prototype.concat.apply(n.args,arguments))}},c=function(n){return n},f=function(n){return n.length?function(){var r=n.length-1,a=t.lambda(n[r]).apply(this,arguments);for(--r;r>=0;--r)a=t.lambda(n[r]).call(this,a);return a}:c};r.mixin(t,{buildLambda:function(n){return n=o(n),"function("+n.args.join(",")+"){"+n.body+"}"},lambda:function(n){return"function"==typeof n?n:n instanceof Array?f(n):(n=o(n),new Function(n.args,n.body))},repeat:function(n,a,e,l){l=l||r.global,a=t.lambda(a);var o=new Array(n);o[0]=e;for(var u=1;n>u;o[u]=e=a.call(l,e),++u);return o},until:function(n,a,e,l){l=l||r.global,a=t.lambda(a),n=t.lambda(n);for(var o=[];!n.call(l,e);o.push(e),e=a.call(l,e));return o},buildListcomp:function(n){return"function(){"+u(n)+"}"},compileListcomp:function(n){return new Function([],u(n))},listcomp:function(n){return new Function([],u(n))()},foldl:function(n,a,e,l){n="string"==typeof n?n.split(""):n,l=l||r.global,a=t.lambda(a);for(var o=0;o<n.length;e=a.call(l,e,n[o],o,n),++o);return e},foldl1:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n[0],o=1;o<n.length;l=a.call(e,l,n[o],o,n),++o);return l},scanl:function(n,a,e,l){n="string"==typeof n?n.split(""):n,l=l||r.global,a=t.lambda(a);var o=n.length,u=new Array(o+1);u[0]=e;for(var i=0;o>i;e=a.call(l,e,n[i],i,n),u[++i]=e);return u},scanl1:function(n,a,e,l){n="string"==typeof n?n.split(""):n,l=l||r.global,a=t.lambda(a);var o=n.length,u=new Array(o),e=n[0];u[0]=e;for(var i=1;o>i;e=a.call(l,e,n[i],i,n),u[i++]=e);return u},foldr:function(n,a,e,l){n="string"==typeof n?n.split(""):n,l=l||r.global,a=t.lambda(a);for(var o=n.length;o>0;--o,e=a.call(l,e,n[o],o,n));return e},foldr1:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n.length,o=n[l-1],u=l-1;u>0;--u,o=a.call(e,o,n[u],u,n));return o},scanr:function(n,a,e,l){n="string"==typeof n?n.split(""):n,l=l||r.global,a=t.lambda(a);var o=n.length,u=new Array(o+1);u[o]=e;for(var i=o;i>0;--i,e=a.call(l,e,n[i],i,n),u[i]=e);return u},scanr1:function(n,a,e,l){n="string"==typeof n?n.split(""):n,l=l||r.global,a=t.lambda(a);var o=n.length,u=new Array(o),e=n[o-1];u[o-1]=e;for(var i=o-1;i>0;--i,e=a.call(l,e,n[i],i,n),u[i]=e);return u},filter:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l,o=n.length,u=[],i=0;o>i;++i)l=n[i],a.call(e,l,i,n)&&u.push(l);return u},forEach:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n.length,o=0;l>o;a.call(e,n[o],o,n),++o);},map:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n.length,o=new Array(l),u=0;l>u;o[u]=a.call(e,n[u],u,n),++u);return o},every:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n.length,o=0;l>o;++o)if(!a.call(e,n[o],o,n))return!1;return!0},some:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n.length,o=0;l>o;++o)if(a.call(e,n[o],o,n))return!0;return!1},reduce:function(n,r,a){return arguments.length<3?t.foldl1(n,r):t.foldl(n,r,a)},reduceRight:function(n,r,a){return arguments.length<3?t.foldr1(n,r):t.foldr(n,r,a)},curry:function(n,r){return n=t.lambda(n),r="number"==typeof r?r:n.length,i({func:n,arity:r,args:[]})},arg:{},partial:function(n){var r=arguments,a=new Array(r.length-1),e=[];n=t.lambda(n);for(var l=1;l<r.length;++l){var o=r[l];a[l-1]=o,o==t.arg&&e.push(l-1)}return function(){for(var r=Array.prototype.slice.call(a,0),t=0;t<e.length;++t)r[e[t]]=arguments[t];return n.apply(this,r)}},mixer:function(n,r){return n=t.lambda(n),function(){for(var t=new Array(r.length),a=0;a<r.length;++a)t[a]=arguments[r[a]];return n.apply(this,t)}},flip:function(n){return n=t.lambda(n),function(){var r,t=arguments,a=t.length-1,e=new Array(a+1);for(r=0;a>=r;++r)e[a-r]=t[r];return n.apply(this,e)}},zip:function(){var n,r=arguments[0].length,t=arguments.length;for(n=1;t>n;r=Math.min(r,arguments[n++].length));var a,e=new Array(r);for(n=0;r>n;++n){var l=new Array(t);for(a=0;t>a;l[a]=arguments[a][n],++a);e[n]=l}return e},unzip:function(n){return t.zip.apply(null,n)},constFun:function(n){return function(){return n}},invoke:function(n){return function(r){return r[n].apply(r,Array.prototype.slice.call(arguments,1))}},pluck:function(n){return function(r){return r[n]}},forIn:function(n,a,l){l=l||r.global,a=t.lambda(a);for(var o in n)o in e||a.call(l,n[o],o,n)},forEachReversed:function(n,a,e){n="string"==typeof n?n.split(""):n,e=e||r.global,a=t.lambda(a);for(var l=n.length-1;l>=0;a.call(e,n[l],l,n),--l);}}),n.declare("dojox.lang.functional.MaybeMonad",null,{constructor:function(n){arguments.length&&(this.value=n)},bind:function(n,a,e){return"value"in n?(e=e||r.global,a=t.lambda(a),a.call(e,n.value)):new this.constructor},isNothing:function(){return!("value"in this)}}),t.MaybeMonad.returnMonad=function(n){return new t.MaybeMonad(n)},t.MaybeMonad.zero=new t.MaybeMonad}())}});