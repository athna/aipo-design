dojo._hasResource["dojo._base.query"]||(dojo._hasResource["dojo._base.query"]=!0,dojo.provide("dojo._base.query"),dojo.require("dojo._base.NodeList"),function(){var n=dojo,t=dojo.isIE?"children":"childNodes",r=function(t){">"==t.charAt(t.length-1)&&(t+=" *"),t+=" ";for(var r,e=function(r,e){return n.trim(t.slice(r,e))},u=[],i=-1,o=-1,a=-1,f=-1,c=-1,s=-1,l=-1,d="",h="",g=0,p=(t.length,null),v=null,y=function(){if(l>=0){var n=l==g?null:e(l,g).toLowerCase();p[">~+".indexOf(n)<0?"tag":"oper"]=n,l=-1}},m=function(){s>=0&&(p.id=e(s,g).replace(/\\/g,""),s=-1)},x=function(){c>=0&&(p.classes.push(e(c+1,g).replace(/\\/g,"")),c=-1)},b=function(){m(),y(),x()};d=h,h=t.charAt(g);g++)if("\\"!=d)if(p||(r=g,p={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null},l=g),i>=0){if("]"==h){v.attr?v.matchFor=e(a||i+1,g):v.attr=e(i+1,g);var N=v.matchFor;N&&('"'==N.charAt(0)||"'"==N.charAt(0))&&(v.matchFor=N.substring(1,N.length-1)),p.attrs.push(v),v=null,i=a=-1}else if("="==h){var _="|~^$*".indexOf(d)>=0?d:"";v.type=_+h,v.attr=e(i+1,g-_.length),a=g+1}}else o>=0?")"==h&&(f>=0&&(v.value=e(o+1,g)),f=o=-1):"#"==h?(b(),s=g+1):"."==h?(b(),c=g):":"==h?(b(),f=g):"["==h?(b(),i=g,v={}):"("==h?(f>=0&&(v={name:e(f+1,g),value:null},p.pseudos.push(v)),o=g):" "==h&&d!=h&&(b(),f>=0&&p.pseudos.push({name:e(f+1,g)}),p.hasLoops=p.pseudos.length||p.attrs.length||p.classes.length,p.query=e(r,g),p.tag=p.oper?null:p.tag||"*",u.push(p),p=null);return u},e={"*=":function(n,t){return"[contains(@"+n+", '"+t+"')]"},"^=":function(n,t){return"[starts-with(@"+n+", '"+t+"')]"},"$=":function(n,t){return"[substring(@"+n+", string-length(@"+n+")-"+(t.length-1)+")='"+t+"']"},"~=":function(n,t){return"[contains(concat(' ',@"+n+",' '), ' "+t+" ')]"},"|=":function(n,t){return"[contains(concat(' ',@"+n+",' '), ' "+t+"-')]"},"=":function(n,t){return"[@"+n+"='"+t+"']"}},u=function(t,r,e,u){n.forEach(r.attrs,function(n){var r;n.type&&t[n.type]?r=t[n.type](n.attr,n.matchFor):n.attr.length&&(r=e(n.attr)),r&&u(r)})},i=function(t){for(var i=".",o=r(n.trim(t));o.length;){var a,f=o.shift();">"==f.oper?(a="/",f=o.shift()):a="//",i+=a+f.tag,f.id&&(i+="[@id='"+f.id+"'][1]"),n.forEach(f.classes,function(n){var t=n.length,r=" ";"*"==n.charAt(t-1)&&(r="",n=n.substr(0,t-1)),i+="[contains(concat(' ',@class,' '), ' "+n+r+"')]"}),u(e,f,function(n){return"[@"+n+"]"},function(n){i+=n})}return i},o={},a=function(t){if(o[t])return o[t];var r=n.doc,e=i(t),u=function(n){var t,u=[];try{t=r.evaluate(e,n,null,XPathResult.ANY_TYPE,null)}catch(i){console.debug("failure in exprssion:",e,"under:",n),console.debug(i)}for(var o=t.iterateNext();o;)u.push(o),o=t.iterateNext();return u};return o[t]=u},f={},c={},s=function(n,t){return n?t?function(){return n.apply(window,arguments)&&t.apply(window,arguments)}:n:t},l=function(n,r,e,u){var i=u+1,o=r.length==i,a=r[u];if(">"==a.oper){var f=n[t];if(!f||!f.length)return;i++,o=r.length==i;var c,s=h(r[u+1]),d=0;for(f.length;c=f[d];d++)s(c)&&(o?e.push(c):l(c,r,e,i))}var g=_(a)(n);if(o)for(;g.length;)e.push(g.shift());else for(;g.length;)l(g.shift(),r,e,i)},d=function(n,t){for(var r,e=[],u=n.length-1;r=n[u--];)l(r,t,e,0);return e},h=function(n){if(f[n.query])return f[n.query];var t=null;return n.tag&&(t="*"==n.tag?s(t,function(n){return 1==n.nodeType}):s(t,function(t){return 1==t.nodeType&&n.tag==t.tagName.toLowerCase()})),n.id&&(t=s(t,function(t){return 1==t.nodeType&&t.id==n.id})),n.hasLoops&&(t=s(t,b(n))),f[n.query]=t},g=function(n){var t=n.parentNode,r=t.childNodes,e=-1,u=t.firstChild;if(!u)return e;var i=n.__cachedIndex,o=t.__cachedLength;if("number"==typeof o&&o!=r.length||"number"!=typeof i){t.__cachedLength=r.length;var a=1;do u===n&&(e=a),1==u.nodeType&&(u.__cachedIndex=a,a++),u=u.nextSibling;while(u)}else e=i;return e},p="",v=function(n,t){return"class"==t?n.className||p:"for"==t?n.htmlFor||p:n.getAttribute(t,2)||p},y={"*=":function(n,t){return function(r){return v(r,n).indexOf(t)>=0}},"^=":function(n,t){return function(r){return 0==v(r,n).indexOf(t)}},"$=":function(n,t){return function(r){var e=" "+v(r,n);return e.lastIndexOf(t)==e.length-t.length}},"~=":function(n,t){var r=" "+t+" ";return function(t){var e=" "+v(t,n)+" ";return e.indexOf(r)>=0}},"|=":function(n,t){var r=" "+t+"-";return function(e){var u=" "+(e.getAttribute(n,2)||"");return u==t||0==u.indexOf(r)}},"=":function(n,t){return function(r){return v(r,n)==t}}},m={"first-child":function(){return function(n){if(1!=n.nodeType)return!1;for(var t=n.previousSibling;t&&1!=t.nodeType;)t=t.previousSibling;return!t}},"last-child":function(){return function(n){if(1!=n.nodeType)return!1;for(var t=n.nextSibling;t&&1!=t.nodeType;)t=t.nextSibling;return!t}},empty:function(){return function(n){for(var t=n.childNodes,r=n.childNodes.length,e=r-1;e>=0;e--){var u=t[e].nodeType;if(1==u||3==u)return!1}return!0}},not:function(n,t){var e=h(r(t)[0]);return function(n){return!e(n)}},"nth-child":function(n,r){var e=parseInt;if("odd"==r)return function(n){return g(n)%2==1};if("2n"==r||"even"==r)return function(n){return g(n)%2==0};if(0==r.indexOf("0n+")){var u=e(r.substr(3));return function(n){return n.parentNode[t][u-1]===n}}if(r.indexOf("n+")>0&&r.length>3){var i=r.split("n+",2),o=e(i[0]),a=e(i[1]);return function(n){return g(n)%o==a}}if(-1==r.indexOf("n")){var u=e(r);return function(n){return g(n)==u}}}},x=n.isIE?function(n){var t=n.toLowerCase();return function(r){return r[n]||r[t]}}:function(n){return function(t){return t&&t.getAttribute&&t.hasAttribute(n)}},b=function(t){var r=c[t.query]||f[t.query];if(r)return r;var e=null;return t.id&&"*"!=t.tag&&(e=s(e,function(n){return n.tagName.toLowerCase()==t.tag})),n.forEach(t.classes,function(n,t){var r="*"==n.charAt(n.length-1);r&&(n=n.substr(0,n.length-1));var u=new RegExp("(?:^|\\s)"+n+(r?".*":"")+"(?:\\s|$)");e=s(e,function(n){return u.test(n.className)}),e.count=t}),n.forEach(t.pseudos,function(n){m[n.name]&&(e=s(e,m[n.name](n.name,n.value)))}),u(y,t,x,function(n){e=s(e,n)}),e||(e=function(){return!0}),c[t.query]=e},N={},_=function(t){var r=N[t.query];if(r)return r;if(t.id&&!t.hasLoops&&!t.tag)return N[t.query]=function(){return[n.byId(t.id)]};var e,u=b(t);if(t.tag&&t.id&&!t.hasLoops)e=function(){var r=n.byId(t.id);return u(r)?[r]:void 0};else{e=t.hasLoops?function(n){for(var r,e=[],i=0,o=n.getElementsByTagName(t.tag);r=o[i++];)u(r)&&e.push(r);return e}:function(n){for(var r,e=[],u=0,i=n.getElementsByTagName(t.tag);r=i[u++];)e.push(r);return e}}return N[t.query]=e},L={"*":n.isIE?function(n){return n.all}:function(n){return n.getElementsByTagName("*")},">":function(n){for(var r,e=[],u=0,i=n[t];r=i[u++];)1==r.nodeType&&e.push(r);return e}},q=function(t){var e=r(n.trim(t));if(1==e.length){var u=_(e[0]);return u.nozip=!0,u}var i=function(n){var t,r=e.slice(0);return t=">"==r[0].oper?[n]:_(r.shift())(n),d(t,r)};return i},O=document.evaluate&&!n.isSafari?function(n){var t=n.split(" ");return document.evaluate&&-1==n.indexOf(":")&&(t.length>2&&-1==n.indexOf(">")||t.length>3||n.indexOf("[")>=0||1==t.length&&0<=n.indexOf("."))?a(n):q(n)}:q,w=function(n){if(L[n])return L[n];if(0>n.indexOf(","))return L[n]=O(n);var t=n.split(/\s*,\s*/),r=function(n){for(var r,e=0,u=[];r=t[e++];)u=u.concat(O(r,r.indexOf(" "))(n));return u};return L[n]=r},T=0,I=function(t){if(t&&t.nozip)return n.NodeList._wrap(t);var r=new n.NodeList;if(!t)return r;if(t[0]&&r.push(t[0]),t.length<2)return r;T++,t[0]._zipIdx=T;for(var e,u=1;e=t[u];u++)t[u]._zipIdx!=T&&r.push(e),e._zipIdx=T;return r};n.query=function(t,r){return t.constructor==n.NodeList?t:n.isString(t)?(n.isString(r)&&(r=n.byId(r)),I(w(t)(r||n.doc))):new n.NodeList(t)},n._filterQueryResult=function(t,e){for(var u,i=new n.NodeList,o=e?h(r(e)[0]):function(){return!0},a=0;u=t[a];a++)o(u)&&i.push(u);return i}}());