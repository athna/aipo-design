dojo._xdResourceLoaded({depends:[["provide","dojo.number"],["require","dojo.i18n"],["requireLocalization","dojo.cldr","number",null,"de,de-de,en,en-ca,en-us,es,es-es,fr,it,ja-jp,ko-kr,ROOT,pt,zh-cn,zh-tw","de,de-de,en,en-ca,en-us,es,es-es,fr,it,ja-jp,ko-kr,ROOT,pt,zh-cn,zh-tw"],["require","dojo.string"],["require","dojo.regexp"]],defineResource:function(e){e._hasResource["dojo.number"]||(e._hasResource["dojo.number"]=!0,e.provide("dojo.number"),e.require("dojo.i18n"),e.require("dojo.string"),e.require("dojo.regexp"),e.number.format=function(r,n){n=e.mixin({},n||{});var t=e.i18n.normalizeLocale(n.locale),a=e.i18n.getLocalization("dojo.cldr","number",t);n.customs=a;var i=n.pattern||a[(n.type||"decimal")+"Format"];return isNaN(r)?null:e.number._applyPattern(r,i,n)},e.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/,e.number._applyPattern=function(r,n,t){t=t||{};var a=t.customs.group,i=t.customs.decimal,o=n.split(";"),u=o[0];if(n=o[0>r?1:0]||"-"+u,-1!=n.indexOf("%"))r*=100;else if(-1!=n.indexOf("‰"))r*=1e3;else if(-1!=n.indexOf("¤"))a=t.customs.currencyGroup||a,i=t.customs.currencyDecimal||i,n=n.replace(/\u00a4{1,3}/,function(e){var r=["symbol","currency","displayName"][e.length-1];return t[r]||t.currency||""});else if(-1!=n.indexOf("E"))throw new Error("exponential notation not supported");var p=e.number._numberPatternRE,l=u.match(p);if(!l)throw new Error("unable to find a number expression in pattern: "+n);return n.replace(p,e.number._formatAbsolute(r,l[0],{decimal:i,group:a,places:t.places}))},e.number.round=function(e,r,n){var t=String(e).split("."),a=t[1]&&t[1].length||0;if(a>r){var i=Math.pow(10,r);n>0&&(i*=10/n,r++),e=Math.round(e*i)/i,t=String(e).split("."),a=t[1]&&t[1].length||0,a>r&&(t[1]=t[1].substr(0,r),e=Number(t.join(".")))}return e},e.number._formatAbsolute=function(r,n,t){t=t||{},t.places===!0&&(t.places=0),1/0===t.places&&(t.places=6);var a=n.split("."),i=t.places>=0?t.places:a[1]&&a[1].length||0;t.round<0||(r=e.number.round(r,i,t.round));var o=String(Math.abs(r)).split("."),u=o[1]||"";if(t.places)o[1]=e.string.pad(u.substr(0,t.places),t.places,"0",!0);else if(a[1]&&0!==t.places){var p=a[1].lastIndexOf("0")+1;p>u.length&&(o[1]=e.string.pad(u,p,"0",!0));var l=a[1].length;l<u.length&&(o[1]=u.substr(0,l))}else o[1]&&o.pop();var s=a[0].replace(",","");p=s.indexOf("0"),-1!=p&&(p=s.length-p,p>o[0].length&&(o[0]=e.string.pad(o[0],p)),-1==s.indexOf("#")&&(o[0]=o[0].substr(o[0].length-p)));var c,d,f=a[0].lastIndexOf(",");if(-1!=f){c=a[0].length-f-1;var g=a[0].substr(0,f);f=g.lastIndexOf(","),-1!=f&&(d=g.length-f-1)}for(var m=[],b=o[0];b;){var x=b.length-c;m.push(x>0?b.substr(x):b),b=x>0?b.slice(0,x):"",d&&(c=d,delete d)}return o[0]=m.reverse().join(t.group||","),o.join(t.decimal||".")},e.number.regexp=function(r){return e.number._parseInfo(r).regexp},e.number._parseInfo=function(r){r=r||{};var n=e.i18n.normalizeLocale(r.locale),t=e.i18n.getLocalization("dojo.cldr","number",n),a=r.pattern||t[(r.type||"decimal")+"Format"],i=t.group,o=t.decimal,u=1;if(-1!=a.indexOf("%"))u/=100;else if(-1!=a.indexOf("‰"))u/=1e3;else{var p=-1!=a.indexOf("¤");p&&(i=t.currencyGroup||i,o=t.currencyDecimal||o)}var l=a.split(";");1==l.length&&l.push("-"+l[0]);var s=e.regexp.buildGroupRE(l,function(n){return n="(?:"+e.regexp.escapeString(n,".")+")",n.replace(e.number._numberPatternRE,function(n){var t={signed:!1,separator:r.strict?i:[i,""],fractional:r.fractional,decimal:o,exponent:!1},a=n.split("."),u=r.places;1==a.length||0===u?t.fractional=!1:("undefined"==typeof u&&(u=a[1].lastIndexOf("0")+1),u&&void 0==r.fractional&&(t.fractional=!0),!r.places&&u<a[1].length&&(u+=","+a[1].length),t.places=u);var p=a[0].split(",");return p.length>1&&(t.groupSize=p.pop().length,p.length>1&&(t.groupSize2=p.pop().length)),"("+e.number._realNumberRegexp(t)+")"})},!0);return p&&(s=s.replace(/(\s*)(\u00a4{1,3})(\s*)/g,function(n,t,a,i){var o=["symbol","currency","displayName"][a.length-1],u=e.regexp.escapeString(r[o]||r.currency||"");return t=t?"\\s":"",i=i?"\\s":"",r.strict?t+u+i:(t&&(t+="*"),i&&(i+="*"),"(?:"+t+u+i+")?")})),{regexp:s.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:i,decimal:o,factor:u}},e.number.parse=function(r,n){var t=e.number._parseInfo(n),a=new RegExp("^"+t.regexp+"$").exec(r);if(!a)return 0/0;var i=a[1];if(!a[1]){if(!a[2])return 0/0;i=a[2],t.factor*=-1}return i=i.replace(new RegExp("["+t.group+"\\s\\xa0]","g"),"").replace(t.decimal,"."),Number(i)*t.factor},e.number._realNumberRegexp=function(r){r=r||{},"undefined"==typeof r.places&&(r.places=1/0),"string"!=typeof r.decimal&&(r.decimal="."),("undefined"==typeof r.fractional||/^0/.test(r.places))&&(r.fractional=[!0,!1]),"undefined"==typeof r.exponent&&(r.exponent=[!0,!1]),"undefined"==typeof r.eSigned&&(r.eSigned=[!0,!1]);var n=e.number._integerRegexp(r),t=e.regexp.buildGroupRE(r.fractional,function(e){var n="";return e&&0!==r.places&&(n="\\"+r.decimal,1/0==r.places?n="(?:"+n+"\\d+)?":n+="\\d{"+r.places+"}"),n},!0),a=e.regexp.buildGroupRE(r.exponent,function(n){return n?"([eE]"+e.number._integerRegexp({signed:r.eSigned})+")":""}),i=n+t;return t&&(i="(?:(?:"+i+")|(?:"+t+"))"),i+a},e.number._integerRegexp=function(r){r=r||{},"undefined"==typeof r.signed&&(r.signed=[!0,!1]),"undefined"==typeof r.separator?r.separator="":"undefined"==typeof r.groupSize&&(r.groupSize=3);var n=e.regexp.buildGroupRE(r.signed,function(e){return e?"[-+]":""},!0),t=e.regexp.buildGroupRE(r.separator,function(n){if(!n)return"(?:0|[1-9]\\d*)";n=e.regexp.escapeString(n)," "==n?n="\\s":" "==n&&(n="\\s\\xa0");var t=r.groupSize,a=r.groupSize2;if(a){var i="(?:0|[1-9]\\d{0,"+(a-1)+"}(?:["+n+"]\\d{"+a+"})*["+n+"]\\d{"+t+"})";return t-a>0?"(?:"+i+"|(?:0|[1-9]\\d{0,"+(t-1)+"}))":i}return"(?:0|[1-9]\\d{0,"+(t-1)+"}(?:["+n+"]\\d{"+t+"})*)"},!0);return n+t})}});