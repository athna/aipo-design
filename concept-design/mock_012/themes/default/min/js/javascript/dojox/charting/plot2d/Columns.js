dojo._hasResource["dojox.charting.plot2d.Columns"]||(dojo._hasResource["dojox.charting.plot2d.Columns"]=!0,dojo.provide("dojox.charting.plot2d.Columns"),dojo.require("dojox.charting.plot2d.common"),dojo.require("dojox.charting.plot2d.Base"),dojo.require("dojox.lang.utils"),dojo.require("dojox.lang.functional"),function(){var o=dojox.lang.functional,t=dojox.lang.utils,e=dojox.charting.plot2d.common,i=o.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Columns",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{},constructor:function(o,e){this.opt=dojo.clone(this.defaultParams),t.updateWithObject(this.opt,e),this.series=[],this.hAxis=this.opt.hAxis,this.vAxis=this.opt.vAxis},calculateAxes:function(o){var t=e.collectSimpleStats(this.series);return t.hmin-=.5,t.hmax+=.5,this._calc(o,t),this},render:function(t,s){if(this.dirty){dojo.forEach(this.series,i),this.cleanGroup();var r=this.group;o.forEachReversed(this.series,function(o){o.cleanGroup(r)})}for(var a,l,h,c=this.chart.theme,n=this.opt.gap<this._hScaler.scale/3?this.opt.gap:0,d=this.series.length-1;d>=0;--d){var u=this.series[d];if(this.dirty||u.dirty){u.cleanGroup();var r=u.group;u.fill&&u.stroke||(a=u.dyn.color=new dojo.Color(c.next("color"))),l=u.stroke?u.stroke:e.augmentStroke(c.series.stroke,a),h=u.fill?u.fill:e.augmentFill(c.series.fill,a);for(var p=Math.max(0,this._vScaler.bounds.lower),g=s.l+this._hScaler.scale*(.5-this._hScaler.bounds.lower)+n,j=t.height-s.b-this._vScaler.scale*(p-this._vScaler.bounds.lower),x=0;x<u.data.length;++x){var f=u.data[x],m=this._hScaler.scale-2*n,v=this._vScaler.scale*(f-p),S=Math.abs(v);if(m>=1&&S>=1){var _={x:g+this._hScaler.scale*x,y:j-(0>v?0:v),width:m,height:S},y=r.createRect(_).setFill(h).setStroke(l);u.dyn.fill=y.getFill(),u.dyn.stroke=y.getStroke()}}u.dirty=!1}}return this.dirty=!1,this}})}());