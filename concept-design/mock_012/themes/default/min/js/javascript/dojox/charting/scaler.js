dojo._hasResource["dojox.charting.scaler"]||(dojo._hasResource["dojox.charting.scaler"]=!0,dojo.provide("dojox.charting.scaler"),function(){var r=3,o=function(r,o){r=r.toLowerCase();for(var i=0;i<o.length;++i)if(r==o[i])return!0;return!1},i=function(r,i,a,e,n,t,c){a=dojo.clone(a),e||("major"==a.fixUpper&&(a.fixUpper="minor"),"major"==a.fixLower&&(a.fixLower="minor")),n||("minor"==a.fixUpper&&(a.fixUpper="micro"),"minor"==a.fixLower&&(a.fixLower="micro")),t||("micro"==a.fixUpper&&(a.fixUpper="none"),"micro"==a.fixLower&&(a.fixLower="none"));var f=o(a.fixLower,["major"])?Math.floor(r/e)*e:o(a.fixLower,["minor"])?Math.floor(r/n)*n:o(a.fixLower,["micro"])?Math.floor(r/t)*unit:r,l=o(a.fixUpper,["major"])?Math.ceil(i/e)*e:o(a.fixUpper,["minor"])?Math.ceil(i/n)*n:o(a.fixUpper,["unit"])?Math.ceil(i/unit)*unit:i,m=o(a.fixLower,["major"])||!e?f:Math.ceil(f/e)*e,p=o(a.fixLower,["major","minor"])||!n?f:Math.ceil(f/n)*n,h=o(a.fixLower,["major","minor","micro"])||!t?f:Math.ceil(f/t)*t,u=e?(o(a.fixUpper,["major"])?Math.round((l-m)/e):Math.floor((l-m)/e))+1:0,x=n?(o(a.fixUpper,["major","minor"])?Math.round((l-p)/n):Math.floor((l-p)/n))+1:0,M=t?(o(a.fixUpper,["major","minor","micro"])?Math.round((l-h)/t):Math.floor((l-h)/t))+1:0,s=n?Math.round(e/n):0,j=t?Math.round(n/t):0,k=e?Math.floor(Math.log(e)/Math.LN10):0,w=n?Math.floor(Math.log(n)/Math.LN10):0,L=c/(l-f);return isFinite(L)||(L=1),{bounds:{lower:f,upper:l},major:{tick:e,start:m,count:u,prec:k},minor:{tick:n,start:p,count:x,prec:w},micro:{tick:t,start:h,count:M,prec:0},minorPerMajor:s,microPerMinor:j,scale:L}};dojox.charting.scaler=function(o,a,e,n){var t={fixUpper:"none",fixLower:"none",natural:!1};if(n&&("fixUpper"in n&&(t.fixUpper=String(n.fixUpper)),"fixLower"in n&&(t.fixLower=String(n.fixLower)),"natural"in n&&(t.natural=Boolean(n.natural))),o>=a)return i(o,a,t,0,0,0,e);var c,f=Math.floor(Math.log(a-o)/Math.LN10),l=n&&"majorTick"in n?n.majorTick:Math.pow(10,f),m=0,p=0;if(n&&"minorTick"in n)m=n.minorTick;else do{if(m=l/10,(!t.natural||m>.9)&&(c=i(o,a,t,l,m,0,e),c.scale*c.minor.tick>r))break;if(m=l/5,(!t.natural||m>.9)&&(c=i(o,a,t,l,m,0,e),c.scale*c.minor.tick>r))break;if(m=l/2,(!t.natural||m>.9)&&(c=i(o,a,t,l,m,0,e),c.scale*c.minor.tick>r))break;return i(o,a,t,l,0,0,e)}while(!1);if(n&&"microTick"in n)p=n.microTick,c=i(o,a,t,l,m,p,e);else do{if(p=m/10,(!t.natural||p>.9)&&(c=i(o,a,t,l,m,p,e),c.scale*c.micro.tick>r))break;if(p=m/5,(!t.natural||p>.9)&&(c=i(o,a,t,l,m,p,e),c.scale*c.micro.tick>r))break;if(p=m/2,(!t.natural||p>.9)&&(c=i(o,a,t,l,m,p,e),c.scale*c.micro.tick>r))break;p=0}while(!1);return p?c:i(o,a,t,l,m,0,e)}}());