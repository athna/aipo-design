dojo._xdResourceLoaded({depends:[["require","dojox.gfx.svg"]],defineResource:function(t){t.require("dojox.gfx.svg"),t.experimental("dojox.gfx.svg_attach"),function(){dojox.gfx.attachNode=function(t){if(!t)return null;var o=null;switch(t.tagName.toLowerCase()){case dojox.gfx.Rect.nodeType:o=new dojox.gfx.Rect(t),l(o);break;case dojox.gfx.Ellipse.nodeType:o=new dojox.gfx.Ellipse(t),n(o,dojox.gfx.defaultEllipse);break;case dojox.gfx.Polyline.nodeType:o=new dojox.gfx.Polyline(t),n(o,dojox.gfx.defaultPolyline);break;case dojox.gfx.Path.nodeType:o=new dojox.gfx.Path(t),n(o,dojox.gfx.defaultPath);break;case dojox.gfx.Circle.nodeType:o=new dojox.gfx.Circle(t),n(o,dojox.gfx.defaultCircle);break;case dojox.gfx.Line.nodeType:o=new dojox.gfx.Line(t),n(o,dojox.gfx.defaultLine);break;case dojox.gfx.Image.nodeType:o=new dojox.gfx.Image(t),n(o,dojox.gfx.defaultImage);break;case dojox.gfx.Text.nodeType:var f=t.getElementsByTagName("textPath");f&&f.length?(o=new dojox.gfx.TextPath(t),n(o,dojox.gfx.defaultPath),x(o)):(o=new dojox.gfx.Text(t),d(o)),i(o);break;default:return null}return o instanceof dojox.gfx.Image||(e(o),r(o)),a(o),o},dojox.gfx.attachSurface=function(t){var e=new dojox.gfx.Surface;e.rawNode=t;var o=t.getElementsByTagName("defs");return 0==o.length?null:(e.defNode=o[0],e)};var e=function(e){var r=e.rawNode.getAttribute("fill");if("none"==r)return e.fillStyle=null,void 0;var a=null,i=dojox.gfx.svg.getRef(r);if(ref)switch(i.tagName.toLowerCase()){case"lineargradient":a=o(dojox.gfx.defaultLinearGradient,i),t.forEach(["x1","y1","x2","y2"],function(t){a[t]=i.getAttribute(t)});break;case"radialgradient":a=o(dojox.gfx.defaultRadialGradient,i),t.forEach(["cx","cy","r"],function(t){a[t]=i.getAttribute(t)}),a.cx=i.getAttribute("cx"),a.cy=i.getAttribute("cy"),a.r=i.getAttribute("r");break;case"pattern":a=t.lang.shallowCopy(dojox.gfx.defaultPattern,!0),t.forEach(["x","y","width","height"],function(t){a[t]=i.getAttribute(t)}),a.src=i.firstChild.getAttributeNS(dojox.gfx.svg.xmlns.xlink,"href")}else{a=new t.Color(r);var n=rawNode.getAttribute("fill-opacity");null!=n&&(a.a=n)}e.fillStyle=a},o=function(e,o){var r=t.clone(e);r.colors=[];for(var a=0;a<o.childNodes.length;++a)r.colors.push({offset:o.childNodes[a].getAttribute("offset"),color:new t.Color(o.childNodes[a].getAttribute("stop-color"))});return r},r=function(e){var o=e.rawNode,r=o.getAttribute("stroke");if(null==r||"none"==r)return e.strokeStyle=null,void 0;var a=e.strokeStyle=t.clone(dojox.gfx.defaultStroke),i=new t.Color(r);i&&(a.color=i,a.color.a=o.getAttribute("stroke-opacity"),a.width=o.getAttribute("stroke-width"),a.cap=o.getAttribute("stroke-linecap"),a.join=o.getAttribute("stroke-linejoin"),"miter"==a.join&&(a.join=o.getAttribute("stroke-miterlimit")),a.style=o.getAttribute("dojoGfxStrokeStyle"))},a=function(t){var e=t.rawNode.getAttribute("transform");if(e.match(/^matrix\(.+\)$/)){var o=e.slice(7,-1).split(",");t.matrix=dojox.gfx.matrix.normalize({xx:parseFloat(o[0]),xy:parseFloat(o[2]),yx:parseFloat(o[1]),yy:parseFloat(o[3]),dx:parseFloat(o[4]),dy:parseFloat(o[5])})}else t.matrix=null},i=function(e){var o=e.fontStyle=t.clone(dojox.gfx.defaultFont),r=e.rawNode;o.style=r.getAttribute("font-style"),o.variant=r.getAttribute("font-variant"),o.weight=r.getAttribute("font-weight"),o.size=r.getAttribute("font-size"),o.family=r.getAttribute("font-family")},n=function(e,o){var r=e.shape=t.clone(o),a=e.rawNode;for(var i in r)r[i]=a.getAttribute(i)},l=function(t){n(t,dojox.gfx.defaultRect),t.shape.r=Math.min(t.rawNode.getAttribute("rx"),t.rawNode.getAttribute("ry"))},d=function(e){var o=e.shape=t.clone(dojox.gfx.defaultText),r=e.rawNode;o.x=r.getAttribute("x"),o.y=r.getAttribute("y"),o.align=r.getAttribute("text-anchor"),o.decoration=r.getAttribute("text-decoration"),o.rotated=0!=parseFloat(r.getAttribute("rotate")),o.kerning="auto"==r.getAttribute("kerning"),o.text=r.firstChild.nodeValue},x=function(e){var o=e.shape=t.clone(dojox.gfx.defaultTextPath),r=e.rawNode;o.align=r.getAttribute("text-anchor"),o.decoration=r.getAttribute("text-decoration"),o.rotated=0!=parseFloat(r.getAttribute("rotate")),o.kerning="auto"==r.getAttribute("kerning"),o.text=r.firstChild.nodeValue}}()}});