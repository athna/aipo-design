dojo._xdResourceLoaded({depends:[["provide","aipo.widget.DropdownMemberpicker"],["require","aimluck.widget.Dropdown"],["require","aipo.widget.MemberSelectList"]],defineResource:function(e){e._hasResource["aipo.widget.DropdownMemberpicker"]||(e._hasResource["aipo.widget.DropdownMemberpicker"]=!0,e.provide("aipo.widget.DropdownMemberpicker"),e.require("aimluck.widget.Dropdown"),e.require("aipo.widget.MemberSelectList"),e.declare("aipo.widget.DropdownMemberpicker",[aimluck.widget.Dropdown],{inputWidth:"250px",hiddenId:"",hiddenValue:"",iconURL:"",iconAlt:"",selectId:"",inputId:"",inputValue:"",buttonAddId:"",buttonRemoveId:"",memberFromId:"",memberToTitle:"",memberToId:"",memberFromUrl:"",memberFromOptionKey:"",memberFromOptionValue:"",groupSelectId:"",groupSelectPreOptionKey:"",groupSelectPreOptionValue:"",groupSelectOptionKey:"",groupSelectOptionValue:"",memberGroupUrl:"",changeGroupUrl:"",listWidgetId:"memberlistwidget",templateString:'<div class="dijit dijitLeft dijitInline"\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey"\n	><div class=\'dijitRight\'>\n	<span class="" type="${type}"\n		dojoAttachPoint="focusNode,titleNode" waiRole="button" waiState="haspopup-true,labelledby-${id}_label"\n		><span class="" 	dojoAttachPoint="containerNode,popupStateNode"\n		id="${id}_label"><img src="${iconURL}" alt="${iconAlt}" style="cursor:pointer;cursor:hand;padding-right:2px" align="top" />\n	</span><select name="${selectId}" id="${selectId}" size="10" multiple="multiple" style="display:none" dojoAttachPoint="selectNode"></select><input type="hidden" id="${hiddenId}" name="${hiddenId}" value="${hiddenValue}" dojoAttachPoint="valueNode" /><span name="${inputId}" id="${inputId}" dojoAttachPoint="inputNode">${inputValue}</span>\n</div></div>\n',postCreate:function(){var t={widgetId:this.listWidgetId,selectId:this.selectId,inputId:this.inputId,buttonAddId:this.buttonAddId,buttonRemoveId:this.buttonRemoveId,memberFromId:this.memberFromId,memberToTitle:this.memberToTitle,memberToId:this.memberToId,memberFromUrl:this.memberFromUrl,memberFromOptionKey:this.memberFromOptionKey,memberFromOptionValue:this.memberFromOptionValue,groupSelectId:this.groupSelectId,groupSelectPreOptionKey:this.groupSelectPreOptionKey,groupSelectPreOptionValue:this.groupSelectPreOptionValue,groupSelectOptionKey:this.groupSelectOptionKey,groupSelectOptionValue:this.groupSelectOptionValue,memberGroupUrl:this.memberGroupUrl,changeGroupUrl:this.changeGroupUrl},o=dijit.byId(this.listWidgetId);if(o){this.dropDown=o;var i=e.byId(o.selectId);this.removeAllOptions(i),i=e.byId(o.memberToId),this.removeAllOptions(i)}else this.dropDown=new aipo.widget.MemberSelectList(t,this.listWidgetId);this.inherited(arguments)},removeAllOptions:function(e){var t;if(document.all){var o=e.options;for(t=0;t<o.length;t++)o.remove(t),t-=1}else{var o=e.options;for(t=0;t<o.length;t++)e.removeChild(o[t]),t-=1}},addOptionSync:function(t,o,i){var n=e.byId(this.memberToId),r=e.byId(this.selectId);if(!(0!=this.memberLimit&&n.options.length>=this.memberLimit)){if(document.all){var d=document.createElement("OPTION");d.value=t,d.text=o,d.selected=i;var l=document.createElement("OPTION");l.value=t,l.text=o,l.selected=i,1==n.options.length&&""==n.options[0].value&&(n.options.remove(0),r.options.remove(0)),n.add(d,n.options.length),r.add(l,r.options.length)}else{var d=document.createElement("OPTION");d.value=t,d.text=o,d.selected=i;var l=document.createElement("OPTION");l.value=t,l.text=o,l.selected=i,1==n.options.length&&""==n.options[0].value&&(n.removeChild(n.options[0]),r.removeChild(n.options[0])),n.insertBefore(d,n.options[n.options.length]),r.insertBefore(l,r.options[r.options.length])}this.inputMemberSync()}},inputMemberSync:function(){var t=e.byId(this.selectId),o=e.byId(this.inputId),i="",n=t.options,r=0,d=n.length;if(!(0>=d)){for(r=0;d>r;r++)0!=r&&(i+=", "),i+=n[r].text;o.innerHTML=i}}}))}});