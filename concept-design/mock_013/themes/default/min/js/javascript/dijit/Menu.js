dojo._hasResource["dijit.Menu"]||(dojo._hasResource["dijit.Menu"]=!0,dojo.provide("dijit.Menu"),dojo.require("dijit._Widget"),dojo.require("dijit._Container"),dojo.require("dijit._Templated"),dojo.declare("dijit.Menu",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{constructor:function(){this._bindings=[]},templateString:'<table class="dijit dijitMenu dijitReset dijitMenuTable" waiRole="menu" dojoAttachEvent="onkeypress:_onKeyPress"><tbody class="dijitReset" dojoAttachPoint="containerNode"></tbody></table>',targetNodeIds:[],contextMenuForWindow:!1,parentMenu:null,popupDelay:500,_contextMenuWithMouse:!1,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(dojo.body()):dojo.forEach(this.targetNodeIds,this.bindDomNode,this),this.connectKeyNavHandlers([dojo.keys.UP_ARROW],[dojo.keys.DOWN_ARROW])},startup:function(){dojo.forEach(this.getChildren(),function(t){t.startup()}),this.startupKeyNavChildren()},onExecute:function(){},onCancel:function(){},_moveToPopup:function(t){this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled&&this.focusedChild._onClick(t)},_onKeyPress:function(t){if(!t.ctrlKey&&!t.altKey)switch(t.keyCode){case dojo.keys.RIGHT_ARROW:this._moveToPopup(t),dojo.stopEvent(t);break;case dojo.keys.LEFT_ARROW:this.parentMenu?this.onCancel(!1):dojo.stopEvent(t)}},onItemHover:function(t){this.focusChild(t),!this.focusedChild.popup||this.focusedChild.disabled||this.hover_timer||(this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay))},_onChildBlur:function(t){dijit.popup.close(t.popup),t._blur(),this._stopPopupTimer()},onItemUnhover:function(){},_stopPopupTimer:function(){this.hover_timer&&(clearTimeout(this.hover_timer),this.hover_timer=null)},_getTopMenu:function(){for(var t=this;t.parentMenu;t=t.parentMenu);return t},onItemClick:function(t){return t.disabled?!1:(t.popup?this.is_open||this._openPopup():(this.onExecute(),t.onClick()),void 0)},_iframeContentWindow:function(t){var o=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(t))||dijit.Menu._iframeContentDocument(t).__parent__||t.name&&document.frames[t.name]||null;return o},_iframeContentDocument:function(t){var o=t.contentDocument||t.contentWindow&&t.contentWindow.document||t.name&&document.frames[t.name]&&document.frames[t.name].document||null;return o},bindDomNode:function(t){t=dojo.byId(t);var o=dijit.getDocumentWindow(t.ownerDocument);"iframe"==t.tagName.toLowerCase()&&(o=this._iframeContentWindow(t),t=dojo.withGlobal(o,dojo.body));var e=t==dojo.body()?dojo.doc:t;t[this.id]=this._bindings.push([dojo.connect(e,"oncontextmenu",this,"_openMyself"),dojo.connect(e,"onkeydown",this,"_contextKey"),dojo.connect(e,"onmousedown",this,"_contextMouse")])},unBindDomNode:function(t){var o=dojo.byId(t),e=o[this.id]-1,i=this._bindings[e];dojo.forEach(i,dojo.disconnect),delete this._bindings[e]},_contextKey:function(t){if(this._contextMenuWithMouse=!1,t.keyCode==dojo.keys.F10&&(dojo.stopEvent(t),t.shiftKey&&"keydown"==t.type)){var o={target:t.target,pageX:t.pageX,pageY:t.pageY};o.preventDefault=o.stopPropagation=function(){},window.setTimeout(dojo.hitch(this,function(){this._openMyself(o)}),1)}},_contextMouse:function(){this._contextMenuWithMouse=!0},_openMyself:function(t){function o(){dijit.focus(s),dijit.popup.close(d)}dojo.stopEvent(t);var e,i;if(dojo.isSafari||this._contextMenuWithMouse)e=t.pageX,i=t.pageY;else{var n=dojo.coords(t.target,!0);e=n.x+10,i=n.y+10}var d=this,s=dijit.getFocus(this);dijit.popup.open({popup:this,x:e,y:i,onExecute:o,onCancel:o,orient:this.isLeftToRight()?"L":"R"}),this.focus(),this._onBlur=function(){dijit.popup.close(this)}},onOpen:function(){this.isShowingNow=!0},onClose:function(){this._stopPopupTimer(),this.parentMenu=null,this.isShowingNow=!1,this.currentPopup=null,this.focusedChild&&(this._onChildBlur(this.focusedChild),this.focusedChild=null)},_openPopup:function(){this._stopPopupTimer();var t=this.focusedChild,o=t.popup;if(!o.isShowingNow){o.parentMenu=this;var e=this;dijit.popup.open({parent:this,popup:o,around:t.arrowCell,orient:this.isLeftToRight()?{TR:"TL",TL:"TR"}:{TL:"TR",TR:"TL"},onCancel:function(){dijit.popup.close(o),t.focus(),e.currentPopup=null}}),this.currentPopup=o,o.focus&&o.focus()}}}),dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:'<tr class="dijitReset dijitMenuItem"dojoAttachEvent="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick"><td class="dijitReset"><div class="dijitMenuItemIcon ${iconClass}" dojoAttachPoint="iconNode" ></div></td><td tabIndex="-1" class="dijitReset dijitMenuItemLabel" dojoAttachPoint="containerNode" waiRole="menuitem"></td><td class="dijitReset" dojoAttachPoint="arrowCell"><div class="dijitMenuExpand" dojoAttachPoint="expand" style="display:none"><span class="dijitInline dijitArrowNode dijitMenuExpandInner">+</span></div></td></tr>',label:"",iconClass:"",disabled:!1,postCreate:function(){dojo.setSelectable(this.domNode,!1),this.setDisabled(this.disabled),this.label&&(this.containerNode.innerHTML=this.label)},_onHover:function(){this.getParent().onItemHover(this)},_onUnhover:function(){this.getParent().onItemUnhover(this)},_onClick:function(t){this.getParent().onItemClick(this),dojo.stopEvent(t)},onClick:function(){},focus:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");try{dijit.focus(this.containerNode)}catch(t){}},_blur:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover")},setDisabled:function(t){this.disabled=t,dojo[t?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled"),dijit.setWaiState(this.containerNode,"disabled",t?"true":"false")}}),dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var t=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,t[0]),this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this.popup){var t=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(t)}dojo.body().appendChild(this.popup.domNode),this.popup.domNode.style.display="none",dojo.addClass(this.expand,"dijitMenuExpandEnabled"),dojo.style(this.expand,"display",""),dijit.setWaiState(this.containerNode,"haspopup","true")}}),dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:'<tr class="dijitMenuSeparator"><td colspan=3><div class="dijitMenuSeparatorTop"></div><div class="dijitMenuSeparatorBottom"></div></td></tr>',postCreate:function(){dojo.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}}));