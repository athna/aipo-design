dojo._xdResourceLoaded({depends:[["provide","dijit.form.FilteringSelect"],["require","dijit.form.ComboBox"]],defineResource:function(t){t._hasResource["dijit.form.FilteringSelect"]||(t._hasResource["dijit.form.FilteringSelect"]=!0,t.provide("dijit.form.FilteringSelect"),t.require("dijit.form.ComboBox"),t.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{labelAttr:"",labelType:"text",_isvalid:!0,isValid:function(){return this._isvalid},_callbackSetLabel:function(t,e,i){e&&e.query[this.searchAttr]!=this._lastQuery||(t.length?this._setValueFromItem(t[0],i):(this._hasFocus||(this.valueNode.value=""),dijit.form.TextBox.superclass.setValue.call(this,void 0,!this._hasFocus),this._isvalid=!1,this.validate(this._hasFocus)))},_openResultList:function(t,e){e.query[this.searchAttr]==this._lastQuery&&(this._isvalid=0!=t.length,this.validate(!0),dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments))},getValue:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValue:function(t,e,i){this.valueNode.value=t,dijit.form.FilteringSelect.superclass.setValue.call(this,t,i,e),this._lastDisplayedValue=e},setValue:function(t,e){var i=this,s=function(t,e){t?i.store.isItemLoaded(t)?i._callbackSetLabel([t],void 0,e):i.store.loadItem({item:t,onItem:function(t,s){i._callbackSetLabel(t,s,e)}}):(i._isvalid=!1,i.validate(!1))};this.store.fetchItemByIdentity({identity:t,onItem:function(t){s(t,e)}})},_setValueFromItem:function(t,e){this._isvalid=!0,this._setValue(this.store.getIdentity(t),this.labelFunc(t,this.store),e)},labelFunc:function(t,e){return e.getValue(t,this.searchAttr)},onkeyup:function(){},_doSelect:function(t){this.item=t.item,this._setValueFromItem(t.item,!0)},setDisplayedValue:function(e){if(this.store){var i={};this._lastQuery=i[this.searchAttr]=e,this.textbox.value=e,this._lastDisplayedValue=e,this.store.fetch({query:i,queryOptions:{ignoreCase:this.ignoreCase,deep:!0},onComplete:t.hitch(this,this._callbackSetLabel)})}},_getMenuLabelFromItem:function(t){return this.labelAttr?{html:"html"==this.labelType,label:this.store.getValue(t,this.labelAttr)}:dijit.form.ComboBoxMixin.prototype._getMenuLabelFromItem.apply(this,arguments)},postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments),dijit.form.MappedTextBox.prototype.postMixInProperties.apply(this,arguments)}}))}});