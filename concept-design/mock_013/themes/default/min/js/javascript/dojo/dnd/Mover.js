dojo._hasResource["dojo.dnd.Mover"]||(dojo._hasResource["dojo.dnd.Mover"]=!0,dojo.provide("dojo.dnd.Mover"),dojo.require("dojo.dnd.common"),dojo.require("dojo.dnd.autoscroll"),dojo.declare("dojo.dnd.Mover",null,{constructor:function(o,t,n){this.node=dojo.byId(o),this.marginBox={l:t.pageX,t:t.pageY},this.mouseButton=t.button;var e=this.host=n,s=o.ownerDocument,d=dojo.connect(s,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(s,"onmousemove",this,"onMouseMove"),dojo.connect(s,"onmouseup",this,"onMouseUp"),dojo.connect(s,"ondragstart",dojo,"stopEvent"),dojo.connect(s,"onselectstart",dojo,"stopEvent"),d],e&&e.onMoveStart&&e.onMoveStart(this)},onMouseMove:function(o){dojo.dnd.autoScroll(o);var t=this.marginBox;this.host.onMove(this,{l:t.l+o.pageX,t:t.t+o.pageY})},onMouseUp:function(o){this.mouseButton==o.button&&this.destroy()},onFirstMove:function(){this.node.style.position="absolute";var o=dojo.marginBox(this.node);o.l-=this.marginBox.l,o.t-=this.marginBox.t,this.marginBox=o,this.host.onFirstMove(this),dojo.disconnect(this.events.pop())},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var o=this.host;o&&o.onMoveStop&&o.onMoveStop(this),this.events=this.node=null}}));