dojo._xdResourceLoaded({depends:[["provide","dojox.color.Colorspace"],["require","dojox.math.matrix"]],defineResource:function(o){o._hasResource["dojox.color.Colorspace"]||(o._hasResource["dojox.color.Colorspace"]=!0,o.provide("dojox.color.Colorspace"),o.require("dojox.math.matrix"),dojox.color.Colorspace=new function(){var t=dojox.color,r=dojox.math.matrix,n=this,u={2:{E:{x:1/3,y:1/3,t:5400},D50:{x:.34567,y:.3585,t:5e3},D55:{x:.33242,y:.34743,t:5500},D65:{x:.31271,y:.32902,t:6500},D75:{x:.29902,y:.31485,t:7500},A:{x:.44757,y:.40745,t:2856},B:{x:.34842,y:.35161,t:4874},C:{x:.31006,y:.31616,t:6774},9300:{x:.2848,y:.2932,t:9300},F2:{x:.37207,y:.37512,t:4200},F7:{x:.31285,y:.32918,t:6500},F11:{x:.38054,y:.37691,t:4e3}},10:{E:{x:1/3,y:1/3,t:5400},D50:{x:.34773,y:.35952,t:5e3},D55:{x:.33411,y:.34877,t:5500},D65:{x:.31382,y:.331,t:6500},D75:{x:.29968,y:.3174,t:7500},A:{x:.45117,y:.40594,t:2856},B:{x:.3498,y:.3527,t:4874},C:{x:.31039,y:.31905,t:6774},F2:{x:.37928,y:.36723,t:4200},F7:{x:.31565,y:.32951,t:6500},F11:{x:.38543,y:.3711,t:4e3}}},e={"Adobe RGB 98":[2.2,"D65",.64,.33,.297361,.21,.71,.627355,.15,.06,.075285],"Apple RGB":[1.8,"D65",.625,.34,.244634,.28,.595,.672034,.155,.07,.083332],"Best RGB":[2.2,"D50",.7347,.2653,.228457,.215,.775,.737352,.13,.035,.034191],"Beta RGB":[2.2,"D50",.6888,.3112,.303273,.1986,.7551,.663786,.1265,.0352,.032941],"Bruce RGB":[2.2,"D65",.64,.33,.240995,.28,.65,.683554,.15,.06,.075452],"CIE RGB":[2.2,"E",.735,.265,.176204,.274,.717,.812985,.167,.009,.010811],"ColorMatch RGB":[1.8,"D50",.63,.34,.274884,.295,.605,.658132,.15,.075,.066985],"DON RGB 4":[2.2,"D50",.696,.3,.27835,.215,.765,.68797,.13,.035,.03368],"ECI RGB":[1.8,"D50",.67,.33,.32025,.21,.71,.602071,.14,.08,.077679],"EktaSpace PS5":[2.2,"D50",.695,.305,.260629,.26,.7,.734946,.11,.005,.004425],"NTSC RGB":[2.2,"C",.67,.33,.298839,.21,.71,.586811,.14,.08,.11435],"PAL/SECAM RGB":[2.2,"D65",.64,.33,.222021,.29,.6,.706645,.15,.06,.071334],"Pro Photo RGB":[1.8,"D50",.7347,.2653,.28804,.1596,.8404,.711874,.0366,1e-4,86e-6],"SMPTE/C RGB":[2.2,"D65",.63,.34,.212395,.31,.595,.701049,.155,.07,.086556],sRGB:[2.2,"D65",.64,.33,.212656,.3,.6,.715158,.15,.06,.072186],"Wide Gamut RGB":[2.2,"D50",.735,.265,.258187,.115,.826,.724938,.157,.018,.016875]},a={"XYZ scaling":{ma:[[1,0,0],[0,1,0],[0,0,1]],mai:[[1,0,0],[0,1,0],[0,0,1]]},Bradford:{ma:[[.8951,-.7502,.0389],[.2664,1.7135,-.0685],[-.1614,.0367,1.0296]],mai:[[.986993,.432305,-.008529],[-.147054,.51836,.040043],[.159963,.049291,.968487]]},"Von Kries":{ma:[[.40024,-.2263,0],[.7076,1.16532,0],[-.08081,.0457,.91822]],mai:[[1.859936,.361191,0],[-1.129382,.638812,0],[.219897,-6e-6,1.089064]]}},i={XYZ:{xyY:function(t,r){r=o.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},r||{});var u=n.whitepoint(r.whitepoint,r.observer),e=t.X+t.Y+t.Z;if(0==e)var a=u.x,i=u.y;else var a=t.X/e,i=t.Y/e;return{x:a,y:i,Y:t.Y}},Lab:function(t,r){r=o.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},r||{});var u=n.kappa(r.useApproximation),e=n.epsilon(r.useApproximation),a=n.whitepoint(r.whitepoint,r.observer),i=t.X/a.x,Y=t.Y/a.y,L=t.z/a.z,f=i>e?Math.pow(i,1/3):(u*i+16)/116,c=Y>e?Math.pow(Y,1/3):(u*Y+16)/116,p=L>e?Math.pow(L,1/3):(u*L+16)/116,v=116*c-16,m=500*(f-c),X=200*(c-p);return{L:v,a:m,b:X}},Luv:function(t,r){r=o.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},r||{});var u=n.kappa(r.useApproximation),e=n.epsilon(r.useApproximation),a=n.whitepoint(r.whitepoint,r.observer),i=4*t.X/(t.X+15*t.Y+3*t.Z),Y=9*t.Y/(t.X+15*t.Y+3*t.Z),L=4*a.x/(a.x+15*a.y+3*a.z),f=9*a.y/(a.x+15*a.y+3*a.z),c=t.Y/a.y,p=c>e?116*Math.pow(c,1/3)-16:u*c,v=13*p*(i-L),m=13*p*(Y-f);return{L:p,u:v,v:m}}},xyY:{XYZ:function(o){if(0==o.y)var t=0,r=0,n=0;else var t=o.x*o.Y/o.y,r=o.Y,n=(1-o.x-o.y)*o.Y/o.y;return{X:t,Y:r,Z:n}}},Lab:{XYZ:function(t,r){r=o.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},r||{});var u=r.useApproximation,e=n.kappa(u),a=n.epsilon(u),i=n.whitepoint(r.whitepoint,r.observer),Y=t.L>e*a?Math.pow((t.L+16)/116,3):t.L/e,L=Y>a?(t.L+16)/116:(e*Y+16)/116,f=t.a/500+L,c=L-t.b/200,p=Math.pow(f,3),v=Math.pow(c,3),m=p>a?p:(116*f-16)/e,X=v>a?v:(116*c-16)/e;return{X:m*i.x,Y:Y*i.y,Z:X*i.z}},LCHab:function(o){var t=o.L,r=Math.pow(o.a*o.a+o.b*o.b,.5),n=Math.atan(o.b,o.a)*(180/Math.PI);return 0>n&&(n+=360),360>n&&(n-=360),{L:t,C:r,H:n}}},LCHab:{Lab:function(o){var t=o.H*(Math.PI/180),r=o.L,n=o.C/Math.pow(Math.pow(Math.tan(t),2)+1,.5);lchH>90&&o.H<270&&(n=-n);var u=Math.pow(Math.pow(o.C,2)-Math.pow(n,2),.5);return o.H>180&&(u=-u),{L:r,a:n,b:u}}},Luv:{XYZ:function(t,r){r=o.mixin({whitepoint:"D65",observer:"10",useApproximation:!0},r||{});var u=r.useApproximation,e=n.kappa(u),a=n.epsilon(u),i=n.whitepoint(r.whitepoint,r.observer),Y=4*i.x/(i.x+15*i.y+3*i.z),L=9*i.y/(i.x+15*i.y+3*i.z),f=t.L>e*a?Math.pow((t.L+16)/116,3):t.L/e,c=1/3*(52*t.L/(t.u+13*t.L*Y)-1),u=-5*f,p=-(1/3),v=f*(39*t.L/(t.v+13*t.L*L)-5),m=(v-u)/(c-p),X=m*c+u;return{X:m,Y:f,Z:X}},LCHuv:function(o){var t=o.L,r=Math.pow(o.u*o.u+o.v*o*v,.5),n=Math.atan(o.v,o.u)*(180/Math.PI);return 0>n&&(n+=360),n>360&&(n-=360),{L:t,C:r,H:n}}},LCHuv:{Luv:function(o){var t=o.H*(Math.PI/180),r=o.L,n=o.C/Math.pow(Math.pow(Math.tan(t),2)+1,.5),u=Math.pow(o.C*o.C-n*n,.5);return 90<o.H&&o.H>270&&(n*=-1),o.H>180&&(u*=-1),{L:r,u:n,v:u}}}},Y={CMY:{CMYK:function(o){return t.fromCmy(o).toCmyk()},HSL:function(o){return t.fromCmy(o).toHsl()},HSV:function(o){return t.fromCmy(o).toHsv()},Lab:function(o,r){return i.XYZ.Lab(t.fromCmy(o).toXYZ(r))},LCHab:function(o){return i.Lab.LCHab(Y.CMY.Lab(o))},LCHuv:function(o,r){return i.LCHuv.Luv(i.Luv.XYZ(t.fromCmy(o).toXYZ(r)))},Luv:function(o,r){return i.Luv.XYZ(t.fromCmy(o).toXYZ(r))},RGB:function(o){return t.fromCmy(o)},XYZ:function(o,r){return t.fromCmy(o).toXYZ(r)},xyY:function(o,r){return i.XYZ.xyY(t.fromCmy(o).toXYZ(r))}},CMYK:{CMY:function(o){return t.fromCmyk(o).toCmy()},HSL:function(o){return t.fromCmyk(o).toHsl()},HSV:function(o){return t.fromCmyk(o).toHsv()},Lab:function(o,r){return i.XYZ.Lab(t.fromCmyk(o).toXYZ(r))},LCHab:function(o){return i.Lab.LCHab(Y.CMYK.Lab(o))},LCHuv:function(o,r){return i.LCHuv.Luv(i.Luv.XYZ(t.fromCmyk(o).toXYZ(r)))},Luv:function(o,r){return i.Luv.XYZ(t.fromCmyk(o).toXYZ(r))},RGB:function(o){return t.fromCmyk(o)},XYZ:function(o,r){return t.fromCmyk(o).toXYZ(r)},xyY:function(o,r){return i.XYZ.xyY(t.fromCmyk(o).toXYZ(r))}},HSL:{CMY:function(o){return t.fromHsl(o).toCmy()},CMYK:function(o){return t.fromHsl(o).toCmyk()},HSV:function(o){return t.fromHsl(o).toHsv()},Lab:function(o,r){return i.XYZ.Lab(t.fromHsl(o).toXYZ(r))},LCHab:function(o){return i.Lab.LCHab(Y.CMYK.Lab(o))},LCHuv:function(o,r){return i.LCHuv.Luv(i.Luv.XYZ(t.fromHsl(o).toXYZ(r)))},Luv:function(o,r){return i.Luv.XYZ(t.fromHsl(o).toXYZ(r))},RGB:function(o){return t.fromHsl(o)},XYZ:function(o,r){return t.fromHsl(o).toXYZ(r)},xyY:function(o,r){return i.XYZ.xyY(t.fromHsl(o).toXYZ(r))}},HSV:{CMY:function(o){return t.fromHsv(o).toCmy()},CMYK:function(o){return t.fromHsv(o).toCmyk()},HSL:function(o){return t.fromHsv(o).toHsl()},Lab:function(o,r){return i.XYZ.Lab(t.fromHsv(o).toXYZ(r))},LCHab:function(o){return i.Lab.LCHab(Y.CMYK.Lab(o))},LCHuv:function(o,r){return i.LCHuv.Luv(i.Luv.XYZ(t.fromHsv(o).toXYZ(r)))},Luv:function(o,r){return i.Luv.XYZ(t.fromHsv(o).toXYZ(r))},RGB:function(o){return t.fromHsv(o)},XYZ:function(o,r){return t.fromHsv(o).toXYZ(r)},xyY:function(o,r){return i.XYZ.xyY(t.fromHsv(o).toXYZ(r))}},Lab:{CMY:function(o,r){return t.fromXYZ(i.Lab.XYZ(o,r)).toCmy()},CMYK:function(o,r){return t.fromXYZ(i.Lab.XYZ(o,r)).toCmyk()},HSL:function(o,r){return t.fromXYZ(i.Lab.XYZ(o,r)).toHsl()},HSV:function(o,r){return t.fromXYZ(i.Lab.XYZ(o,r)).toHsv()},LCHab:function(o,t){return i.Lab.LCHab(o,t)},LCHuv:function(o,t){return i.Luv.LCHuv(i.Lab.XYZ(o,t),t)},Luv:function(o,t){return i.XYZ.Luv(i.Lab.XYZ(o,t),t)},RGB:function(o,r){return t.fromXYZ(i.Lab.XYZ(o,r))},XYZ:function(o,t){return i.Lab.XYZ(o,t)},xyY:function(o,t){return i.XYZ.xyY(i.Lab.XYZ(o,t),t)}},LCHab:{CMY:function(o,r){return t.fromXYZ(i.Lab.XYZ(i.LCHab.Lab(o),r),r).toCmy()},CMYK:function(o,r){return t.fromXYZ(i.Lab.XYZ(i.LCHab.Lab(o),r),r).toCmyk()},HSL:function(o,r){return t.fromXYZ(i.Lab.XYZ(i.LCHab.Lab(o),r),r).toHsl()},HSV:function(o,r){return t.fromXYZ(i.Lab.XYZ(i.LCHab.Lab(o),r),r).toHsv()},Lab:function(o,t){return i.Lab.LCHab(o,t)},LCHuv:function(o,t){return i.Luv.LCHuv(i.XYZ.Luv(i.Lab.XYZ(i.LCHab.Lab(o),t),t),t)},Luv:function(o,t){return i.XYZ.Luv(i.Lab.XYZ(i.LCHab.Lab(o),t),t)},RGB:function(o,r){return t.fromXYZ(i.Lab.XYZ(i.LCHab.Lab(o),r),r)},XYZ:function(o,t){return i.Lab.XYZ(i.LCHab.Lab(o,t),t)},xyY:function(o,t){return i.XYZ.xyY(i.Lab.XYZ(i.LCHab.Lab(o),t),t)}},LCHuv:{CMY:function(o,r){return t.fromXYZ(i.Luv.XYZ(i.LCHuv.Luv(o),r),r).toCmy()},CMYK:function(o,r){return t.fromXYZ(i.Luv.XYZ(i.LCHuv.Luv(o),r),r).toCmyk()},HSL:function(o,r){return t.fromXYZ(i.Luv.XYZ(i.LCHuv.Luv(o),r),r).toHsl()},HSV:function(o,r){return t.fromXYZ(i.Luv.XYZ(i.LCHuv.Luv(o),r),r).toHsv()},Lab:function(o,t){return i.XYZ.Lab(i.Luv.XYZ(i.LCHuv.Luv(o),t),t)},LCHab:function(o,t){return i.Lab.LCHab(i.XYZ.Lab(i.Luv.XYZ(i.LCHuv.Luv(o),t),t),t)},Luv:function(o,t){return i.LCHuv.Luv(o,t)},RGB:function(o,r){return t.fromXYZ(i.Luv.XYZ(i.LCHuv.Luv(o),r),r)},XYZ:function(o,t){return i.Luv.XYZ(i.LCHuv.Luv(o),t)},xyY:function(o,t){return i.XYZ.xyY(i.Luv.XYZ(i.LCHuv.Luv(o),t),t)}},Luv:{CMY:function(o,r){return t.fromXYZ(i.Luv.XYZ(o,r),r).toCmy()},CMYK:function(o,r){return t.fromXYZ(i.Luv.XYZ(o,r),r).toCmyk()},HSL:function(o,r){return t.fromXYZ(i.Luv.XYZ(o,r),r).toHsl()},HSV:function(o,r){return t.fromXYZ(i.Luv.XYZ(o,r),r).toHsv()},Lab:function(o,t){return i.XYZ.Lab(i.Luv.XYZ(o,t),t)},LCHab:function(o,t){return i.Lab.LCHab(i.XYZ.Lab(i.Luv.XYZ(o,t),t),t)},LCHuv:function(o,t){return i.Luv.LCHuv(o,t)},RGB:function(o,r){return t.fromXYZ(i.Luv.XYZ(o,r),r)},XYZ:function(o,t){return i.Luv.XYZ(o,t)},xyY:function(o,t){return i.XYZ.xyY(i.Luv.XYZ(o,t),t)}},RGB:{CMY:function(o){return o.toCmy()},CMYK:function(o){return o.toCmyk()},HSL:function(o){return o.toHsl()},HSV:function(o){return o.toHsv()},Lab:function(o,t){return i.XYZ.Lab(o.toXYZ(t),t)},LCHab:function(o,t){return i.LCHab.Lab(i.XYZ.Lab(o.toXYZ(t),t),t)},LCHuv:function(o,t){return i.LCHuv.Luv(i.XYZ.Luv(o.toXYZ(t),t),t)},Luv:function(o,t){return i.XYZ.Luv(o.toXYZ(t),t)},XYZ:function(o,t){return o.toXYZ(t)},xyY:function(o,t){return i.XYZ.xyY(o.toXYZ(t),t)}},XYZ:{CMY:function(o,r){return t.fromXYZ(o,r).toCmy()},CMYK:function(o,r){return t.fromXYZ(o,r).toCmyk()},HSL:function(o,r){return t.fromXYZ(o,r).toHsl()},HSV:function(o,r){return t.fromXYZ(o,r).toHsv()},Lab:function(o,t){return i.XYZ.Lab(o,t)},LCHab:function(o,t){return i.Lab.LCHab(i.XYZ.Lab(o,t),t)},LCHuv:function(o,t){return i.Luv.LCHuv(i.XYZ.Luv(o,t),t)},Luv:function(o,t){return i.XYZ.Luv(o,t)},RGB:function(o,r){return t.fromXYZ(o,r)},xyY:function(o,r){return i.XYZ.xyY(t.fromXYZ(o,r),r)}},xyY:{CMY:function(o,r){return t.fromXYZ(i.xyY.XYZ(o,r),r).toCmy()},CMYK:function(o,r){return t.fromXYZ(i.xyY.XYZ(o,r),r).toCmyk()},HSL:function(o,r){return t.fromXYZ(i.xyY.XYZ(o,r),r).toHsl()},HSV:function(o,r){return t.fromXYZ(i.xyY.XYZ(o,r),r).toHsv()},Lab:function(o,t){return i.Lab.XYZ(i.xyY.XYZ(o,t),t)},LCHab:function(o,t){return i.LCHab.Lab(i.Lab.XYZ(i.xyY.XYZ(o,t),t),t)},LCHuv:function(o,t){return i.LCHuv.Luv(i.Luv.XYZ(i.xyY.XYZ(o,t),t),t)},Luv:function(o,t){return i.Luv.XYZ(i.xyY.XYZ(o,t),t)},RGB:function(o,r){return t.fromXYZ(i.xyY.XYZ(o,r),r)},XYZ:function(o,t){return i.xyY.XYZ(o,t)}}};this.whitepoint=function(o,t){t=t||"10";var r=0,n=0,e=0;u[t]&&u[t][o]?(r=u[t][o].x,n=u[t][o].y,e=u[t][o].t):console.warn("dojox.color.Colorspace::whitepoint: either the observer or the whitepoint name was not found. ",t,o);var a={x:r,y:n,z:1-r-n,t:e,Y:1};return this.convert(a,"xyY","XYZ")},this.tempToWhitepoint=function(o){if(4e3>o)return console.warn("dojox.color.Colorspace::tempToWhitepoint: can't find a white point for temperatures less than 4000K. (Passed ",o,")."),{x:0,y:0};if(o>25e3)return console.warn("dojox.color.Colorspace::tempToWhitepoint: can't find a white point for temperatures greater than 25000K. (Passed ",o,")."),{x:0,y:0};var t=o*o,r=t*o,n=Math.pow(10,9),u=Math.pow(10,6),e=Math.pow(10,3);if(7e3>=o)var a=-4.607*n/r+2.9678*u/t+.09911*e/o+.2444063;else var a=-2.0064*n/r+1.9018*u/t+.24748*e/o+.23704;var i=-3*a*a+2.87*a-.275;return{x:a,y:i}},this.primaries=function(t){t=o.mixin({profile:"sRGB",whitepoint:"D65",observer:"10",adaptor:"Bradford"},t||{});var r=[];e[t.profile]?r=e[t.profile].slice(0):console.warn("dojox.color.Colorspace::primaries: the passed profile was not found.  ","Available profiles include: ",e,".  The profile passed was ",t.profile);var n={name:t.profile,gamma:r[0],whitepoint:r[1],xr:r[2],yr:r[3],Yr:r[4],xg:r[5],yg:r[6],Yg:r[7],xb:r[8],yb:r[9],Yb:r[10]};if(t.whitepoint!=n.whitepoint){var u=this.convert(this.adapt({color:this.convert({x:xr,y:yr,Y:Yr},"xyY","XYZ"),adaptor:t.adaptor,source:n.whitepoint,destination:t.whitepoint}),"XYZ","xyY"),a=this.convert(this.adapt({color:this.convert({x:xg,y:yg,Y:Yg},"xyY","XYZ"),adaptor:t.adaptor,source:n.whitepoint,destination:t.whitepoint}),"XYZ","xyY"),i=this.convert(this.adapt({color:this.convert({x:xb,y:yb,Y:Yb},"xyY","XYZ"),adaptor:t.adaptor,source:n.whitepoint,destination:t.whitepoint}),"XYZ","xyY");n=o.mixin(n,{xr:u.x,yr:u.y,Yr:u.Y,xg:a.x,yg:a.y,Yg:a.Y,xb:i.x,yb:i.y,Yb:i.Y,whitepoint:t.whitepoint})}return o.mixin(n,{zr:1-n.xr-n.yr,zg:1-n.xg-n.yg,zb:1-n.xb-n.yb})},this.adapt=function(t){t.color&&t.source||console.error("dojox.color.Colorspace::adapt: color and source arguments are required. ",t),t=o.mixin({adaptor:"Bradford",destination:"D65"},t);var n=this.whitepoint(t.source),u=this.whitepoint(t.destination);if(a[t.adaptor])var e=a[t.adaptor].ma,i=a[t.adaptor].mai;else console.warn("dojox.color.Colorspace::adapt: the passed adaptor '",t.adaptor,"' was not found.");var Y=r.multiply([[n.x,n.y,n.z]],e),L=r.multiply([[u.x,u.y,u.z]],e),f=[[L[0][0]/Y[0][0],0,0],[0,L[0][1]/Y[0][1],0],[0,0,L[0][2]/Y[0][2]]],c=r.multiply(r.multiply(e,f),i),p=r.multiply([[t.color.X,t.color.Y,t.color.Z]],c)[0];return{X:p[0],Y:p[1],Z:p[2]}},this.matrix=function(o,t){var r=this.whitepoint(t.whitepoint),n=p.xr/p.yr,u=1,e=(1-p.xr-p.yr)/p.yr,a=p.xg/p.yg,i=1,Y=(1-p.xg-p.yg)/p.yg,L=p.xb/p.yb,f=1,e=(1-p.xb-p.yb)/p.yb,c=[[n,u,e],[a,i,Y],[L,f,Zb]],v=[[r.X,r.Y,r.Z]],m=dojox.math.matrix.multiply(v,dojox.math.matrix.inverse(c)),X=m[0][0],Z=m[0][1],s=m[0][2],x=[[X*n,X*u,X*e],[Z*a,Z*i,Z*Y],[s*L,s*f,s*Zb]];return"RGB"==o?dojox.math.inverse(x):x},this.epsilon=function(o){return o||"undefined"==typeof o?.008856:216/24289},this.kappa=function(o){return o||"undefined"==typeof o?903.3:24389/27},this.convert=function(o,t,r,n){return Y[t]&&Y[t][r]?Y[t][r](obj,n):(console.warn("dojox.color.Colorspace::convert: Can't convert ",o," from ",t," to ",r,"."),void 0)}},o.mixin(dojox.color,{fromXYZ:function(o,t){t=t||{};var r=dojox.color.Colorspace.primaries(t),n=dojox.color.Colorspace.matrix("RGB",r),u=dojox.math.matrix.mutliply([[o.X,o.Y,o.Z]],n),e=u[0][0],a=u[0][1],i=u[0][2];if("sRGB"==r.profile)var Y=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,L=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,f=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i;else var Y=Math.pow(e,1/r.gamma),L=Math.pow(a,1/r.gamma),f=Math.pow(i,1/r.gamma);return new dojox.color.Color({r:Math.floor(255*Y),g:Math.floor(255*L),b:Math.floor(255*f)})}}),o.extend(dojox.color.Color,{toXYZ:function(o){o=o||{};var t=dojox.color.Colorspace.primaries(o),r=dojox.color.Colorspace.matrix("XYZ",t),n=this.r/255,u=this.g/255,e=this.b/255;if("sRGB"==t.profile)var a=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=u>.04045?Math.pow((u+.055)/1.055,2.4):u/12.92,Y=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92;else var a=Math.pow(n,t.gamma),i=Math.pow(u,t.gamma),Y=Math.pow(e,t.gamma);var L=dojox.math.matrix([[a,i,Y]],r);return{X:L[0][0],Y:L[0][1],Z:L[0][2]}}}))}});