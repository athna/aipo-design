dojo._hasResource["dojox.grid.Grid"]||(dojo._hasResource["dojox.grid.Grid"]=!0,dojo.provide("dojox.grid.Grid"),dojo.require("dojox.grid.VirtualGrid"),dojo.require("dojox.grid._data.model"),dojo.require("dojox.grid._data.editors"),dojo.declare("dojox.Grid",dojox.VirtualGrid,{model:"dojox.grid.data.Table",postCreate:function(){if(this.model){var t=this.model;dojo.isString(t)&&(t=dojo.getObject(t)),this.model=dojo.isFunction(t)?new t:t,this._setModel(this.model)}this.inherited(arguments)},destroy:function(){this.setModel(null),this.inherited(arguments)},_structureChanged:function(){this.indexCellFields(),this.inherited(arguments)},_setModel:function(t){this.model=t,this.model&&(this.model.observer(this),this.model.measure(),this.indexCellFields())},setModel:function(t){this.model&&this.model.notObserver(this),this._setModel(t)},get:function(t){return this.grid.model.getDatum(t,this.fieldIndex)},modelAllChange:function(){this.rowCount=this.model?this.model.getRowCount():0,this.updateRowCount(this.rowCount)},modelRowChange:function(t,e){this.updateRow(e)},modelDatumChange:function(t,e){this.updateRow(e)},modelFieldsChange:function(){this.indexCellFields(),this.render()},modelInsertion:function(){this.updateRowCount(this.model.getRowCount())},modelRemoval:function(){this.updateRowCount(this.model.getRowCount())},getCellName:function(t){var e=this.model.fields.values,i=t.fieldIndex;return i>=0&&i<e.length&&e[i].name||this.inherited(arguments)},indexCellFields:function(){for(var t,e=this.layout.cells,i=0;e&&(t=e[i]);i++)dojo.isString(t.field)&&(t.fieldIndex=this.model.fields.indexOf(t.field))},refresh:function(){this.edit.cancel(),this.model.measure()},canSort:function(t){var e=this.getSortField(t);return e&&this.model.canSort(e)},getSortField:function(t){var e=this.getCell(this.getSortIndex(t));return(e.fieldIndex+1)*(this.sortInfo>0?1:-1)},sort:function(){this.edit.apply(),this.model.sort(this.getSortField())},addRow:function(t,e){this.edit.apply();var i=e||-1;0>i&&(i=this.selection.getFirstSelected()||0),0>i&&(i=0),this.model.insert(t,i),this.model.beginModifyRow(i);for(var o,d=0;(o=this.getCell(d))&&!o.editor;d++);o&&o.editor&&this.edit.setEditCell(o,i)},removeSelectedRows:function(){this.edit.apply();var t=this.selection.getSelected();t.length&&(this.model.remove(t),this.selection.clear())},canEdit:function(t,e){return this.model.canModify?this.model.canModify(e):!0},doStartEdit:function(t,e){var i=this.canEdit(t,e);return i&&(this.model.beginModifyRow(e),this.onStartEdit(t,e)),i},doApplyCellEdit:function(t,e,i){this.model.setDatum(t,e,i),this.onApplyCellEdit(t,e,i)},doCancelEdit:function(t){this.model.cancelModifyRow(t),this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(t){this.model.endModifyRow(t),this.onApplyEdit(t)},styleRowState:function(t){if(this.model.getState){for(var e,i=this.model.getState(t.index),o="",d=0,n=["inflight","error","inserting"];e=n[d];d++)if(i[e]){o=" dojoxGrid-row-"+e;break}t.customClasses+=o}},onStyleRow:function(t){this.styleRowState(t),this.inherited(arguments)},junk:0}));