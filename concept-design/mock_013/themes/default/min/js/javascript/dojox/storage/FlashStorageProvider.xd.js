dojo._xdResourceLoaded({depends:[["provide","dojox.storage.FlashStorageProvider"],["require","dojox.flash"],["require","dojox.storage.manager"],["require","dojox.storage.Provider"]],defineResource:function(dojo){dojo._hasResource["dojox.storage.FlashStorageProvider"]||(dojo._hasResource["dojox.storage.FlashStorageProvider"]=!0,dojo.provide("dojox.storage.FlashStorageProvider"),dojo.require("dojox.flash"),dojo.require("dojox.storage.manager"),dojo.require("dojox.storage.Provider"),dojo.declare("dojox.storage.FlashStorageProvider",[dojox.storage.Provider],{initialized:!1,_available:null,_statusHandler:null,initialize:function(){if(1!=djConfig.disableFlashStorage){var e=function(){dojox.storage._flashLoaded()};dojox.flash.addLoadedListener(e),dojox.flash.setSwf({flash6:dojo.moduleUrl("dojox","storage/Storage_version6.swf").toString(),flash8:dojo.moduleUrl("dojox","storage/Storage_version8.swf").toString(),visible:!1})}},setFlushDelay:function(e){if(null===e||"undefined"==typeof e||isNaN(e))throw new Error("Invalid argunment: "+e);dojox.flash.comm.setFlushDelay(String(e))},getFlushDelay:function(){return Number(dojox.flash.comm.getFlushDelay())},flush:function(e){(null==e||"undefined"==typeof e)&&(e=dojox.storage.DEFAULT_NAMESPACE),dojox.flash.comm.flush(e)},isAvailable:function(){return this._available=!djConfig.disableFlashStorage},put:function(e,o,t,i){if(0==this.isValidKey(e))throw new Error("Invalid key given: "+e);if((null==i||"undefined"==typeof i)&&(i=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(i))throw new Error("Invalid namespace given: "+i);this._statusHandler=t,o=dojo.isString(o)?"string:"+o:dojo.toJson(o),dojox.flash.comm.put(e,o,i)},putMultiple:function(e,o,t,i){if(this.isValidKeyArray(e)===!1||!o instanceof Array||e.length!=o.length)throw new Error("Invalid arguments: keys = ["+e+"], values = ["+o+"]");if((null==i||"undefined"==typeof i)&&(i=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(i))throw new Error("Invalid namespace given: "+i);this._statusHandler=t;for(var s=e.join(","),r=[],a=0;a<o.length;a++)o[a]=dojo.isString(o[a])?"string:"+o[a]:dojo.toJson(o[a]),r[a]=o[a].length;var n=o.join(""),d=r.join(",");dojox.flash.comm.putMultiple(s,n,d,this.namespace)},get:function(e,o){if(0==this.isValidKey(e))throw new Error("Invalid key given: "+e);if((null==o||"undefined"==typeof o)&&(o=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(o))throw new Error("Invalid namespace given: "+o);var t=dojox.flash.comm.get(e,o);return""==t?null:this._destringify(t)},getMultiple:function(keys,namespace){if(this.isValidKeyArray(keys)===!1)throw new("Invalid key array given: "+keys);if((null==namespace||"undefined"==typeof namespace)&&(namespace=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(namespace))throw new Error("Invalid namespace given: "+namespace);for(var metaKey=keys.join(","),metaResults=dojox.flash.comm.getMultiple(metaKey,this.namespace),results=eval("("+metaResults+")"),i=0;i<results.length;i++)results[i]=""==results[i]?null:this._destringify(results[i]);return results},_destringify:function(e){return e=dojo.isString(e)&&/^string:/.test(e)?e.substring("string:".length):dojo.fromJson(e)},getKeys:function(e){if((null==e||"undefined"==typeof e)&&(e=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(e))throw new Error("Invalid namespace given: "+e);var o=dojox.flash.comm.getKeys(e);return""==o?[]:o=o.split(",")},getNamespaces:function(){var e=dojox.flash.comm.getNamespaces();return""==e?[dojox.storage.DEFAULT_NAMESPACE]:e=e.split(",")},clear:function(e){if((null==e||"undefined"==typeof e)&&(e=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(e))throw new Error("Invalid namespace given: "+e);dojox.flash.comm.clear(e)},remove:function(e,o){if((null==o||"undefined"==typeof o)&&(o=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(o))throw new Error("Invalid namespace given: "+o);dojox.flash.comm.remove(e,o)},removeMultiple:function(e,o){if(this.isValidKeyArray(e)===!1&&dojo.raise("Invalid key array given: "+e),(null==o||"undefined"==typeof o)&&(o=dojox.storage.DEFAULT_NAMESPACE),0==this.isValidKey(o))throw new Error("Invalid namespace given: "+o);var t=e.join(",");dojox.flash.comm.removeMultiple(t,this.namespace)},isPermanent:function(){return!0},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT},hasSettingsUI:function(){return!0},showSettingsUI:function(){dojox.flash.comm.showSettings(),dojox.flash.obj.setVisible(!0),dojox.flash.obj.center()},hideSettingsUI:function(){dojox.flash.obj.setVisible(!1),dojo.isFunction(dojox.storage.onHideSettingsUI)&&dojox.storage.onHideSettingsUI.call(null)},getResourceList:function(){var e=dojo.moduleUrl("dojox","storage/Storage_version6.swf").toString(),o=dojo.moduleUrl("dojox","storage/Storage_version8.swf").toString(),t=dojox.flash.info.getResourceList(e,o);return t.push(dojo.moduleUrl("dojox","storage/storage_dialog.swf").toString()),t},_flashLoaded:function(){this._allNamespaces=this.getNamespaces(),this._initialized=!0,dojox.storage.manager.loaded()},_onStatus:function(e,o){var t=dojox.storage,i=dojox.flash.obj;e==t.PENDING?(i.center(),i.setVisible(!0)):i.setVisible(!1),t._statusHandler&&t._statusHandler.call(null,e,o)}}),dojox.storage.manager.register("dojox.storage.FlashStorageProvider",new dojox.storage.FlashStorageProvider),dojox.storage.manager.initialize())}});