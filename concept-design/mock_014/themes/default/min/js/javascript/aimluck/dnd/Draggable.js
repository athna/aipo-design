dojo._hasResource["aimluck.dnd.DragMoveObject"]||(dojo._hasResource["aimluck.dnd.DragMoveObject"]=!0,dojo.provide("aimluck.dnd.DragMoveObject"),dojo.provide("aimluck.dnd.Draggable"),dojo.require("dojo.dnd.Mover"),dojo.require("dojo.dnd.Moveable"),dojo.require("dojo.parser"),dojo.require("dojo.dnd.Source"),dojo.declare("aimluck.dnd.DragMoveObject",[dojo.dnd.Mover],{_pageY:0,_pageX:0,portletId:null,leftTop:null,onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.apply(this,arguments)},onMouseUp:function(){dojo.dnd.Mover.prototype.onMouseUp.apply(this,arguments)},onMouseDown:function(o){var e=this.marginBox;this.leftTop={l:e.l+o.pageX,t:e.t+o.pageY},dojo.dnd.Mover.prototype.onMouseDown.apply(this,arguments)},onMouseMove:function(o){this._pageX=o.pageX,this._pageY=o.pageY,dojo.dnd.autoScroll(o);var e=this.marginBox;this.leftTop={l:e.l+o.pageX,t:e.t+o.pageY}}}),dojo.declare("aimluck.dnd.Draggable",dojo.dnd.Moveable,{DragMoveObject:aimluck.dnd.DragMoveObject,portletId:null,constructor:function(o,e){this.portletId=e.pid},onMouseDown:function(o){this.skip&&dojo.dnd.isFormElement(o)||(this.delay?(this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove")),this.events.push(dojo.connect(this.handle,"onmouseup",this,"onMouseUp"))):(dragObj=new this.DragMoveObject(this.node,o,this),dragObj.dragSource=this,dragObj.portletId=this.portletId),dragObj._pageX=o.pageX,dragObj._pageY=o.pageY,this._lastX=o.pageX,this._lastY=o.pageY,dojo.stopEvent(o))}}));