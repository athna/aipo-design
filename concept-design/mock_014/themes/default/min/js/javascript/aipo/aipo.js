function CronTask(e,o,n){this.task=e,this.isDecay=n,this.interval=o,this.decayRate=1,this.decayMultiplier=1.5,this.maxDecayTime=3e5}window.aipo=window.aipo||{},aipo.namespace=function(e){if(!e||!e.length)return null;for(var o=e.split("."),n=aipo,t="aipo"==o[0]?1:0;t<o.length;++t)n[o[t]]=n[o[t]]||{},n=n[o[t]];return n};var ptConfig=[];aipo.onReceiveMessage=function(e,o){if(!e){var n=dijit.byId("modalDialog");n.hide(),aipo.portletReload(o)}dojo.byId("messageDiv")&&(dojo.byId("messageDiv").innerHTML=e)},aipo.getCookie=function(e){for(var o="",n=0,t=0,i=e+"=",r="";n<document.cookie.length;){if(t=n+i.length,document.cookie.substring(n,t)==i){r=document.cookie.indexOf(";",t),o=-1==r?document.cookie.substring(t,document.cookie.length):document.cookie.substring(t,r);break}if(n=document.cookie.indexOf(" ",n)+1,0==n)break}return o},aipo.setCookie=function(e,o,n,t){var i=new Date;i.setTime(i.getTime()+("number"!=typeof t?864e6:t)),document.cookie="undefined"==typeof n||null==n?e+"="+o+"; expires="+i.toGMTString()+"; path=${context_path}/":e+"="+o+"; expires="+i.toGMTString()+"; path="+n},aipo.removeCookie=function(e,o){var n,t=new Date;t.setTime(t.getTime()-1),n=get_cookie(e),document.cookie="undefined"==typeof o?e+"="+n+"; expires="+t.toGMTString()+"; path=${context_path}/":e+"="+n+"; expires="+t.toGMTString()+"; path="+o},aipo.portletReload=function(e,o){for(var n in ptConfig)n!=o&&ptConfig[n].group==e&&ptConfig[n].reloadFunction.call(ptConfig[n].reloadFunction,n)},aipo.reloadPage=function(e){"undefined"==typeof ptConfig[e].reloadUrl?aipo.viewPage(ptConfig[e].initUrl,e):aipo.viewPage(ptConfig[e].reloadUrl,e)};var bodyHandle=bodyHandle||{},setMouseListener=function(){aipo.customize.positionInitialize(),dojo.query("a.customizeMenuIcon,a.menubarOpenButton").forEach(function(e){dojo.connect(e,"onmouseenter",null,function(){dojo.addClass(this,"customizeMenuIconMouseenter")}),dojo.connect(e,"onmouseleave",null,function(){dojo.removeClass(this,"customizeMenuIconMouseenter")})}),bodyHandle=dojo.connect(dojo.query("body")[0],"onclick",null,function(){0==dojo.query("a.customizeMenuIconMouseenter").length&&dojo.query("div.menubar").style("display","none")}),null!=aipo.onloadSmartPhone&&aipo.onloadSmartPhone()};aipo.viewPage=function(e,o,n){var t=dijit.byId("portlet_"+o);if(t||(t=new aimluck.widget.Contentpane({},"portlet_"+o)),t){if(ptConfig[o].reloadUrl=e,n)for(i=0;i<n.length;i++)t.setParam(n[i][0],n[i][1]);t.onLoad=dojo.hitch(t.onLoad,setMouseListener),t.viewPage(e)}},aipo.errorTreatment=function(e,o){return e.error?1!=e.error?!0:(window.location.href=o,!1):!0};var favicon={change:function(e){this.addLink(e,"icon"),this.addLink(e,"shortcut icon")},addLink:function(e,o){var n=document.createElement("link");n.type="image/x-icon",n.rel=o,n.href=e,this.removeLinkIfExists(o),this.docHead.appendChild(n)},removeLinkIfExists:function(e){for(var o=this.docHead.getElementsByTagName("link"),n=0;n<o.length;n++){var t=o[n];if("image/x-icon"==t.type&&t.rel==e)return this.docHead.removeChild(t),void 0}},docHead:document.getElementsByTagName("head")[0]};CronTask.prototype={start:function(){return this.stop().run(),this},stop:function(){return this.worker&&window.clearTimeout(this.worker),this},run:function(){var e=this;this.task(function(){e.decayRate=e.isDecay?Math.max(1,e.decayRate/e.decayMultiplier):e.decayRate*e.decayMultiplier;var o=e.interval*e.decayRate;e.isDecay||(o=o>=e.maxDecayTime?e.maxDecayTime:o),o=Math.floor(o),e.worker=window.setTimeout(function(){e.run.call(e)},o)})},reset:function(){return this.destroy().run(),this},destroy:function(){return this.stop(),this.decayRate=1,this}},aipo.userAgent={__userAgent:window.navigator.userAgent.toLowerCase(),isAndroid:function(){return this.__userAgent.indexOf("android")>-1},isAndroid2:function(){var e=this.androidVersion();return!!e&&2==e[1]},isAndroid4:function(){var e=this.androidVersion();return!!e&&4==e[1]},isAndroid4_0:function(){var e=this.androidVersion();return!!e&&4==e[1]&&0==e[2]},androidVersion:function(){return this.__userAgent.match(/android ([\d]+)\.([\d]+)\.([\d]+)/)},isIphone:function(){return this.__userAgent.indexOf("iphone")>-1},isSmartPhone:function(){return this.isAndroid()||this.isIphone()}},aipo.escapeHTML=function(e){var o=function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&#39;";case'"':return"&quot;"}return"?"};return String(e).replace(/[<>&"']/g,o)},aipo.arrayContains=function(e,o){for(var n=0;n<e.length;n++)if(e[n]==o)return!0;return!1};