if(!dojo._hasResource["aipo.widget.DropdownDatepicker"]){dojo._hasResource["aipo.widget.DropdownDatepicker"]=!0,dojo.provide("aipo.widget.DropdownDatepicker"),dojo.require("aimluck.widget.Dropdown"),dojo.require("aipo.widget.DateCalendar"),dojo.require("dojo.date.locale"),dojo.requireLocalization("aipo","locale");var nlsStrings=dojo.i18n.getLocalization("aipo","locale");dojo.declare("aipo.widget.DropdownDatepicker",[aimluck.widget.Dropdown],{dateId:"",dateValue:"",initValue:"",displayCheck:"",iconURL:"",iconAlt:"",callback:function(){},listWidgetId:"datewidget",templateString:'<div class="dijit dijitLeft dijitInline"><div dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey"\n	 style="float:left;"><div class=\'dijitRight\'>\n	<span class="" type="${type}"\n		dojoAttachPoint="focusNode,titleNode" waiRole="button" waiState="haspopup-true,labelledby-${id}_label"\n		><span class="" 	dojoAttachPoint="containerNode,popupStateNode"\n		id="${id}_label"><a href="javascript:void(0)" class="auiButtonIcon"><span><i class="icon-calendar"></i></span></a>\n	</span></div></div><div class="alignleft"><span name="${dateId}_view" id="${dateId}_view" dojoAttachPoint="inputNode" style="vertical-align:middle;background:#ffffff ;border:0px;" autocomplete="off" readonly="readonly"></span> <span style="display:${displayCheck}"><input name="${dateId}_check" type="checkbox" value="TRUE" id="${dateId}_flag" dojoAttachEvent="onclick:onCheckBlank" /><label for="${dateId}_flag">'+nlsStrings.NOT_SPECIFIED_STR+'</label></span><input type="hidden" id="${dateId}" name="${dateId}" value="${dateValue}" dojoAttachPoint="valueNode" /><input type="hidden" id="${dateId}_year" name="${dateId}_year" value="" dojoAttachPoint="valueYearNode" /><input type="hidden" id="${dateId}_month" name="${dateId}_month" value="" dojoAttachPoint="valueMonthNode" /><input type="hidden" id="${dateId}_day" name="${dateId}_day" value="" dojoAttachPoint="valueDayNode" /></div></div>\n',_openDropDown:function(){aimluck.widget.Dropdown.prototype._openDropDown.apply(this),aipo.userAgent.isAndroid()&&dojo.query("input,select,button").forEach(function(e){e.disabled=!0})},_closeDropDown:function(){aimluck.widget.Dropdown.prototype._closeDropDown.apply(this),aipo.userAgent.isAndroid()&&dojo.query("input,select,button:not(.disabled)").forEach(function(e){e.disabled=!1})},postCreate:function(){this.inherited(arguments);var e={widgetId:this.listWidgetId,dateId:this.dateId,callback:this.callback};if(this.dropDown=new aipo.widget.DateCalendar(e,this.listWidgetId),""!=this.initValue){var o=this.initValue.split("/");if(3==o.length){var t=o[0],a=o[1]-1,d=o[2],i=dojo.byId(this.dateId);i.value=this.initValue,this.dropDown.clearDate(),this.dropDown.setValue(new Date(t,a,d))}}else this.dropDown.disabledCalendar(!0)},onCheckBlank:function(){this.dropDown.disabledCalendar(dojo.byId(this.dateId+"_flag").checked)}})}