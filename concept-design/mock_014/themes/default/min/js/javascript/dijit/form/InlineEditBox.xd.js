dojo._xdResourceLoaded({depends:[["provide","dijit.form.InlineEditBox"],["require","dojo.i18n"],["require","dijit.form._FormWidget"],["require","dijit._Container"],["require","dijit.form.Button"],["requireLocalization","dijit","common",null,"ROOT,cs,de,es,fr,hu,it,ja,ko,pl,pt,ru,zh,zh-tw","ROOT,cs,de,es,fr,hu,it,ja,ko,pl,pt,ru,zh,zh-tw"]],defineResource:function(t){t._hasResource["dijit.form.InlineEditBox"]||(t._hasResource["dijit.form.InlineEditBox"]=!0,t.provide("dijit.form.InlineEditBox"),t.require("dojo.i18n"),t.require("dijit.form._FormWidget"),t.require("dijit._Container"),t.require("dijit.form.Button"),t.deprecated("dijit.form.InlineEditBox is deprecated, use dijit.InlineEditBox instead","","1.1"),t.declare("dijit.form.InlineEditBox",[dijit.form._FormWidget,dijit._Container],{templateString:'<span\r\n	><fieldset dojoAttachPoint="editNode" style="display:none;" waiRole="presentation"\r\n		><div dojoAttachPoint="containerNode" dojoAttachEvent="onkeypress:_onEditWidgetKeyPress"></div\r\n		><div dojoAttachPoint="buttonContainer"\r\n			><button class=\'saveButton\' dojoAttachPoint="saveButton" dojoType="dijit.form.Button" dojoAttachEvent="onClick:save">${buttonSave}</button\r\n			><button class=\'cancelButton\' dojoAttachPoint="cancelButton" dojoType="dijit.form.Button" dojoAttachEvent="onClick:cancel">${buttonCancel}</button\r\n		></div\r\n	></fieldset\r\n	><span tabIndex="0" dojoAttachPoint="textNode,focusNode" waiRole="button" style="display:none;"\r\n		dojoAttachEvent="onkeypress:_onKeyPress,onclick:_onClick,onmouseout:_onMouseOut,onmouseover:_onMouseOver,onfocus:_onMouseOver,onblur:_onMouseOut"\r\n	></span\r\n></span>\r\n',editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",renderAsHtml:!1,widgetsInTemplate:!0,_display:"",startup:function(){if(!this._started){this.editWidget?this.containerNode.appendChild(this.editWidget.domNode):this.editWidget=this.getChildren()[0];var i=t.getComputedStyle(this.domNode);if(t.forEach(["fontWeight","fontFamily","fontSize","fontStyle"],function(t){this.editWidget.focusNode.style[t]=i[t]},this),this._setEditValue=t.hitch(this.editWidget,this.editWidget.setDisplayedValue||this.editWidget.setValue),this._getEditValue=t.hitch(this.editWidget,this.editWidget.getDisplayedValue||this.editWidget.getValue),this._setEditFocus=t.hitch(this.editWidget,this.editWidget.focus),this._isEditValid=t.hitch(this.editWidget,this.editWidget.isValid||function(){return!0}),this.editWidget.onChange=t.hitch(this,"_onChange"),!this.autoSave){this._oldSetValue=this.editWidget.setValue;var e=this;this.editWidget.setValue=t.hitch(this,function(){e._oldSetValue.apply(e.editWidget,arguments),e._onEditWidgetKeyPress(null)})}this._showText(),this._started=!0}},postMixInProperties:function(){this._srcTag=this.srcNodeRef.tagName,this._srcStyle=t.getComputedStyle(this.srcNodeRef);var i=this.srcNodeRef.style;if(this._display="",i&&i.display)this._display=i.display;else switch(this.srcNodeRef.tagName.toLowerCase()){case"span":case"input":case"img":case"button":this._display="inline";break;default:this._display="block"}this.inherited("postMixInProperties",arguments),this.messages=t.i18n.getLocalization("dijit","common",this.lang),t.forEach(["buttonSave","buttonCancel"],function(t){this[t]||(this[t]=this.messages[t])},this)},postCreate:function(){this.autoSave&&t.style(this.buttonContainer,"display","none")},_onKeyPress:function(i){this.disabled||i.altKey||i.ctrlKey||(i.charCode==t.keys.SPACE||i.keyCode==t.keys.ENTER)&&(t.stopEvent(i),this._onClick(i))},_onMouseOver:function(){if(!this.editing){var i=this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion";t.addClass(this.textNode,i)}},_onMouseOut:function(){if(!this.editing){var i=this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion";t.removeClass(this.textNode,i)}},_onClick:function(){this.editing||this.disabled||(this._onMouseOut(),this.editing=!0,this._setEditValue(this._isEmpty?"":this.renderAsHtml?this.textNode.innerHTML:this.textNode.innerHTML.replace(/\s*\r?\n\s*/g,"").replace(/<br\/?>/gi,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")),this._initialText=this._getEditValue(),this._visualize(),setTimeout(t.hitch(this,function(){this._setEditFocus(),this.saveButton.setDisabled(!0)}),1))},_visualize:function(){t.style(this.editNode,"display",this.editing?this._display:"none"),this.editing&&this._setEditFocus(),t.style(this.textNode,"display",this.editing?"none":this._display)},_showText:function(){var i=""+this._getEditValue();if(dijit.form.InlineEditBox.superclass.setValue.call(this,i),/^\s*$/.test(i)?(i="?",this._isEmpty=!0):this._isEmpty=!1,this.renderAsHtml)this.textNode.innerHTML=i;else if(this.textNode.innerHTML="",i.split){var e=this,s=!0;t.forEach(i.split("\n"),function(t){s?s=!1:e.textNode.appendChild(document.createElement("BR")),e.textNode.appendChild(document.createTextNode(t))})}else this.textNode.appendChild(document.createTextNode(i));this._visualize()},save:function(i){"object"==typeof i&&t.stopEvent(i),this.enableSave()&&(this.editing=!1,this._showText(),i&&dijit.focus(this.focusNode),this._lastValue!=this._lastValueReported&&this.onChange(this._lastValue))},cancel:function(i){i&&t.stopEvent(i),this.editing=!1,this._visualize(),i&&dijit.focus(this.focusNode)},setValue:function(t){this._setEditValue(t),this.editing=!1,this._showText()},_onEditWidgetKeyPress:function(i){if(this.editing)if(this.autoSave)i.keyCode==t.keys.ESCAPE?this.cancel(i):i.keyCode==t.keys.ENTER&&this.save(i);else{var e=this;setTimeout(function(){e.saveButton.setDisabled(e._getEditValue()==e._initialText)},100)}},_onBlur:function(){this.autoSave&&this.editing&&(this._getEditValue()==this._initialText?this.cancel():this.save())},enableSave:function(){return this._isEditValid()},_onChange:function(){this.editing?this.autoSave?this.save(1):this.saveButton.setDisabled(this._getEditValue()==this._initialText||!this.enableSave()):this._showText()},setDisabled:function(t){this.saveButton.setDisabled(t),this.cancelButton.setDisabled(t),this.textNode.disabled=t,this.editWidget.setDisabled(t),this.inherited("setDisabled",arguments)}}))}});