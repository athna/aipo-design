dojo._hasResource["dojo.dnd.move"]||(dojo._hasResource["dojo.dnd.move"]=!0,dojo.provide("dojo.dnd.move"),dojo.require("dojo.dnd.Mover"),dojo.require("dojo.dnd.Moveable"),dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:!1,markupFactory:function(o,n){return new dojo.dnd.move.constrainedMoveable(n,o)},constructor:function(o,n){n||(n={}),this.constraints=n.constraints,this.within=n.within},onFirstMove:function(o){var n=this.constraintBox=this.constraints.call(this,o),t=o.marginBox;n.r=n.l+n.w-(this.within?t.w:0),n.b=n.t+n.h-(this.within?t.h:0)},onMove:function(o,n){var t=this.constraintBox;n.l=n.l<t.l?t.l:t.r<n.l?t.r:n.l,n.t=n.t<t.t?t.t:t.b<n.t?t.b:n.t,dojo.marginBox(o.node,n)}}),dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(o,n){return new dojo.dnd.move.boxConstrainedMoveable(n,o)},constructor:function(o,n){var t=n&&n.box;this.constraints=function(){return t}}}),dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(o,n){return new dojo.dnd.move.parentConstrainedMoveable(n,o)},constructor:function(o,n){var t=n&&n.area;this.constraints=function(){var o=this.node.parentNode,n=dojo.getComputedStyle(o),e=dojo._getMarginBox(o,n);if("margin"==t)return e;var d=dojo._getMarginExtents(o,n);return e.l+=d.l,e.t+=d.t,e.w-=d.w,e.h-=d.h,"border"==t?e:(d=dojo._getBorderExtents(o,n),e.l+=d.l,e.t+=d.t,e.w-=d.w,e.h-=d.h,"padding"==t?e:(d=dojo._getPadExtents(o,n),e.l+=d.l,e.t+=d.t,e.w-=d.w,e.h-=d.h,e))}}}),dojo.dnd.move.constrainedMover=function(o,n){var t=function(o,n,t){dojo.dnd.Mover.call(this,o,n,t)};return dojo.extend(t,dojo.dnd.Mover.prototype),dojo.extend(t,{onMouseMove:function(o){dojo.dnd.autoScroll(o);var n=this.marginBox,t=this.constraintBox,e=n.l+o.pageX,d=n.t+o.pageY;e=e<t.l?t.l:t.r<e?t.r:e,d=d<t.t?t.t:t.b<d?t.b:d,this.host.onMove(this,{l:e,t:d})},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var t=this.constraintBox=o.call(this),e=this.marginBox;t.r=t.l+t.w-(n?e.w:0),t.b=t.t+t.h-(n?e.h:0)}}),t},dojo.dnd.move.boxConstrainedMover=function(o,n){return dojo.dnd.move.constrainedMover(function(){return o},n)},dojo.dnd.move.parentConstrainedMover=function(o,n){var t=function(){var n=this.node.parentNode,t=dojo.getComputedStyle(n),e=dojo._getMarginBox(n,t);if("margin"==o)return e;var d=dojo._getMarginExtents(n,t);return e.l+=d.l,e.t+=d.t,e.w-=d.w,e.h-=d.h,"border"==o?e:(d=dojo._getBorderExtents(n,t),e.l+=d.l,e.t+=d.t,e.w-=d.w,e.h-=d.h,"padding"==o?e:(d=dojo._getPadExtents(n,t),e.l+=d.l,e.t+=d.t,e.w-=d.w,e.h-=d.h,e))};return dojo.dnd.move.constrainedMover(t,n)},dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover,dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover,dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover);