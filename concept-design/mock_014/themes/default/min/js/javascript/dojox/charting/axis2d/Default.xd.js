dojo._xdResourceLoaded({depends:[["provide","dojox.charting.axis2d.Default"],["require","dojox.charting.scaler"],["require","dojox.charting.axis2d.common"],["require","dojox.charting.axis2d.Base"],["require","dojo.colors"],["require","dojox.gfx"],["require","dojox.lang.functional"],["require","dojox.lang.utils"]],defineResource:function(t){t._hasResource["dojox.charting.axis2d.Default"]||(t._hasResource["dojox.charting.axis2d.Default"]=!0,t.provide("dojox.charting.axis2d.Default"),t.require("dojox.charting.scaler"),t.require("dojox.charting.axis2d.common"),t.require("dojox.charting.axis2d.Base"),t.require("dojo.colors"),t.require("dojox.gfx"),t.require("dojox.lang.functional"),t.require("dojox.lang.utils"),function(){var i=dojox.charting,o=dojox.lang.functional,e=dojox.lang.utils,r=dojox.gfx,a=4,s=.8,n=function(t,i){return Math.abs(t-i)<=1e-6*(Math.abs(t)+Math.abs(i))};t.declare("dojox.charting.axis2d.Default",dojox.charting.axis2d.Base,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,htmlLabels:!0},optionalParams:{min:0,max:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],stroke:{},majorTick:{},minorTick:{},font:"",fontColor:""},constructor:function(i,o){this.opt=t.clone(this.defaultParams),e.updateWithObject(this.opt,o),e.updateWithPattern(this.opt,o,this.optionalParams)},dependOnData:function(){return!("min"in this.opt&&"max"in this.opt)},clear:function(){return delete this.scaler,this.dirty=!0,this},initialized:function(){return"scaler"in this},calculate:function(t,i,e,n){if(this.initialized())return this;this.labels="labels"in this.opt?this.opt.labels:n,"min"in this.opt&&(t=this.opt.min),"max"in this.opt&&(i=this.opt.max),this.opt.includeZero&&(t>0&&(t=0),0>i&&(i=0));var h=0,l=this.chart.theme.axis,c="font"in this.opt?this.opt.font:l.font,m=c?r.normalizedLength(r.splitFontString(c).size):0;if(this.vertical)m&&(h=m+a);else if(m){var x=Math.ceil(Math.log(Math.max(Math.abs(t),Math.abs(i)))/Math.LN10);(0>t||0>i)&&++x;var p=Math.floor(Math.log(i-t)/Math.LN10);p>0&&(x+=p),this.labels&&(x=o.foldl(o.map(this.labels,"x.text.length"),"Math.max(a, b)",x)),h=Math.floor(m*x*s)+a}var f={fixUpper:this.opt.fixUpper,fixLower:this.opt.fixLower,natural:this.opt.natural};return"majorTickStep"in this.opt&&(f.majorTick=this.opt.majorTickStep),"minorTickStep"in this.opt&&(f.minorTick=this.opt.minorTickStep),"microTickStep"in this.opt&&(f.microTick=this.opt.microTickStep),this.scaler=dojox.charting.scaler(t,i,e,f),this.scaler.minMinorStep=h,this},getScaler:function(){return this.scaler},getOffsets:function(){var t={l:0,r:0,t:0,b:0},i=0,e=this.chart.theme.axis,n="font"in this.opt?this.opt.font:e.font,h="majorTick"in this.opt?this.opt.majorTick:e.majorTick,l="minorTick"in this.opt?this.opt.minorTick:e.minorTick,c=n?r.normalizedLength(r.splitFontString(n).size):0;if(this.vertical){if(c){var m=this.scaler,x=this._getLabel(m.major.start,m.major.prec).length,p=this._getLabel(m.major.start+m.major.count*m.major.tick,m.major.prec).length,f=this._getLabel(m.minor.start,m.minor.prec).length,u=this._getLabel(m.minor.start+m.minor.count*m.minor.tick,m.minor.prec).length,d=Math.max(x,p,f,u);this.labels&&(d=o.foldl(o.map(this.labels,"x.text.length"),"Math.max(a, b)",d)),i=Math.floor(c*d*s)+a}i+=a+Math.max(h.length,l.length),t[this.opt.leftBottom?"l":"r"]=i,t.t=t.b=c/2}else if(c&&(i=c+a),i+=a+Math.max(h.length,l.length),t[this.opt.leftBottom?"b":"t"]=i,c){var m=this.scaler,x=this._getLabel(m.major.start,m.major.prec).length,p=this._getLabel(m.major.start+m.major.count*m.major.tick,m.major.prec).length,f=this._getLabel(m.minor.start,m.minor.prec).length,u=this._getLabel(m.minor.start+m.minor.count*m.minor.tick,m.minor.prec).length,d=Math.max(x,p,f,u);this.labels&&(d=o.foldl(o.map(this.labels,"x.text.length"),"Math.max(a, b)",d)),t.l=t.r=Math.floor(c*d*s)/2}return t},render:function(t,o){if(!this.dirty)return this;var e,s,n,h,l,c,m=this.chart.theme.axis,x="stroke"in this.opt?this.opt.stroke:m.stroke,p="majorTick"in this.opt?this.opt.majorTick:m.majorTick,f="minorTick"in this.opt?this.opt.minorTick:m.minorTick,u="font"in this.opt?this.opt.font:m.font,d="fontColor"in this.opt?this.opt.fontColor:m.fontColor,g=Math.max(p.length,f.length),j=u?r.normalizedLength(r.splitFontString(u).size):0;this.vertical?(e={y:t.height-o.b},s={y:o.t},n={x:0,y:-1},this.opt.leftBottom?(e.x=s.x=o.l,h={x:-1,y:0},c="end"):(e.x=s.x=t.width-o.r,h={x:1,y:0},c="start"),l={x:h.x*(g+a),y:.4*j}):(e={x:o.l},s={x:t.width-o.r},n={x:1,y:0},c="middle",this.opt.leftBottom?(e.y=s.y=t.height-o.b,h={x:0,y:1},l={y:g+a+j}):(e.y=s.y=o.t,h={x:0,y:-1},l={y:-g-a}),l.x=0),this.cleanGroup();var k,b,y=this.group,T=this.scaler,L=T.major.start,M=T.minor.start,v=T.micro.start;if(y.createLine({x1:e.x,y1:e.y,x2:s.x,y2:s.y}).setStroke(x),this.opt.microTicks&&T.micro.tick)k=T.micro.tick,b=v;else if(this.opt.minorTicks&&T.minor.tick)k=T.minor.tick,b=M;else{if(!T.major.tick)return this;k=T.major.tick,b=L}for(;b<=T.bounds.upper+1/T.scale;){var S=(b-T.bounds.lower)*T.scale,q=e.x+n.x*S,_=e.y+n.y*S;if(Math.abs(L-b)<k/2){if(y.createLine({x1:q,y1:_,x2:q+h.x*p.length,y2:_+h.y*p.length}).setStroke(p),this.opt.majorLabels){var z=i.axis2d.common.createText[this.opt.htmlLabels?"html":"gfx"](this.chart,y,q+l.x,_+l.y,c,this._getLabel(L,T.major.prec),u,d);this.opt.htmlLabels&&this.htmlElements.push(z)}L+=T.major.tick,M+=T.minor.tick,v+=T.micro.tick}else if(Math.abs(M-b)<k/2){if(this.opt.minorTicks&&(y.createLine({x1:q,y1:_,x2:q+h.x*f.length,y2:_+h.y*f.length}).setStroke(f),this.opt.minorLabels&&T.minMinorStep<=T.minor.tick*T.scale)){var z=i.axis2d.common.createText[this.opt.htmlLabels?"html":"gfx"](this.chart,y,q+l.x,_+l.y,c,this._getLabel(M,T.minor.prec),u,d);this.opt.htmlLabels&&this.htmlElements.push(z)}M+=T.minor.tick,v+=T.micro.tick}else this.opt.microTicks&&y.createLine({x1:q,y1:_,x2:q+h.x*f.length,y2:_+h.y*f.length}).setStroke(f),v+=T.micro.tick;b+=k}return this.dirty=!1,this},_getLabel:function(t,i){if(this.opt.labels){for(var o=this.opt.labels,e=0,r=o.length;r>e;){var a=Math.floor((e+r)/2),s=o[a].value;t>s?e=a+1:r=a}if(e<o.length&&n(o[e].value,t))return o[e].text;if(--e,e<o.length&&n(o[e].value,t))return o[e].text;if(e+=2,e<o.length&&n(o[e].value,t))return o[e].text}return this.opt.fixed?t.toFixed(0>i?-i:0):t.toString()}})}())}});