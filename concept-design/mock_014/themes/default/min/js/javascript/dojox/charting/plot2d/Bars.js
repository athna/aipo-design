dojo._hasResource["dojox.charting.plot2d.Bars"]||(dojo._hasResource["dojox.charting.plot2d.Bars"]=!0,dojo.provide("dojox.charting.plot2d.Bars"),dojo.require("dojox.charting.plot2d.common"),dojo.require("dojox.charting.plot2d.Base"),dojo.require("dojox.lang.utils"),dojo.require("dojox.lang.functional"),function(){var t=dojox.lang.functional,o=dojox.lang.utils,e=dojox.charting.plot2d.common,i=t.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.Bars",dojox.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,shadows:null},optionalParams:{},constructor:function(t,e){this.opt=dojo.clone(this.defaultParams),o.updateWithObject(this.opt,e),this.series=[],this.hAxis=this.opt.hAxis,this.vAxis=this.opt.vAxis},calculateAxes:function(t){var o,i=e.collectSimpleStats(this.series);return i.hmin-=.5,i.hmax+=.5,o=i.hmin,i.hmin=i.vmin,i.vmin=o,o=i.hmax,i.hmax=i.vmax,i.vmax=o,this._calc(t,i),this},render:function(o,r){if(this.dirty){dojo.forEach(this.series,i),this.cleanGroup();var s=this.group;t.forEachReversed(this.series,function(t){t.cleanGroup(s)})}for(var a,l,h,c=this.chart.theme,n=this.opt.gap<this._vScaler.scale/3?this.opt.gap:0,d=this.series.length-1;d>=0;--d){var u=this.series[d];if(this.dirty||u.dirty){u.cleanGroup();var s=u.group;u.fill&&u.stroke||(a=u.dyn.color=new dojo.Color(c.next("color"))),l=u.stroke?u.stroke:e.augmentStroke(c.series.stroke,a),h=u.fill?u.fill:e.augmentFill(c.series.fill,a);for(var p=Math.max(0,this._hScaler.bounds.lower),x=r.l+this._hScaler.scale*(p-this._hScaler.bounds.lower),g=o.height-r.b-this._vScaler.scale*(1.5-this._vScaler.bounds.lower)+n,j=0;j<u.data.length;++j){var m=u.data[j],v=this._hScaler.scale*(m-p),f=this._vScaler.scale-2*n,S=Math.abs(v);if(S>=1&&f>=1){var _=s.createRect({x:x+(0>v?v:0),y:g-this._vScaler.scale*j,width:S,height:f}).setFill(h).setStroke(l);u.dyn.fill=_.getFill(),u.dyn.stroke=_.getStroke()}}u.dirty=!1}}return this.dirty=!1,this}})}());