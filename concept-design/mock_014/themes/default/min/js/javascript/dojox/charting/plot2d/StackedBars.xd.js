dojo._xdResourceLoaded({depends:[["provide","dojox.charting.plot2d.StackedBars"],["require","dojox.charting.plot2d.common"],["require","dojox.charting.plot2d.Bars"],["require","dojox.lang.functional"]],defineResource:function(e){e._hasResource["dojox.charting.plot2d.StackedBars"]||(e._hasResource["dojox.charting.plot2d.StackedBars"]=!0,e.provide("dojox.charting.plot2d.StackedBars"),e.require("dojox.charting.plot2d.common"),e.require("dojox.charting.plot2d.Bars"),e.require("dojox.lang.functional"),function(){var t=dojox.lang.functional,r=dojox.charting.plot2d.common,o=t.lambda("item.purgeGroup()");e.declare("dojox.charting.plot2d.StackedBars",dojox.charting.plot2d.Bars,{calculateAxes:function(e){var t,o=r.collectStackedStats(this.series);return this._maxRunLength=o.hmax,o.hmin-=.5,o.hmax+=.5,t=o.hmin,o.hmin=o.vmin,o.vmin=t,t=o.hmax,o.hmax=o.vmax,o.vmax=t,this._calc(e,o),this},render:function(a,i){for(var s=t.repeat(this._maxRunLength,"-> 0",0),h=0;h<this.series.length;++h)for(var l=this.series[h],n=0;n<l.data.length;++n){var c=l.data[n];isNaN(c)&&(c=0),s[n]+=c}if(this.dirty){e.forEach(this.series,o),this.cleanGroup();var d=this.group;t.forEachReversed(this.series,function(e){e.cleanGroup(d)})}for(var u,g,p,x=this.chart.theme,v=this.opt.gap<this._vScaler.scale/3?this.opt.gap:0,h=this.series.length-1;h>=0;--h){var l=this.series[h];if(this.dirty||l.dirty){l.cleanGroup();var d=l.group;l.fill&&l.stroke||(u=l.dyn.color=new e.Color(x.next("color"))),g=l.stroke?l.stroke:r.augmentStroke(x.series.stroke,u),p=l.fill?l.fill:r.augmentFill(x.series.fill,u);for(var n=0;n<s.length;++n){var c=s[n],f=this._hScaler.scale*(c-this._hScaler.bounds.lower),m=this._vScaler.scale-2*v;if(f>=1&&m>=1){var S=d.createRect({x:i.l,y:a.height-i.b-this._vScaler.scale*(n+1.5-this._vScaler.bounds.lower)+v,width:f,height:m}).setFill(p).setStroke(g);l.dyn.fill=S.getFill(),l.dyn.stroke=S.getStroke()}}l.dirty=!1;for(var n=0;n<l.data.length;++n){var c=l.data[n];isNaN(c)&&(c=0),s[n]-=c}}}return this.dirty=!1,this}})}())}});