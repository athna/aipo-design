dojo._hasResource["dojox.grid._grid.drag"]||(dojo._hasResource["dojox.grid._grid.drag"]=!0,dojo.provide("dojox.grid._grid.drag"),function(){var e=dojox.grid.drag={};e.dragging=!1,e.hysteresis=2,e.capture=function(e){e.setCapture?e.setCapture():(document.addEventListener("mousemove",e.onmousemove,!0),document.addEventListener("mouseup",e.onmouseup,!0),document.addEventListener("click",e.onclick,!0))},e.release=function(e){e.releaseCapture?e.releaseCapture():(document.removeEventListener("click",e.onclick,!0),document.removeEventListener("mouseup",e.onmouseup,!0),document.removeEventListener("mousemove",e.onmousemove,!0))},e.start=function(o,n,t,d,s){return!o||e.dragging?(console.debug("failed to start drag: bad input node or already dragging"),void 0):(e.dragging=!0,e.elt=o,e.events={drag:n||dojox.grid.nop,end:t||dojox.grid.nop,start:s||dojox.grid.nop,oldmove:o.onmousemove,oldup:o.onmouseup,oldclick:o.onclick},e.positionX=d&&"screenX"in d?d.screenX:!1,e.positionY=d&&"screenY"in d?d.screenY:!1,e.started=e.position===!1,o.onmousemove=e.mousemove,o.onmouseup=e.mouseup,o.onclick=e.click,e.capture(e.elt),void 0)},e.end=function(){e.release(e.elt),e.elt.onmousemove=e.events.oldmove,e.elt.onmouseup=e.events.oldup,e.elt.onclick=e.events.oldclick,e.elt=null;try{e.started&&e.events.end()}finally{e.dragging=!1}},e.calcDelta=function(o){o.deltaX=o.screenX-e.positionX,o.deltaY=o.screenY-e.positionY},e.hasMoved=function(o){return Math.abs(o.deltaX)+Math.abs(o.deltaY)>e.hysteresis},e.mousemove=function(o){o=dojo.fixEvent(o),dojo.stopEvent(o),e.calcDelta(o),!e.started&&e.hasMoved(o)&&(e.events.start(o),e.started=!0),e.started&&e.events.drag(o)},e.mouseup=function(o){dojo.stopEvent(dojo.fixEvent(o)),e.end()},e.click=function(e){dojo.stopEvent(dojo.fixEvent(e))}}());