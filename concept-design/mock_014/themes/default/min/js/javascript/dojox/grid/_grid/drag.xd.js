dojo._xdResourceLoaded({depends:[["provide","dojox.grid._grid.drag"]],defineResource:function(e){e._hasResource["dojox.grid._grid.drag"]||(e._hasResource["dojox.grid._grid.drag"]=!0,e.provide("dojox.grid._grid.drag"),function(){var o=dojox.grid.drag={};o.dragging=!1,o.hysteresis=2,o.capture=function(e){e.setCapture?e.setCapture():(document.addEventListener("mousemove",e.onmousemove,!0),document.addEventListener("mouseup",e.onmouseup,!0),document.addEventListener("click",e.onclick,!0))},o.release=function(e){e.releaseCapture?e.releaseCapture():(document.removeEventListener("click",e.onclick,!0),document.removeEventListener("mouseup",e.onmouseup,!0),document.removeEventListener("mousemove",e.onmousemove,!0))},o.start=function(e,n,t,d,s){return!e||o.dragging?(console.debug("failed to start drag: bad input node or already dragging"),void 0):(o.dragging=!0,o.elt=e,o.events={drag:n||dojox.grid.nop,end:t||dojox.grid.nop,start:s||dojox.grid.nop,oldmove:e.onmousemove,oldup:e.onmouseup,oldclick:e.onclick},o.positionX=d&&"screenX"in d?d.screenX:!1,o.positionY=d&&"screenY"in d?d.screenY:!1,o.started=o.position===!1,e.onmousemove=o.mousemove,e.onmouseup=o.mouseup,e.onclick=o.click,o.capture(o.elt),void 0)},o.end=function(){o.release(o.elt),o.elt.onmousemove=o.events.oldmove,o.elt.onmouseup=o.events.oldup,o.elt.onclick=o.events.oldclick,o.elt=null;try{o.started&&o.events.end()}finally{o.dragging=!1}},o.calcDelta=function(e){e.deltaX=e.screenX-o.positionX,e.deltaY=e.screenY-o.positionY},o.hasMoved=function(e){return Math.abs(e.deltaX)+Math.abs(e.deltaY)>o.hysteresis},o.mousemove=function(n){n=e.fixEvent(n),e.stopEvent(n),o.calcDelta(n),!o.started&&o.hasMoved(n)&&(o.events.start(n),o.started=!0),o.started&&o.events.drag(n)},o.mouseup=function(n){e.stopEvent(e.fixEvent(n)),o.end()},o.click=function(o){e.stopEvent(e.fixEvent(o))}}())}});