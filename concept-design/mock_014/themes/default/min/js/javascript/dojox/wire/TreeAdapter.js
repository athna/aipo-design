dojo._hasResource["dojox.wire.TreeAdapter"]||(dojo._hasResource["dojox.wire.TreeAdapter"]=!0,dojo.provide("dojox.wire.TreeAdapter"),dojo.require("dojox.wire.CompositeWire"),dojo.declare("dojox.wire.TreeAdapter",dojox.wire.CompositeWire,{_wireClass:"dojox.wire.TreeAdapter",constructor:function(){this._initializeChildren(this.nodes)},_getValue:function(e){if(!e||!this.nodes)return e;var r=e;dojo.isArray(r)||(r=[r]);var i=[];for(var o in r)for(var t in this.nodes)i=i.concat(this._getNodes(r[o],this.nodes[t]));return i},_setValue:function(){throw new Error("Unsupported API: "+this._wireClass+"._setValue")},_initializeChildren:function(e){if(e)for(var r in e){var i=e[r];i.node&&(i.node.parent=this,dojox.wire.isWire(i.node)||(i.node=dojox.wire.create(i.node))),i.title&&(i.title.parent=this,dojox.wire.isWire(i.title)||(i.title=dojox.wire.create(i.title))),i.children&&this._initializeChildren(i.children)}},_getNodes:function(e,r){var i=null;if(r.node){if(i=r.node.getValue(e),!i)return[];dojo.isArray(i)||(i=[i])}else i=[e];var o=[];for(var t in i){e=i[t];var n={};if(n.title=r.title?r.title.getValue(e):e,r.children){var d=[];for(var a in r.children)d=d.concat(this._getNodes(e,r.children[a]));d.length>0&&(n.children=d)}o.push(n)}return o}}));