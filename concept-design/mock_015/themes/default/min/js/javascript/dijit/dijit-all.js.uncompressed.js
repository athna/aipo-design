if(dojo._hasResource["dojo.colors"]||(dojo._hasResource["dojo.colors"]=!0,dojo.provide("dojo.colors"),function(){var e=function(e,t,i){0>i&&++i,i>1&&--i;var o=6*i;return 1>o?e+(t-e)*o:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e};dojo.colorFromRgb=function(t,i){var o=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(o){var n=o[2].split(/\s*,\s*/),s=n.length,d=o[1];if("rgb"==d&&3==s||"rgba"==d&&4==s){var a=n[0];if("%"==a.charAt(a.length-1)){var r=dojo.map(n,function(e){return 2.56*parseFloat(e)});return 4==s&&(r[3]=n[3]),dojo.colorFromArray(r,i)}return dojo.colorFromArray(n,i)}if("hsl"==d&&3==s||"hsla"==d&&4==s){var l=(parseFloat(n[0])%360+360)%360/360,h=parseFloat(n[1])/100,c=parseFloat(n[2])/100,u=.5>=c?c*(h+1):c+h-c*h,p=2*c-u,r=[256*e(p,u,l+1/3),256*e(p,u,l),256*e(p,u,l-1/3),1];return 4==s&&(r[3]=n[3]),dojo.colorFromArray(r,i)}}return null};var t=function(e,t,i){return e=Number(e),isNaN(e)?i:t>e?t:e>i?i:e};dojo.Color.prototype.sanitize=function(){var e=this;return e.r=Math.round(t(e.r,0,255)),e.g=Math.round(t(e.g,0,255)),e.b=Math.round(t(e.b,0,255)),e.a=t(e.a,0,1),this}}(),dojo.colors.makeGrey=function(e,t){return dojo.colorFromArray([e,e,e,t])},dojo.Color.named=dojo.mixin({aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],transparent:[0,0,0,0],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]},dojo.Color.named)),dojo._hasResource["dojo.i18n"]||(dojo._hasResource["dojo.i18n"]=!0,dojo.provide("dojo.i18n"),dojo.i18n.getLocalization=function(e,t,i){i=dojo.i18n.normalizeLocale(i);var o=i.split("-"),n=[e,"nls",t].join("."),s=dojo._loadedModules[n];if(s){for(var d,a=o.length;a>0;a--){var r=o.slice(0,a).join("_");if(s[r]){d=s[r];break}}if(d||(d=s.ROOT),d){var l=function(){};return l.prototype=d,new l}}throw new Error("Bundle not found: "+t+" in "+e+" , locale="+i)},dojo.i18n.normalizeLocale=function(e){var t=e?e.toLowerCase():dojo.locale;return"root"==t&&(t="ROOT"),t},dojo.i18n._requireLocalization=function(e,t,i,o){var n=dojo.i18n.normalizeLocale(i),s=[e,"nls",t].join("."),d="";if(o){for(var a=o.split(","),r=0;r<a.length;r++)0==n.indexOf(a[r])&&a[r].length>d.length&&(d=a[r]);d||(d="ROOT")}var l=o?d:n,h=dojo._loadedModules[s],c=null;if(h){if(djConfig.localizationComplete&&h._built)return;var u=l.replace(/-/g,"_"),p=s+"."+u;c=dojo._loadedModules[p]}if(!c){h=dojo.provide(s);var m,j=dojo._getModuleSymbols(e),f=j.concat("nls").join("/");dojo.i18n._searchLocalePath(l,o,function(e){var i=e.replace(/-/g,"_"),n=s+"."+i,d=!1;if(dojo._loadedModules[n])d=!0;else{dojo.provide(n);var a=[f];"ROOT"!=e&&a.push(e),a.push(t);var r=a.join("/")+".js";d=dojo._loadPath(r,null,function(e){var t=function(){};t.prototype=m,h[i]=new t;for(var o in e)h[i][o]=e[o]})}return d&&h[i]?m=h[i]:h[i]=m,o?!0:void 0})}o&&n!=d&&(h[n.replace(/-/g,"_")]=h[d.replace(/-/g,"_")])},function(){var e=djConfig.extraLocale;if(e){!e instanceof Array&&(e=[e]);var t=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(i,o,n,s){if(t(i,o,n,s),!n)for(var d=0;d<e.length;d++)t(i,o,e[d],s)}}}(),dojo.i18n._searchLocalePath=function(e,t,i){e=dojo.i18n.normalizeLocale(e);for(var o=e.split("-"),n=[],s=o.length;s>0;s--)n.push(o.slice(0,s).join("-"));n.push(!1),t&&n.reverse();for(var d=n.length-1;d>=0;d--){var a=n[d]||"ROOT",r=i(a);if(r)break}},dojo.i18n._preloadLocalizations=function(e,t){function i(i){i=dojo.i18n.normalizeLocale(i),dojo.i18n._searchLocalePath(i,!0,function(i){for(var o=0;o<t.length;o++)if(t[o]==i)return dojo.require(e+"_"+i),!0;return!1})}i();for(var o=djConfig.extraLocale||[],n=0;n<o.length;n++)i(o[n])}),dojo._hasResource["dijit.ColorPalette"]||(dojo._hasResource["dijit.ColorPalette"]=!0,dojo.provide("dijit.ColorPalette"),dojo.declare("dijit.ColorPalette",[dijit._Widget,dijit._Templated],{defaultTimeout:500,timeoutChangeRate:.9,palette:"7x10",value:null,_currentFocus:0,_xDim:null,_yDim:null,_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},_imagePaths:{"7x10":dojo.moduleUrl("dijit","templates/colors7x10.png"),"3x4":dojo.moduleUrl("dijit","templates/colors3x4.png")},_paletteCoords:{leftOffset:4,topOffset:4,cWidth:20,cHeight:20},templateString:'<div class="dijitInline dijitColorPalette">\r\n	<div class="dijitColorPaletteInner" dojoAttachPoint="divNode" waiRole="grid" tabIndex="-1">\r\n		<img class="dijitColorPaletteUnder" dojoAttachPoint="imageNode" waiRole="presentation">\r\n	</div>	\r\n</div>\r\n',_paletteDims:{"7x10":{width:"206px",height:"145px"},"3x4":{width:"86px",height:"64px"}},postCreate:function(){dojo.mixin(this.divNode.style,this._paletteDims[this.palette]),this.imageNode.setAttribute("src",this._imagePaths[this.palette]);var e=this._palettes[this.palette];this.domNode.style.position="relative",this._highlightNodes=[],this.colorNames=dojo.i18n.getLocalization("dojo","colors",this.lang);for(var t=dojo.moduleUrl("dijit","templates/blank.gif"),i=new dojo.Color,o=this._paletteCoords,n=0;n<e.length;n++)for(var s=0;s<e[n].length;s++){var d=document.createElement("img");d.src=t,dojo.addClass(d,"dijitPaletteImg");var a=e[n][s],r=i.setColor(dojo.Color.named[a]);d.alt=this.colorNames[a],d.color=r.toHex();var l=d.style;l.color=l.backgroundColor=d.color,dojo.forEach(["Dijitclick","MouseOut","MouseOver","Blur","Focus"],function(e){this.connect(d,"on"+e.toLowerCase(),"_onColor"+e)},this),this.divNode.appendChild(d),l.top=o.topOffset+n*o.cHeight+"px",l.left=o.leftOffset+s*o.cWidth+"px",d.setAttribute("tabIndex","-1"),d.title=this.colorNames[a],dijit.setWaiRole(d,"gridcell"),d.index=this._highlightNodes.length,this._highlightNodes.push(d)}this._highlightNodes[this._currentFocus].tabIndex=0,this._xDim=e[0].length,this._yDim=e.length;var h={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:1,LEFT_ARROW:-1};for(var c in h)this._connects.push(dijit.typematic.addKeyListener(this.domNode,{keyCode:dojo.keys[c],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var e=h[c];return function(t){this._navigateByKey(e,t)}}(),this.timeoutChangeRate,this.defaultTimeout))},focus:function(){dijit.focus(this._highlightNodes[this._currentFocus])},onChange:function(){},_onColorDijitclick:function(e){var t=e.currentTarget;this._currentFocus!=t.index&&(this._currentFocus=t.index,dijit.focus(t)),this._selectColor(t),dojo.stopEvent(e)},_onColorMouseOut:function(e){dojo.removeClass(e.currentTarget,"dijitPaletteImgHighlight")},_onColorMouseOver:function(e){var t=e.currentTarget;t.tabIndex=0,t.focus()},_onColorBlur:function(e){dojo.removeClass(e.currentTarget,"dijitPaletteImgHighlight"),e.currentTarget.tabIndex=-1,this._currentFocus=0,this._highlightNodes[0].tabIndex=0},_onColorFocus:function(e){this._currentFocus!=e.currentTarget.index&&(this._highlightNodes[this._currentFocus].tabIndex=-1),this._currentFocus=e.currentTarget.index,dojo.addClass(e.currentTarget,"dijitPaletteImgHighlight")},_selectColor:function(e){this.onChange(this.value=e.color)},_navigateByKey:function(e,t){if(-1!=t){var i=this._currentFocus+e;if(i<this._highlightNodes.length&&i>-1){var o=this._highlightNodes[i];o.tabIndex=0,o.focus()}}}})),dojo._hasResource["dijit.Declaration"]||(dojo._hasResource["dijit.Declaration"]=!0,dojo.provide("dijit.Declaration"),dojo.declare("dijit.Declaration",dijit._Widget,{_noScript:!0,widgetClass:"",replaceVars:!0,defaults:null,mixins:[],buildRendering:function(){var e=this.srcNodeRef.parentNode.removeChild(this.srcNodeRef),t=dojo.query("> script[type='dojo/method'][event='preamble']",e).orphan(),i=dojo.query("> script[type^='dojo/']",e).orphan(),o=e.nodeName,n=this.defaults||{};this.mixins=this.mixins.length?dojo.map(this.mixins,function(e){return dojo.getObject(e)}):[dijit._Widget,dijit._Templated],t.length&&(n.preamble=dojo.parser._functionFromScript(t[0]));var s=dojo.map(i,function(e){var t=e.getAttribute("event")||"postscript";return{event:t,func:dojo.parser._functionFromScript(e)}});this.mixins.push(function(){dojo.forEach(s,function(e){dojo.connect(this,e.event,this,e.func)},this)}),n.widgetsInTemplate=!0,n._skipNodeCache=!0,n.templateString="<"+o+" class='"+e.className+"' dojoAttachPoint='"+(e.getAttribute("dojoAttachPoint")||"")+"' dojoAttachEvent='"+(e.getAttribute("dojoAttachEvent")||"")+"' >"+e.innerHTML.replace(/\%7B/g,"{").replace(/\%7D/g,"}")+"</"+o+">",dojo.query("[dojoType]",e).forEach(function(e){e.removeAttribute("dojoType")}),dojo.declare(this.widgetClass,this.mixins,n)}})),dojo._hasResource["dojo.dnd.common"]||(dojo._hasResource["dojo.dnd.common"]=!0,dojo.provide("dojo.dnd.common"),dojo.dnd._copyKey=navigator.appVersion.indexOf("Macintosh")<0?"ctrlKey":"metaKey",dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey]},dojo.dnd._uniqueId=0,dojo.dnd.getUniqueId=function(){var e;do e="dojoUnique"+ ++dojo.dnd._uniqueId;while(dojo.byId(e));return e},dojo.dnd._empty={},dojo.dnd.isFormElement=function(e){var t=e.target;return 3==t.nodeType&&(t=t.parentNode)," button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0}),dojo._hasResource["dojo.dnd.autoscroll"]||(dojo._hasResource["dojo.dnd.autoscroll"]=!0,dojo.provide("dojo.dnd.autoscroll"),dojo.dnd.getViewport=function(){var e=dojo.doc,t=e.documentElement,i=window,o=dojo.body();return dojo.isMozilla?{w:t.clientWidth,h:i.innerHeight}:!dojo.isOpera&&i.innerWidth?{w:i.innerWidth,h:i.innerHeight}:!dojo.isOpera&&t&&t.clientWidth?{w:t.clientWidth,h:t.clientHeight}:o.clientWidth?{w:o.clientWidth,h:o.clientHeight}:null},dojo.dnd.V_TRIGGER_AUTOSCROLL=32,dojo.dnd.H_TRIGGER_AUTOSCROLL=32,dojo.dnd.V_AUTOSCROLL_VALUE=16,dojo.dnd.H_AUTOSCROLL_VALUE=16,dojo.dnd.autoScroll=function(e){var t=dojo.dnd.getViewport(),i=0,o=0;e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL?i=-dojo.dnd.H_AUTOSCROLL_VALUE:e.clientX>t.w-dojo.dnd.H_TRIGGER_AUTOSCROLL&&(i=dojo.dnd.H_AUTOSCROLL_VALUE),e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL?o=-dojo.dnd.V_AUTOSCROLL_VALUE:e.clientY>t.h-dojo.dnd.V_TRIGGER_AUTOSCROLL&&(o=dojo.dnd.V_AUTOSCROLL_VALUE),window.scrollBy(i,o)},dojo.dnd._validNodes={div:1,p:1,td:1},dojo.dnd._validOverflow={auto:1,scroll:1},dojo.dnd.autoScrollNodes=function(e){for(var t=e.target;t;){if(1==t.nodeType&&t.tagName.toLowerCase()in dojo.dnd._validNodes){var i=dojo.getComputedStyle(t);if(i.overflow.toLowerCase()in dojo.dnd._validOverflow){var o=dojo._getContentBox(t,i),n=dojo._abs(t,!0);o.l+=n.x+t.scrollLeft,o.t+=n.y+t.scrollTop;var s=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,o.w/2),d=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,o.h/2),a=e.pageX-o.l,r=e.pageY-o.t,l=0,h=0;a>0&&a<o.w&&(s>a?l=-dojo.dnd.H_AUTOSCROLL_VALUE:a>o.w-s&&(l=dojo.dnd.H_AUTOSCROLL_VALUE)),r>0&&r<o.h&&(d>r?h=-dojo.dnd.V_AUTOSCROLL_VALUE:r>o.h-d&&(h=dojo.dnd.V_AUTOSCROLL_VALUE));var c=t.scrollLeft,u=t.scrollTop;if(t.scrollLeft=t.scrollLeft+l,t.scrollTop=t.scrollTop+h,c!=t.scrollLeft||u!=t.scrollTop)return}}try{t=t.parentNode}catch(p){t=null}}dojo.dnd.autoScroll(e)}),dojo._hasResource["dojo.dnd.Mover"]||(dojo._hasResource["dojo.dnd.Mover"]=!0,dojo.provide("dojo.dnd.Mover"),dojo.declare("dojo.dnd.Mover",null,{constructor:function(e,t,i){this.node=dojo.byId(e),this.marginBox={l:t.pageX,t:t.pageY},this.mouseButton=t.button;var o=this.host=i,n=e.ownerDocument,s=dojo.connect(n,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(n,"onmousemove",this,"onMouseMove"),dojo.connect(n,"onmouseup",this,"onMouseUp"),dojo.connect(n,"ondragstart",dojo,"stopEvent"),dojo.connect(n,"onselectstart",dojo,"stopEvent"),s],o&&o.onMoveStart&&o.onMoveStart(this)},onMouseMove:function(e){dojo.dnd.autoScroll(e);var t=this.marginBox;this.host.onMove(this,{l:t.l+e.pageX,t:t.t+e.pageY})},onMouseUp:function(e){this.mouseButton==e.button&&this.destroy()},onFirstMove:function(){this.node.style.position="absolute";var e=dojo.marginBox(this.node);e.l-=this.marginBox.l,e.t-=this.marginBox.t,this.marginBox=e,this.host.onFirstMove(this),dojo.disconnect(this.events.pop())},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var e=this.host;e&&e.onMoveStop&&e.onMoveStop(this),this.events=this.node=null}})),dojo._hasResource["dojo.dnd.Moveable"]||(dojo._hasResource["dojo.dnd.Moveable"]=!0,dojo.provide("dojo.dnd.Moveable"),dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:!1,constructor:function(e,t){this.node=dojo.byId(e),t||(t={}),this.handle=t.handle?dojo.byId(t.handle):null,this.handle||(this.handle=this.node),this.delay=t.delay>0?t.delay:0,this.skip=t.skip,this.mover=t.mover?t.mover:dojo.dnd.Mover,this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")]},markupFactory:function(e,t){return new dojo.dnd.Moveable(t,e)},destroy:function(){dojo.forEach(this.events,dojo.disconnect),this.events=this.node=this.handle=null},onMouseDown:function(e){this.skip&&dojo.dnd.isFormElement(e)||(this.delay?(this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove")),this.events.push(dojo.connect(this.handle,"onmouseup",this,"onMouseUp")),this._lastX=e.pageX,this._lastY=e.pageY):new this.mover(this.node,e,this),dojo.stopEvent(e))},onMouseMove:function(e){(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)&&(this.onMouseUp(e),new this.mover(this.node,e,this)),dojo.stopEvent(e)},onMouseUp:function(){dojo.disconnect(this.events.pop()),dojo.disconnect(this.events.pop())},onSelectStart:function(e){this.skip&&dojo.dnd.isFormElement(e)||dojo.stopEvent(e)},onMoveStart:function(e){dojo.publish("/dnd/move/start",[e]),dojo.addClass(dojo.body(),"dojoMove"),dojo.addClass(this.node,"dojoMoveItem")},onMoveStop:function(e){dojo.publish("/dnd/move/stop",[e]),dojo.removeClass(dojo.body(),"dojoMove"),dojo.removeClass(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(e,t){this.onMoving(e,t),dojo.marginBox(e.node,t),this.onMoved(e,t)},onMoving:function(){},onMoved:function(){}})),dojo._hasResource["dojo.dnd.move"]||(dojo._hasResource["dojo.dnd.move"]=!0,dojo.provide("dojo.dnd.move"),dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:!1,markupFactory:function(e,t){return new dojo.dnd.move.constrainedMoveable(t,e)},constructor:function(e,t){t||(t={}),this.constraints=t.constraints,this.within=t.within},onFirstMove:function(e){var t=this.constraintBox=this.constraints.call(this,e),i=e.marginBox;t.r=t.l+t.w-(this.within?i.w:0),t.b=t.t+t.h-(this.within?i.h:0)},onMove:function(e,t){var i=this.constraintBox;t.l=t.l<i.l?i.l:i.r<t.l?i.r:t.l,t.t=t.t<i.t?i.t:i.b<t.t?i.b:t.t,dojo.marginBox(e.node,t)}}),dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(e,t){return new dojo.dnd.move.boxConstrainedMoveable(t,e)},constructor:function(e,t){var i=t&&t.box;this.constraints=function(){return i}}}),dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(e,t){return new dojo.dnd.move.parentConstrainedMoveable(t,e)},constructor:function(e,t){var i=t&&t.area;this.constraints=function(){var e=this.node.parentNode,t=dojo.getComputedStyle(e),o=dojo._getMarginBox(e,t);if("margin"==i)return o;var n=dojo._getMarginExtents(e,t);return o.l+=n.l,o.t+=n.t,o.w-=n.w,o.h-=n.h,"border"==i?o:(n=dojo._getBorderExtents(e,t),o.l+=n.l,o.t+=n.t,o.w-=n.w,o.h-=n.h,"padding"==i?o:(n=dojo._getPadExtents(e,t),o.l+=n.l,o.t+=n.t,o.w-=n.w,o.h-=n.h,o))}}}),dojo.dnd.move.constrainedMover=function(e,t){var i=function(e,t,i){dojo.dnd.Mover.call(this,e,t,i)};return dojo.extend(i,dojo.dnd.Mover.prototype),dojo.extend(i,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var t=this.marginBox,i=this.constraintBox,o=t.l+e.pageX,n=t.t+e.pageY;o=o<i.l?i.l:i.r<o?i.r:o,n=n<i.t?i.t:i.b<n?i.b:n,this.host.onMove(this,{l:o,t:n})},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var i=this.constraintBox=e.call(this),o=this.marginBox;i.r=i.l+i.w-(t?o.w:0),i.b=i.t+i.h-(t?o.h:0)}}),i},dojo.dnd.move.boxConstrainedMover=function(e,t){return dojo.dnd.move.constrainedMover(function(){return e},t)},dojo.dnd.move.parentConstrainedMover=function(e,t){var i=function(){var t=this.node.parentNode,i=dojo.getComputedStyle(t),o=dojo._getMarginBox(t,i);if("margin"==e)return o;var n=dojo._getMarginExtents(t,i);return o.l+=n.l,o.t+=n.t,o.w-=n.w,o.h-=n.h,"border"==e?o:(n=dojo._getBorderExtents(t,i),o.l+=n.l,o.t+=n.t,o.w-=n.w,o.h-=n.h,"padding"==e?o:(n=dojo._getPadExtents(t,i),o.l+=n.l,o.t+=n.t,o.w-=n.w,o.h-=n.h,o))};return dojo.dnd.move.constrainedMover(i,t)},dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover,dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover,dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover),dojo._hasResource["dojo.fx"]||(dojo._hasResource["dojo.fx"]=!0,dojo.provide("dojo.fx"),dojo.provide("dojo.fx.Toggler"),dojo.fx.chain=function(e){var t=e.shift(),i=t;return dojo.forEach(e,function(e){dojo.connect(i,"onEnd",e,"play"),i=e}),t},dojo.fx.combine=function(e){var t=new dojo._Animation({curve:[0,1]});return e.length?(t.duration=e[0].duration,dojo.forEach(e,function(e){dojo.forEach(["play","pause","stop"],function(i){e[i]&&dojo.connect(t,i,e,i)})}),t):t},dojo.declare("dojo.fx.Toggler",null,{constructor:function(e){var t=this;dojo.mixin(t,e),t.node=e.node,t._showArgs=dojo.mixin({},e),t._showArgs.node=t.node,t._showArgs.duration=t.showDuration,t.showAnim=t.showFunc(t._showArgs),t._hideArgs=dojo.mixin({},e),t._hideArgs.node=t.node,t._hideArgs.duration=t.hideDuration,t.hideAnim=t.hideFunc(t._hideArgs),dojo.connect(t.showAnim,"beforeBegin",dojo.hitch(t.hideAnim,"stop",!0)),dojo.connect(t.hideAnim,"beforeBegin",dojo.hitch(t.showAnim,"stop",!0))},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(e){return this.showAnim.play(e||0)},hide:function(e){return this.hideAnim.play(e||0)}}),dojo.fx.wipeIn=function(e){e.node=dojo.byId(e.node);var t=e.node,i=t.style,o=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){if(i.overflow="hidden","hidden"==i.visibility||"none"==i.display)return i.height="1px",i.display="",i.visibility="",1;var e=dojo.style(t,"height");return Math.max(e,1)},end:function(){return t.scrollHeight}}}},e));return dojo.connect(o,"onEnd",function(){i.height="auto"}),o},dojo.fx.wipeOut=function(e){var t=e.node=dojo.byId(e.node),i=t.style,o=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},e));return dojo.connect(o,"beforeBegin",function(){i.overflow="hidden",i.display=""}),dojo.connect(o,"onEnd",function(){i.height="auto",i.display="none"}),o},dojo.fx.slideTo=function(e){var t=e.node=dojo.byId(e.node),i=null,o=null,n=function(e){return function(){var t=dojo.getComputedStyle(e),n=t.position;if(i="absolute"==n?e.offsetTop:parseInt(t.top)||0,o="absolute"==n?e.offsetLeft:parseInt(t.left)||0,"absolute"!=n&&"relative"!=n){var s=dojo.coords(e,!0);i=s.y,o=s.x,e.style.position="absolute",e.style.top=i+"px",e.style.left=o+"px"}}}(t);n();var s=dojo.animateProperty(dojo.mixin({properties:{top:{end:e.top||0},left:{end:e.left||0}}},e));return dojo.connect(s,"beforeBegin",s,n),s}),dojo._hasResource["dijit.layout.ContentPane"]||(dojo._hasResource["dijit.layout.ContentPane"]=!0,dojo.provide("dijit.layout.ContentPane"),dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:!1,parseOnLoad:!0,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:!1,"class":"dijitContentPane",postCreate:function(){this.domNode.title="",this.preload&&this._loadCheck();var e=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,e),this.errorMessage=dojo.string.substitute(this.errorMessage,e),dojo.addClass(this.domNode,this["class"])},startup:function(){this._started||(this._checkIfSingleChild(),this._singleChild&&this._singleChild.startup(),this._loadCheck(),this._started=!0)},_checkIfSingleChild:function(){var e=dojo.query(">",this.containerNode||this.domNode),t=e.filter("[widgetId]");1==e.length&&1==t.length?(this.isContainer=!0,this._singleChild=dijit.byNode(t[0])):(delete this.isContainer,delete this._singleChild)},refresh:function(){return this._prepareLoad(!0)},setHref:function(e){return this.href=e,this._prepareLoad()},setContent:function(e){this._isDownloaded||(this.href="",this._onUnloadHandler()),this._setContent(e||""),this._isDownloaded=!1,this.parseOnLoad&&this._createSubWidgets(),this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize&&this._singleChild.resize(this._contentBox),this._onLoadHandler()},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel(),delete this._xhrDfd},destroy:function(){this._beingDestroyed||(this._onUnloadHandler(),this._beingDestroyed=!0,this.inherited("destroy",arguments))},resize:function(e){dojo.marginBox(this.domNode,e);var t=this.containerNode||this.domNode,i=dojo.mixin(dojo.marginBox(t),e||{});this._contentBox=dijit.layout.marginBox2contentBox(t,i),this._singleChild&&this._singleChild.resize&&this._singleChild.resize(this._contentBox)},_prepareLoad:function(e){this.cancel(),this.isLoaded=!1,this._loadCheck(e)},_loadCheck:function(e){var t=this.open!==!1&&"none"!=this.domNode.style.display;this.href&&(e||this.preload&&!this._xhrDfd||this.refreshOnShow&&t&&!this._xhrDfd||!this.isLoaded&&t&&!this._xhrDfd)&&this._downloadExternalContent()},_downloadExternalContent:function(){this._onUnloadHandler(),this._setContent(this.onDownloadStart.call(this));var e=this,t={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};dojo.isObject(this.ioArgs)&&dojo.mixin(t,this.ioArgs);var i=this._xhrDfd=(this.ioMethod||dojo.xhrGet)(t);i.addCallback(function(t){try{e.onDownloadEnd.call(e),e._isDownloaded=!0,e.setContent.call(e,t)}catch(i){e._onError.call(e,"Content",i)}return delete e._xhrDfd,t}),i.addErrback(function(t){return i.cancelled||e._onError.call(e,"Download",t),delete e._xhrDfd,t})},_onLoadHandler:function(){this.isLoaded=!0;try{this.onLoad.call(this)}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code")}},_onUnloadHandler:function(){this.isLoaded=!1,this.cancel();try{this.onUnload.call(this)}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code")}},_setContent:function(e){this.destroyDescendants();try{for(var t=this.containerNode||this.domNode;t.firstChild;)dojo._destroyElement(t.firstChild);"string"==typeof e?(this.extractContent&&(match=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im),match&&(e=match[1])),t.innerHTML=e):e.nodeType?t.appendChild(e):dojo.forEach(e,function(e){t.appendChild(e.cloneNode(!0))})}catch(i){var o=this.onContentError(i);try{t.innerHTML=o}catch(i){console.error("Fatal "+this.id+" could not change content due to "+i.message,i)}}},_onError:function(e,t,i){var o=this["on"+e+"Error"].call(this,t);i?console.error(i,t):o&&this._setContent.call(this,o)},_createSubWidgets:function(){var e=this.containerNode||this.domNode;try{dojo.parser.parse(e,!0)}catch(t){this._onError("Content",t,"Couldn't create widgets in "+this.id+(this.href?" from "+this.href:""))}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})),dojo._hasResource["dijit.form.Form"]||(dojo._hasResource["dijit.form.Form"]=!0,dojo.provide("dijit.form.Form"),dojo.declare("dijit.form._FormMixin",null,{action:"",method:"",enctype:"",name:"","accept-charset":"",accept:"",target:"",attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{action:"",method:"",enctype:"","accept-charset":"",accept:"",target:""}),execute:function(){},onCancel:function(){},onExecute:function(){},templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onsubmit:_onSubmit' name='${name}' enctype='multipart/form-data'></form>",_onSubmit:function(e){dojo.stopEvent(e),this.onExecute(),this.execute(this.getValues())},submit:function(){this.containerNode.submit()},setValues:function(e){var t={};dojo.forEach(this.getDescendants(),function(e){if(e.name){var i=t[e.name]||(t[e.name]=[]);i.push(e)}});for(var i in t){var o=t[i],n=dojo.getObject(i,!1,e);dojo.isArray(n)||(n=[n]),o[0].setChecked?dojo.forEach(o,function(e){e.setChecked(-1!=dojo.indexOf(n,e.value))}):dojo.forEach(o,function(e,t){e.setValue(n[t])})}},getValues:function(){var e={};return dojo.forEach(this.getDescendants(),function(t){var i=t.getValue?t.getValue():t.value,o=t.name;if(o)if(t.setChecked)if(/Radio/.test(t.declaredClass))t.checked&&dojo.setObject(o,i,e);else{var n=dojo.getObject(o,!1,e);n||(n=[],dojo.setObject(o,n,e)),t.checked&&n.push(i)}else dojo.setObject(o,i,e)}),e},isValid:function(){return dojo.every(this.getDescendants(),function(e){return!e.isValid||e.isValid()})}}),dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],null)),dojo._hasResource["dijit.Dialog"]||(dojo._hasResource["dijit.Dialog"]=!0,dojo.provide("dijit.Dialog"),dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class=dijitDialogUnderlayWrapper id='${id}_underlay'><div class=dijitDialogUnderlay dojoAttachPoint='node'></div></div>",postCreate:function(){dojo.body().appendChild(this.domNode),this.bgIframe=new dijit.BackgroundIframe(this.domNode)},layout:function(){var e=dijit.getViewport(),t=this.node.style,i=this.domNode.style;i.top=e.t+"px",i.left=e.l+"px",t.width=e.w+"px",t.height=e.h+"px";var o=dijit.getViewport();e.w!=o.w&&(t.width=o.w+"px"),e.h!=o.h&&(t.height=o.h+"px")},show:function(){this.domNode.style.display="block",this.layout(),this.bgIframe.iframe&&(this.bgIframe.iframe.style.display="block"),this._resizeHandler=this.connect(window,"onresize","layout")},hide:function(){this.domNode.style.display="none",this.bgIframe.iframe&&(this.bgIframe.iframe.style.display="none"),this.disconnect(this._resizeHandler)},uninitialize:function(){this.bgIframe&&this.bgIframe.destroy()}}),dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{templateString:null,templateString:'<div class="dijitDialog">\r\n	<div dojoAttachPoint="titleBar" class="dijitDialogTitleBar" tabindex="0" waiRole="dialog">\r\n	<span dojoAttachPoint="titleNode" class="dijitDialogTitle">${title}</span>\r\n	<span dojoAttachPoint="closeButtonNode" class="dijitDialogCloseIcon" dojoAttachEvent="onclick: hide">\r\n		<span dojoAttachPoint="closeText" class="closeText">x</span>\r\n	</span>\r\n	</div>\r\n		<div dojoAttachPoint="containerNode" class="dijitDialogPaneContent"></div>\r\n	<span dojoAttachPoint="tabEnd" dojoAttachEvent="onfocus:_cycleFocus" tabindex="0"></span>\r\n</div>\r\n',open:!1,duration:400,_lastFocusItem:null,attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{title:"titleBar"}),postCreate:function(){dojo.body().appendChild(this.domNode),this.inherited("postCreate",arguments),this.domNode.style.display="none",this.connect(this,"onExecute","hide"),this.connect(this,"onCancel","hide")},onLoad:function(){this._position(),this.inherited("onLoad",arguments)},_setup:function(){this._modalconnects=[],this.titleBar&&(this._moveable=new dojo.dnd.Moveable(this.domNode,{handle:this.titleBar})),this._underlay=new dijit.DialogUnderlay;var e=this.domNode;this._fadeIn=dojo.fx.combine([dojo.fadeIn({node:e,duration:this.duration}),dojo.fadeIn({node:this._underlay.domNode,duration:this.duration,onBegin:dojo.hitch(this._underlay,"show")})]),this._fadeOut=dojo.fx.combine([dojo.fadeOut({node:e,duration:this.duration,onEnd:function(){e.style.display="none"}}),dojo.fadeOut({node:this._underlay.domNode,duration:this.duration,onEnd:dojo.hitch(this._underlay,"hide")})])},uninitialize:function(){this._underlay&&this._underlay.destroy()},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var e=dijit.getViewport(),t=dojo.marginBox(this.domNode),i=this.domNode.style;i.left=Math.floor(e.l+(e.w-t.w)/2)+"px",i.top=Math.floor(e.t+(e.h-t.h)/2)+"px"}},_findLastFocus:function(e){this._lastFocused=e.target},_cycleFocus:function(){this._lastFocusItem||(this._lastFocusItem=this._lastFocused),this.titleBar.focus()
},_onKey:function(e){if(e.keyCode){var t=e.target;if(t==this.titleBar&&e.shiftKey&&e.keyCode==dojo.keys.TAB)this._lastFocusItem&&this._lastFocusItem.focus(),dojo.stopEvent(e);else{for(;t;){if(t==this.domNode){if(e.keyCode!=dojo.keys.ESCAPE)return;this.hide()}t=t.parentNode}if(e.keyCode!=dojo.keys.TAB)dojo.stopEvent(e);else if(!dojo.isOpera)try{this.titleBar.focus()}catch(i){}}}},show:function(){this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),"playing"==this._fadeOut.status()&&this._fadeOut.stop(),this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout")),this._modalconnects.push(dojo.connect(document.documentElement,"onkeypress",this,"_onKey"));var e="object"==typeof document.ondeactivate?"ondeactivate":"onblur";this._modalconnects.push(dojo.connect(this.containerNode,e,this,"_findLastFocus")),dojo.style(this.domNode,"opacity",0),this.domNode.style.display="block",this.open=!0,this._loadCheck(),this._position(),this._fadeIn.play(),this._savedFocus=dijit.getFocus(this),setTimeout(dojo.hitch(this,function(){dijit.focus(this.titleBar)}),50)},hide:function(){this._alreadyInitialized&&("playing"==this._fadeIn.status()&&this._fadeIn.stop(),this._fadeOut.play(),this._scrollConnected&&(this._scrollConnected=!1),dojo.forEach(this._modalconnects,dojo.disconnect),this._modalconnects=[],this.connect(this._fadeOut,"onEnd",dojo.hitch(this,function(){dijit.focus(this._savedFocus)})),this.open=!1)},layout:function(){"block"==this.domNode.style.display&&(this._underlay.layout(),this._position())}}),dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{title:"",_lastFocusItem:null,templateString:null,templateString:'<div class="dijitTooltipDialog" >\r\n	<div class="dijitTooltipContainer">\r\n		<div class ="dijitTooltipContents dijitTooltipFocusNode" dojoAttachPoint="containerNode" tabindex="0" waiRole="dialog"></div>\r\n	</div>\r\n	<span dojoAttachPoint="tabEnd" tabindex="0" dojoAttachEvent="focus:_cycleFocus"></span>\r\n	<div class="dijitTooltipConnector" ></div>\r\n</div>\r\n',postCreate:function(){this.inherited("postCreate",arguments),this.connect(this.containerNode,"onkeypress","_onKey");var e="object"==typeof document.ondeactivate?"ondeactivate":"onblur";this.connect(this.containerNode,e,"_findLastFocus"),this.containerNode.title=this.title},orient:function(e){this.domNode.className="dijitTooltipDialog  dijitTooltipAB"+("L"==e.charAt(1)?"Left":"Right")+" dijitTooltip"+("T"==e.charAt(0)?"Below":"Above")},onOpen:function(e){this.orient(e.corner),this._loadCheck(),this.containerNode.focus()},_onKey:function(e){e.keyCode==dojo.keys.ESCAPE?this.onCancel():e.target==this.containerNode&&e.shiftKey&&e.keyCode==dojo.keys.TAB?(this._lastFocusItem&&this._lastFocusItem.focus(),dojo.stopEvent(e)):e.keyCode==dojo.keys.TAB&&e.stopPropagation()},_findLastFocus:function(e){this._lastFocused=e.target},_cycleFocus:function(){this._lastFocusItem||(this._lastFocusItem=this._lastFocused),this.containerNode.focus()}})),dojo._hasResource["dijit._editor.selection"]||(dojo._hasResource["dijit._editor.selection"]=!0,dojo.provide("dijit._editor.selection"),dojo.mixin(dijit._editor.selection,{getType:function(){if(dojo.doc.selection)return dojo.doc.selection.type.toLowerCase();var e,t="text";try{e=dojo.global.getSelection()}catch(i){}if(e&&1==e.rangeCount){var o=e.getRangeAt(0);o.startContainer==o.endContainer&&o.endOffset-o.startOffset==1&&3!=o.startContainer.nodeType&&(t="control")}return t},getSelectedText:function(){if(dojo.doc.selection)return"control"==dijit._editor.selection.getType()?null:dojo.doc.selection.createRange().text;var e=dojo.global.getSelection();return e?e.toString():void 0},getSelectedHtml:function(){if(dojo.doc.selection)return"control"==dijit._editor.selection.getType()?null:dojo.doc.selection.createRange().htmlText;var e=dojo.global.getSelection();if(e&&e.rangeCount){var t=e.getRangeAt(0).cloneContents(),i=document.createElement("div");return i.appendChild(t),i.innerHTML}return null},getSelectedElement:function(){if("control"==this.getType()){if(!dojo.doc.selection){var e=dojo.global.getSelection();return e.anchorNode.childNodes[e.anchorOffset]}var t=dojo.doc.selection.createRange();if(t&&t.item)return dojo.doc.selection.createRange().item(0)}},getParentElement:function(){if("control"==this.getType()){var e=this.getSelectedElement();if(e)return e.parentNode}else{if(dojo.doc.selection)return dojo.doc.selection.createRange().parentElement();var t=dojo.global.getSelection();if(t){for(var i=t.anchorNode;i&&1!=i.nodeType;)i=i.parentNode;return i}}},hasAncestorElement:function(){return null!=this.getAncestorElement.apply(this,arguments)},getAncestorElement:function(){var e=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(e,arguments)},isTag:function(e,t){if(e&&e.tagName)for(var i=e.tagName.toLowerCase(),o=0;o<t.length;o++){var n=String(t[o]).toLowerCase();if(i==n)return n}return""},getParentOfType:function(e,t){for(;e;){if(this.isTag(e,t).length)return e;e=e.parentNode}return null},remove:function(){var e=dojo.doc.selection;return e?("none"!=e.type.toLowerCase()&&e.clear(),e):(e=dojo.global.getSelection(),e.deleteFromDocument(),e)},selectElementChildren:function(e,t){var i=dojo.global,o=dojo.doc;if(e=dojo.byId(e),o.selection&&dojo.body().createTextRange){var n=e.ownerDocument.body.createTextRange();n.moveToElementText(e),t||n.select()}else if(i.getSelection){var s=i.getSelection();s.setBaseAndExtent?s.setBaseAndExtent(e,0,e,e.innerText.length-1):s.selectAllChildren&&s.selectAllChildren(e)}},selectElement:function(e,t){var i=dojo.doc;if(e=dojo.byId(e),i.selection&&dojo.body().createTextRange)try{var o=dojo.body().createControlRange();o.addElement(e),t||o.select()}catch(n){this.selectElementChildren(e,t)}else if(dojo.global.getSelection){var s=dojo.global.getSelection();if(s.removeAllRanges){var o=i.createRange();o.selectNode(e),s.removeAllRanges(),s.addRange(o)}}}})),!dojo._hasResource["dijit._editor.RichText"]){if(dojo._hasResource["dijit._editor.RichText"]=!0,dojo.provide("dijit._editor.RichText"),!djConfig.useXDomain||djConfig.allowXdRichTextSave)if(dojo._postLoad)!function(){var e=dojo.doc.createElement("textarea");e.id="dijit._editor.RichText.savedContent";var t=e.style;t.display="none",t.position="absolute",t.top="-100px",t.left="-100px",t.height="3px",t.width="3px",dojo.body().appendChild(e)}();else try{dojo.doc.write('<textarea id="dijit._editor.RichText.savedContent" style="display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;"></textarea>')}catch(e){}dojo.declare("dijit._editor.RichText",[dijit._Widget],{constructor:function(){this.contentPreFilters=[],this.contentPostFilters=[],this.contentDomPreFilters=[],this.contentDomPostFilters=[],this.editingAreaStyleSheets=[],this._keyHandlers={},this.contentPreFilters.push(dojo.hitch(this,"_preFixUrlAttributes")),dojo.isMoz&&this.contentPreFilters.push(this._fixContentForMoz),this.onLoadDeferred=new dojo.Deferred},inheritWidth:!1,focusOnLoad:!1,name:"",styleSheets:"",_content:"",height:"300px",minHeight:"1em",isClosed:!0,isLoaded:!1,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",onLoadDeferred:null,postCreate:function(){dojo.publish("dijit._editor.RichText::init",[this]),this.open(),this.setupDefaultShortcuts()},setupDefaultShortcuts:function(){var e=this.KEY_CTRL,t=function(e,t){return 1==arguments.length?function(){this.execCommand(e)}:function(){this.execCommand(e,t)}};this.addKeyHandler("b",e,t("bold")),this.addKeyHandler("i",e,t("italic")),this.addKeyHandler("u",e,t("underline")),this.addKeyHandler("a",e,t("selectall")),this.addKeyHandler("s",e,function(){this.save(!0)}),this.addKeyHandler("1",e,t("formatblock","h1")),this.addKeyHandler("2",e,t("formatblock","h2")),this.addKeyHandler("3",e,t("formatblock","h3")),this.addKeyHandler("4",e,t("formatblock","h4")),this.addKeyHandler("\\",e,t("insertunorderedlist")),dojo.isIE||this.addKeyHandler("Z",e,t("redo"))},events:["onKeyPress","onKeyDown","onKeyUp","onClick"],captureEvents:[],_editorCommandsLocalized:!1,_localizeEditorCommands:function(){if(!this._editorCommandsLocalized){this._editorCommandsLocalized=!0;for(var e,t=["p","pre","address","h1","h2","h3","h4","h5","h6","ol","div","ul"],i="",o=0;e=t[o++];)i+="l"!=e.charAt(1)?"<"+e+"><span>content</span></"+e+">":"<"+e+"><li>content</li></"+e+">";var n=document.createElement("div");n.style.position="absolute",n.style.left="-2000px",n.style.top="-2000px",document.body.appendChild(n),n.innerHTML=i;for(var s=n.firstChild;s;){dijit._editor.selection.selectElement(s.firstChild),dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[s.firstChild]);var d=s.tagName.toLowerCase();this._local2NativeFormatNames[d]=document.queryCommandValue("formatblock"),this._native2LocalFormatNames[this._local2NativeFormatNames[d]]=d,s=s.nextSibling}document.body.removeChild(n)}},open:function(element){if((!this.onLoadDeferred||this.onLoadDeferred.fired>=0)&&(this.onLoadDeferred=new dojo.Deferred),this.isClosed||this.close(),dojo.publish("dijit._editor.RichText::open",[this]),this._content="",1==arguments.length&&element.nodeName&&(this.domNode=element),this.domNode.nodeName&&"textarea"==this.domNode.nodeName.toLowerCase()){this.textarea=this.domNode,this.name=this.textarea.name;var html=this._preFilterContent(this.textarea.value);this.domNode=dojo.doc.createElement("div"),this.domNode.setAttribute("widgetId",this.id),this.textarea.removeAttribute("widgetId"),this.domNode.cssText=this.textarea.cssText,this.domNode.className+=" "+this.textarea.className,dojo.place(this.domNode,this.textarea,"before");var tmpFunc=dojo.hitch(this,function(){with(this.textarea.style)display="block",position="absolute",left=top="-1000px",dojo.isIE&&(this.__overflow=overflow,overflow="hidden")});dojo.isIE?setTimeout(tmpFunc,10):tmpFunc()}else{var html=this._preFilterContent(this.getNodeChildrenHtml(this.domNode));this.domNode.innerHTML=""}""==html&&(html="&nbsp;");var content=dojo.contentBox(this.domNode);if(this._oldHeight=content.h,this._oldWidth=content.w,this.savedContent=html,this.domNode.nodeName&&"LI"==this.domNode.nodeName&&(this.domNode.innerHTML=" <br>"),this.editingArea=dojo.doc.createElement("div"),this.domNode.appendChild(this.editingArea),""!=this.name&&(!djConfig.useXDomain||djConfig.allowXdRichTextSave)){var saveTextarea=dojo.byId("dijit._editor.RichText.savedContent");if(""!=saveTextarea.value)for(var dat,datas=saveTextarea.value.split(this._SEPARATOR),i=0;dat=datas[i++];){var data=dat.split(":");if(data[0]==this.name){html=data[1],datas.splice(i,1);break}}dojo.connect(window,"onbeforeunload",this,"_saveContent")}if(this.isClosed=!1,dojo.isIE||dojo.isSafari||dojo.isOpera){var ifr=this.iframe=dojo.doc.createElement("iframe");ifr.src="javascript:void(0)",this.editorObject=ifr,ifr.style.border="none",ifr.style.width="100%",ifr.frameBorder=0,this.editingArea.appendChild(ifr),this.window=ifr.contentWindow,this.document=this.window.document,this.document.open(),this.document.write(this._getIframeDocTxt(html)),this.document.close(),dojo.isIE>=7?(this.height&&(ifr.style.height=this.height),this.minHeight&&(ifr.style.minHeight=this.minHeight)):ifr.style.height=this.height?this.height:this.minHeight,dojo.isIE&&this._localizeEditorCommands(),this.onLoad()}else this._drawIframe(html);"LI"==this.domNode.nodeName&&(this.domNode.lastChild.style.marginTop="-1.2em"),this.domNode.className+=" RichTextEditable"},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_localizedIframeTitles:null,_getIframeDocTxt:function(e){var t=dojo.getComputedStyle(this.domNode);this.height||dojo.isMoz||(e="<div>"+e+"</div>");var i=[t.fontWeight,t.fontSize,t.fontFamily].join(" "),o=t.lineHeight;return o=o.indexOf("px")>=0?parseFloat(o)/parseFloat(t.fontSize):o.indexOf("em")>=0?parseFloat(o):"1.0",[this.isLeftToRight()?"<html><head>":"<html dir='rtl'><head>",dojo.isMoz?"<title>"+this._localizedIframeTitles.iframeEditTitle+"</title>":"","<style>","body,html {","	background:transparent;","	padding: 0;","	margin: 0;","}","body{","	top:0px; left:0px; right:0px;",this.height||dojo.isOpera?"":"position: fixed;","	font:",i,";","	min-height:",this.minHeight,";","	line-height:",o,"}","p{ margin: 1em 0 !important; }",this.height?"":"body,html{overflow-y:hidden;/*for IE*/} body > div {overflow-x:auto;/*for FF to show vertical scrollbar*/}","li > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; } ","li{ min-height:1.2em; }","</style>",this._applyEditingAreaStyleSheets(),"</head><body>"+e+"</body></html>"].join("")},_drawIframe:function(e){if(!this.iframe){var t=this.iframe=dojo.doc.createElement("iframe"),i=t.style;i.border="none",i.lineHeight="0",i.verticalAlign="bottom",this.editorObject=this.iframe,this._localizedIframeTitles=dojo.i18n.getLocalization("dijit","Textarea");var o=dojo.query('label[for="'+this.id+'"]');o.length&&(this._localizedIframeTitles.iframeEditTitle=o[0].innerHTML+" "+this._localizedIframeTitles.iframeEditTitle)}if(this.iframe.style.width=this.inheritWidth?this._oldWidth:"100%",this.height?this.iframe.style.height=this.height:this.iframe.height=this._oldHeight,this.textarea)var n=this.srcNodeRef;else{var n=dojo.doc.createElement("div");n.style.display="none",n.innerHTML=e,this.editingArea.appendChild(n)}this.editingArea.appendChild(this.iframe);var s=!1,d=this.iframe.contentDocument;d.open(),d.write(this._getIframeDocTxt(e)),d.close();var a=dojo.hitch(this,function(){if(!s){if(s=!0,this.editNode)dojo._destroyElement(n),this.editNode.innerHTML=e,this.onDisplayChanged();else{try{if(this.iframe.contentWindow?(this.window=this.iframe.contentWindow,this.document=this.iframe.contentWindow.document):this.iframe.contentDocument&&(this.window=this.iframe.contentDocument.window,this.document=this.iframe.contentDocument),!this.document.body)throw"Error"}catch(t){return setTimeout(a,500),s=!1,void 0}dojo._destroyElement(n),this.document.designMode="on",this.onLoad()}this._preDomFilterContent(this.editNode)}});a()},_applyEditingAreaStyleSheets:function(){var e=[];this.styleSheets&&(e=this.styleSheets.split(";"),this.styleSheets=""),e=e.concat(this.editingAreaStyleSheets),this.editingAreaStyleSheets=[];for(var t,i="",o=0;t=e[o++];){var n=new dojo._Url(dojo.global.location,t).toString();this.editingAreaStyleSheets.push(n),i+='<link rel="stylesheet" type="text/css" href="'+n+'"/>'}return i},addStyleSheet:function(uri){var url=uri.toString();if(("."==url.charAt(0)||"/"!=url.charAt(0)&&!uri.host)&&(url=new dojo._Url(dojo.global.location,url).toString()),dojo.indexOf(this.editingAreaStyleSheets,url)>-1)return console.debug("dijit._editor.RichText.addStyleSheet: Style sheet "+url+" is already applied to the editing area!"),void 0;if(this.editingAreaStyleSheets.push(url),this.document.createStyleSheet)this.document.createStyleSheet(url);else{var head=this.document.getElementsByTagName("head")[0],stylesheet=this.document.createElement("link");with(stylesheet)rel="stylesheet",type="text/css",href=url;head.appendChild(stylesheet)}},removeStyleSheet:function(e){var t=e.toString();("."==t.charAt(0)||"/"!=t.charAt(0)&&!e.host)&&(t=new dojo._Url(dojo.global.location,t).toString());var i=dojo.indexOf(this.editingAreaStyleSheets,t);return-1==i?(console.debug("dijit._editor.RichText.removeStyleSheet: Style sheet "+t+" is not applied to the editing area so it can not be removed!"),void 0):(delete this.editingAreaStyleSheets[i],dojo.withGlobal(this.window,"query",dojo,['link:[href="'+t+'"]']).orphan(),void 0)},disabled:!1,_mozSettingProps:["styleWithCSS","insertBrOnReturn"],setDisabled:function(e){dojo.isIE||dojo.isSafari||dojo.isOpera?this.editNode.contentEditable=!e:(e&&(this._mozSettings=[!1,"BR"===this.blockNodeForEnter]),this.document.designMode=e?"off":"on",e||dojo.forEach(this._mozSettingProps,function(e,t){this.document.execCommand(e,!1,this._mozSettings[t])},this)),this.disabled=e},_isResized:function(){return!1},onLoad:function(e){this.isLoaded=!0,this.editNode=this.height||dojo.isMoz?this.document.body:this.document.body.firstChild,this.editNode.contentEditable=!0,this._preDomFilterContent(this.editNode);for(var t,i=this.events.concat(this.captureEvents),o=0;t=i[o++];)this.connect(this.document,t.toLowerCase(),t);if(dojo.isIE)this.editNode.style.zoom=1;else try{this.document.execCommand("styleWithCSS",!1,!1)}catch(n){}this.focusOnLoad&&this.focus(),this.onDisplayChanged(e),this.onLoadDeferred&&this.onLoadDeferred.callback(!0)},onKeyDown:function(e){dojo.isIE?e.keyCode===dojo.keys.BACKSPACE&&"Control"===this.document.selection.type?(dojo.stopEvent(e),this.execCommand("delete")):(65<=e.keyCode&&e.keyCode<=90||e.keyCode>=37&&e.keyCode<=40)&&(e.charCode=e.keyCode,this.onKeyPress(e)):dojo.isMoz&&(e.keyCode!=dojo.keys.TAB||e.shiftKey||e.ctrlKey||e.altKey||!this.iframe?e.keyCode==dojo.keys.TAB&&e.shiftKey&&(this.toolbar&&this.toolbar.focus(),dojo.stopEvent(e)):(this.iframe.contentDocument.title=this._localizedIframeTitles.iframeFocusTitle,this.iframe.focus(),dojo.stopEvent(e)))},onKeyUp:function(){},KEY_CTRL:1,KEY_SHIFT:2,onKeyPress:function(e){var t=e.ctrlKey?this.KEY_CTRL:0|e.shiftKey?this.KEY_SHIFT:0,i=e.keyChar||e.keyCode;if(this._keyHandlers[i])for(var o,n=this._keyHandlers[i],s=0;o=n[s++];)if(t==o.modifiers){o.handler.apply(this,arguments)||e.preventDefault();break}setTimeout(dojo.hitch(this,function(){this.onKeyPressed(e)}),1)},addKeyHandler:function(e,t,i){dojo.isArray(this._keyHandlers[e])||(this._keyHandlers[e]=[]),this._keyHandlers[e].push({modifiers:t||0,handler:i})},onKeyPressed:function(){this.onDisplayChanged()},onClick:function(e){this.onDisplayChanged(e)},_onBlur:function(){var e=this.getValue(!0);e!=this.savedContent&&(this.onChange(e),this.savedContent=e),dojo.isMoz&&this.iframe&&(this.iframe.contentDocument.title=this._localizedIframeTitles.iframeEditTitle)},_initialFocus:!0,_onFocus:function(){dojo.isMoz&&this._initialFocus&&(this._initialFocus=!1,"&nbsp;"==this.editNode.innerHTML.replace(/^\s+|\s+$/g,"")&&this.placeCursorAtStart())},blur:function(){this.iframe?this.window.blur():this.editNode&&this.editNode.blur()},focus:function(){this.iframe&&!dojo.isIE?dijit.focus(this.iframe):this.editNode&&this.editNode.focus?dijit.focus(this.editNode):console.debug("Have no idea how to focus into the editor!")},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){this._updateTimer||(this._updateTimer&&clearTimeout(this._updateTimer),this._updateTimer=setTimeout(dojo.hitch(this,this.onNormalizedDisplayChanged),this.updateInterval))},onNormalizedDisplayChanged:function(){this._updateTimer=null},onChange:function(){},_normalizeCommand:function(e){var t=e.toLowerCase();return"formatblock"==t?dojo.isSafari&&(t="heading"):"hilitecolor"!=t||dojo.isMoz||(t="backcolor"),t},queryCommandAvailable:function(e){function t(e){return{ie:Boolean(e&i),mozilla:Boolean(e&o),safari:Boolean(e&n),safari420:Boolean(e&d),opera:Boolean(e&s)}}var i=1,o=2,n=4,s=8,d=16,a=dojo.isSafari,r=null;switch(e.toLowerCase()){case"bold":case"italic":case"underline":case"subscript":case"superscript":case"fontname":case"fontsize":case"forecolor":case"hilitecolor":case"justifycenter":case"justifyfull":case"justifyleft":case"justifyright":case"delete":case"selectall":r=t(o|i|n|s);break;case"createlink":case"unlink":case"removeformat":case"inserthorizontalrule":case"insertimage":case"insertorderedlist":case"insertunorderedlist":case"indent":case"outdent":case"formatblock":case"inserthtml":case"undo":case"redo":case"strikethrough":r=t(o|i|s|d);break;case"blockdirltr":case"blockdirrtl":case"dirltr":case"dirrtl":case"inlinedirltr":case"inlinedirrtl":r=t(i);break;case"cut":case"copy":case"paste":r=t(i|o|d);break;case"inserttable":r=t(o|i);break;case"insertcell":case"insertcol":case"insertrow":case"deletecells":case"deletecols":case"deleterows":case"mergecells":case"splitcell":r=t(i|o);break;default:return!1}return dojo.isIE&&r.ie||dojo.isMoz&&r.mozilla||dojo.isSafari&&r.safari||a&&r.safari420||dojo.isOpera&&r.opera},execCommand:function(e,t){var i;if(this.focus(),e=this._normalizeCommand(e),void 0!=t){if("heading"==e)throw new Error("unimplemented");"formatblock"==e&&dojo.isIE&&(t="<"+t+">")}if("inserthtml"==e)if(t=this._preFilterContent(t),dojo.isIE){var o=this.document.selection.createRange();o.pasteHTML(t),o.select(),i=!0}else dojo.isMoz&&!t.length?(dojo.withGlobal(this.window,"remove",dijit._editor.selection),i=!0):i=this.document.execCommand(e,!1,t);else if("unlink"==e&&this.queryCommandEnabled("unlink")&&(dojo.isMoz||dojo.isSafari)){var n=(this.window.getSelection(),dojo.withGlobal(this.window,"getAncestorElement",dijit._editor.selection,["a"]));dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[n]),i=this.document.execCommand("unlink",!1,null)}else"hilitecolor"==e&&dojo.isMoz?(this.document.execCommand("styleWithCSS",!1,!0),i=this.document.execCommand(e,!1,t),this.document.execCommand("styleWithCSS",!1,!1)):!dojo.isIE||"backcolor"!=e&&"forecolor"!=e?(t=arguments.length>1?t:null,(t||"createlink"!=e)&&(i=this.document.execCommand(e,!1,t))):(t=arguments.length>1?t:null,i=this.document.execCommand(e,!1,t));return this.onDisplayChanged(),i},queryCommandEnabled:function(e){if(e=this._normalizeCommand(e),dojo.isMoz||dojo.isSafari){if("unlink"==e)return dojo.withGlobal(this.window,"hasAncestorElement",dijit._editor.selection,["a"]);if("inserttable"==e)return!0}if(dojo.isSafari)if("copy"==e)e="cut";else if("paste"==e)return!0;var t=dojo.isIE?this.document.selection.createRange():this.document;return t.queryCommandEnabled(e)},queryCommandState:function(e){return e=this._normalizeCommand(e),this.document.queryCommandState(e)},queryCommandValue:function(e){return e=this._normalizeCommand(e),dojo.isIE&&"formatblock"==e?this._local2NativeFormatNames[this.document.queryCommandValue(e)]:this.document.queryCommandValue(e)},placeCursorAtStart:function(){this.focus();var e=!1;if(dojo.isMoz)for(var t=this.editNode.firstChild;t;){if(3==t.nodeType){if(t.nodeValue.replace(/^\s+|\s+$/g,"").length>0){e=!0,dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[t]);break}}else if(1==t.nodeType){e=!0,dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[t]);break}t=t.nextSibling}else e=!0,dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[this.editNode]);e&&dojo.withGlobal(this.window,"collapse",dijit._editor.selection,[!0])},placeCursorAtEnd:function(){this.focus();var e=!1;if(dojo.isMoz)for(var t=this.editNode.lastChild;t;){if(3==t.nodeType){if(t.nodeValue.replace(/^\s+|\s+$/g,"").length>0){e=!0,dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[t]);break}}else if(1==t.nodeType){e=!0,t.lastChild?dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[t.lastChild]):dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[t]);break}t=t.previousSibling}else e=!0,dojo.withGlobal(this.window,"selectElementChildren",dijit._editor.selection,[this.editNode]);e&&dojo.withGlobal(this.window,"collapse",dijit._editor.selection,[!1])},getValue:function(e){return!this.textarea||!this.isClosed&&this.isLoaded?this._postFilterContent(null,e):this.textarea.value},setValue:function(e){!this.textarea||!this.isClosed&&this.isLoaded?(e=this._preFilterContent(e),this.isClosed?(this.domNode.innerHTML=e,this._preDomFilterContent(this.domNode)):(this.editNode.innerHTML=e,this._preDomFilterContent(this.editNode))):this.textarea.value=e},replaceValue:function(e){this.isClosed?this.setValue(e):this.window&&this.window.getSelection&&!dojo.isMoz?this.setValue(e):this.window&&this.window.getSelection?(e=this._preFilterContent(e),this.execCommand("selectall"),dojo.isMoz&&!e&&(e="&nbsp;"),this.execCommand("inserthtml",e),this._preDomFilterContent(this.editNode)):this.document&&this.document.selection&&this.setValue(e)},_preFilterContent:function(e){var t=e;return dojo.forEach(this.contentPreFilters,function(e){e&&(t=e(t))}),t},_preDomFilterContent:function(e){e=e||this.editNode,dojo.forEach(this.contentDomPreFilters,function(t){t&&dojo.isFunction(t)&&t(e)},this)},_postFilterContent:function(e,t){e=e||this.editNode,this.contentDomPostFilters.length&&(t&&e.cloneNode&&(e=e.cloneNode(!0)),dojo.forEach(this.contentDomPostFilters,function(t){e=t(e)}));var i=this.getNodeChildrenHtml(e);return i.replace(/^(?:\s|\xA0)+/g,"").replace(/(?:\s|\xA0)+$/g,"").length||(i=""),dojo.forEach(this.contentPostFilters,function(e){i=e(i)}),i},_saveContent:function(){var e=dojo.byId("dijit._editor.RichText.savedContent");e.value+=this._SEPARATOR+this.name+":"+this.getValue()},escapeXml:function(e,t){return e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;"),t||(e=e.replace(/'/gm,"&#39;")),e},getNodeHtml:function(e){switch(e.nodeType){case 1:var t="<"+e.tagName.toLowerCase();dojo.isMoz&&("_moz"==e.getAttribute("type")&&e.removeAttribute("type"),void 0!=e.getAttribute("_moz_dirty")&&e.removeAttribute("_moz_dirty"));var i=[];if(dojo.isIE){var o=e.outerHTML;o=o.substr(0,o.indexOf(">")),o=o.replace(/(?:['"])[^"']*\1/g,"");for(var n,s,d=/([^\s=]+)=/g;void 0!=(n=d.exec(o));)if(s=n[1],"_dj"!=s.substr(0,3)){if(("src"==s||"href"==s)&&e.getAttribute("_djrealurl")){i.push([s,e.getAttribute("_djrealurl")]);continue}"class"==s?i.push([s,e.className]):i.push([s,e.getAttribute(s)])}}else for(var a,r=0,l=e.attributes;a=l[r++];)if("_dj"!=a.name.substr(0,3)){var h=a.value;("src"==a.name||"href"==a.name)&&e.getAttribute("_djrealurl")&&(h=e.getAttribute("_djrealurl")),i.push([a.name,h])}for(i.sort(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1}),r=0;a=i[r++];)t+=" "+a[0]+'="'+a[1]+'"';t+=e.childNodes.length?">"+this.getNodeChildrenHtml(e)+"</"+e.tagName.toLowerCase()+">":" />";break;case 3:var t=this.escapeXml(e.nodeValue,!0);break;case 8:var t="<!--"+this.escapeXml(e.nodeValue,!0)+"-->";break;default:var t="Element not recognized - Type: "+e.nodeType+" Name: "+e.nodeName}return t},getNodeChildrenHtml:function(e){var t="";if(!e)return t;for(var i,o=e.childNodes||e,n=0;i=o[n++];)t+=this.getNodeHtml(i);return t},close:function(save,force){if(this.isClosed)return!1;arguments.length||(save=!0),this._content=this.getValue();var changed=this.savedContent!=this._content;if(this.interval&&clearInterval(this.interval),this.textarea){with(this.textarea.style)position="",left=top="",dojo.isIE&&(overflow=this.__overflow,this.__overflow=null);this.textarea.value=save?this._content:this.savedContent,dojo._destroyElement(this.domNode),this.domNode=this.textarea}else this.domNode.innerHTML=save?this._content:this.savedContent;return dojo.removeClass(this.domNode,"RichTextEditable"),this.isClosed=!0,this.isLoaded=!1,delete this.editNode,this.window&&this.window._frameElement&&(this.window._frameElement=null),this.window=null,this.document=null,this.editingArea=null,this.editorObject=null,changed},destroyRendering:function(){},destroy:function(){this.destroyRendering(),this.isClosed||this.close(!1),this.inherited("destroy",arguments)},_fixContentForMoz:function(e){return e=e.replace(/<(\/)?strong([ \>])/gi,"<$1b$2"),e=e.replace(/<(\/)?em([ \>])/gi,"<$1i$2")},_srcInImgRegex:/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,_hrefInARegex:/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,_preFixUrlAttributes:function(e){return e=e.replace(this._hrefInARegex,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2"),e=e.replace(this._srcInImgRegex,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2")}})}dojo._hasResource["dijit.Toolbar"]||(dojo._hasResource["dijit.Toolbar"]=!0,dojo.provide("dijit.Toolbar"),dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:'<div class="dijit dijitToolbar" waiRole="toolbar" tabIndex="${tabIndex}" dojoAttachPoint="containerNode"></div>',tabIndex:"0",postCreate:function(){this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW])},startup:function(){this.startupKeyNavChildren()}}),dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:'<div class="dijitToolbarSeparator dijitInline"></div>',postCreate:function(){dojo.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})),dojo._hasResource["dijit.form.Button"]||(dojo._hasResource["dijit.form.Button"]=!0,dojo.provide("dijit.form.Button"),dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:!0,iconClass:"",type:"button",baseClass:"dijitButton",templateString:'<div class="dijit dijitLeft dijitInline dijitButton"\r\n	dojoAttachEvent="onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse"\r\n	><div class=\'dijitRight\'\r\n		><button class="dijitStretch dijitButtonNode dijitButtonContents" dojoAttachPoint="focusNode,titleNode"\r\n			type="${type}" waiRole="button" waiState="labelledby-${id}_label"\r\n			><span class="dijitInline ${iconClass}" dojoAttachPoint="iconNode" \r\n 				><span class="dijitToggleButtonIconChar">&#10003</span \r\n			></span\r\n			><span class="dijitButtonText" id="${id}_label" dojoAttachPoint="containerNode">${label}</span\r\n		></button\r\n	></div\r\n></div>\r\n',_onClick:function(e){return this.disabled?!1:(this._clicked(),this.onClick(e))},_onButtonClick:function(e){dojo.stopEvent(e);var t=this._onClick(e)!==!1;if("submit"==this.type&&t)for(var i=this.domNode;i;i=i.parentNode){var o=dijit.byNode(i);if(o&&o._onSubmit){o._onSubmit(e);break}if("form"==i.tagName.toLowerCase()){(!i.onsubmit||i.onsubmit())&&i.submit();break}}},postCreate:function(){if(0==this.showLabel){var e="";this.label=this.containerNode.innerHTML,e=dojo.trim(this.containerNode.innerText||this.containerNode.textContent),this.titleNode.title=e,dojo.addClass(this.containerNode,"dijitDisplayNone")}this.inherited(arguments)},onClick:function(){return!0},_clicked:function(){},setLabel:function(e){if(this.containerNode.innerHTML=this.label=e,dojo.isMozilla){var t=dojo.getComputedStyle(this.domNode).display;this.domNode.style.display="none";var i=this;setTimeout(function(){i.domNode.style.display=t},1)}0==this.showLabel&&(this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent))}}),dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:'<div class="dijit dijitLeft dijitInline"\r\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey"\r\n	><div class=\'dijitRight\'>\r\n	<button class="dijitStretch dijitButtonNode dijitButtonContents" type="${type}"\r\n		dojoAttachPoint="focusNode,titleNode" waiRole="button" waiState="haspopup-true,labelledby-${id}_label"\r\n		><div class="dijitInline ${iconClass}" dojoAttachPoint="iconNode"></div\r\n		><span class="dijitButtonText" 	dojoAttachPoint="containerNode,popupStateNode"\r\n		id="${id}_label">${label}</span\r\n		><span class=\'dijitA11yDownArrow\'>&#9660;</span>\r\n	</button>\r\n</div></div>\r\n',_fillContent:function(){if(this.srcNodeRef){var e=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,e[0]),this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this.dropDown){var e=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(e),delete this.dropDownContainer}dojo.body().appendChild(this.dropDown.domNode),this.dropDown.domNode.style.display="none"},_onArrowClick:function(){this.disabled||this._toggleDropDown()},_onDropDownClick:function(e){var t=dojo.isFF&&dojo.isFF<3&&-1!=navigator.appVersion.indexOf("Macintosh");(!t||0!=e.detail||this._seenKeydown)&&this._onArrowClick(e),this._seenKeydown=!1},_onDropDownKeydown:function(){this._seenKeydown=!0},_onDropDownBlur:function(){this._seenKeydown=!1},_onKey:function(e){return this.disabled?void 0:e.keyCode!=dojo.keys.DOWN_ARROW||this.dropDown&&"none"!=this.dropDown.domNode.style.display?void 0:(dojo.stopEvent(e),this._toggleDropDown())
},_onBlur:function(){this._closeDropDown()},_toggleDropDown:function(){if(!this.disabled){dijit.focus(this.popupStateNode);var e=this.dropDown;if(!e)return!1;if(e.isShowingNow)this._closeDropDown();else{if(e.href&&!e.isLoaded){var t=this,i=dojo.connect(e,"onLoad",function(){dojo.disconnect(i),t._openDropDown()});return e._loadCheck(!0),void 0}this._openDropDown()}}},_openDropDown:function(){var e=this.dropDown,t=e.domNode.style.width,i=this;if(dijit.popup.open({parent:this,popup:e,around:this.domNode,orient:this.isLeftToRight()?{BL:"TL",BR:"TR",TL:"BL",TR:"BR"}:{BR:"TR",BL:"TL",TR:"BR",TL:"BL"},onExecute:function(){i._closeDropDown(!0)},onCancel:function(){i._closeDropDown(!0)},onClose:function(){e.domNode.style.width=t,i.popupStateNode.removeAttribute("popupActive"),this._opened=!1}}),this.domNode.offsetWidth>e.domNode.offsetWidth){var o=null;if(!this.isLeftToRight()){o=e.domNode.parentNode;var n=o.offsetLeft+o.offsetWidth}dojo.marginBox(e.domNode,{w:this.domNode.offsetWidth}),o&&(o.style.left=n-this.domNode.offsetWidth+"px")}this.popupStateNode.setAttribute("popupActive","true"),this._opened=!0,e.focus&&e.focus()},_closeDropDown:function(e){this._opened&&(dijit.popup.close(this.dropDown),e&&this.focus(),this._opened=!1)}}),dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:'<table class=\'dijit dijitReset dijitInline dijitLeft\'\r\n	cellspacing=\'0\' cellpadding=\'0\'\r\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse">\r\n	<tr>\r\n		<td	class="dijitStretch dijitButtonContents dijitButtonNode"\r\n			tabIndex="${tabIndex}"\r\n			dojoAttachEvent="ondijitclick:_onButtonClick"  dojoAttachPoint="titleNode"\r\n			waiRole="button" waiState="labelledby-${id}_label">\r\n			<div class="dijitInline ${iconClass}" dojoAttachPoint="iconNode"></div>\r\n			<span class="dijitButtonText" id="${id}_label" dojoAttachPoint="containerNode">${label}</span>\r\n		</td>\r\n		<td class=\'dijitReset dijitRight dijitButtonNode dijitDownArrowButton\'\r\n			dojoAttachPoint="popupStateNode,focusNode"\r\n			dojoAttachEvent="ondijitclick:_onArrowClick, onkeypress:_onKey"\r\n			stateModifier="DownArrow"\r\n			title="${optionsTitle}" name="${name}"\r\n			waiRole="button" waiState="haspopup-true"\r\n		><div waiRole="presentation">&#9660;</div>\r\n	</td></tr>\r\n</table>\r\n',attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{id:"",name:""}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments),this._focalNodes=[this.titleNode,this.popupStateNode],dojo.forEach(this._focalNodes,dojo.hitch(this,function(e){dojo.isIE?this.connect(e,"onactivate",this._onNodeFocus):this.connect(e,"onfocus",this._onNodeFocus)}))},focusFocalNode:function(e){this._focusedNode=e,dijit.focus(e)},hasNextFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[1]},focusNext:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0],dijit.focus(this._focusedNode)},hasPrevFocalNode:function(){return this._focusedNode!==this.getFocalNodes()[0]},focusPrev:function(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1],dijit.focus(this._focusedNode)},getFocalNodes:function(){return this._focalNodes},_onNodeFocus:function(e){this._focusedNode=e.currentTarget},_onBlur:function(){this.inherited(arguments),this._focusedNode=null}}),dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:!1,_clicked:function(){this.setChecked(!this.checked)},setChecked:function(e){this.checked=e,dijit.setWaiState(this.focusNode||this.domNode,"pressed",this.checked),this._setStateClass(),this.onChange(e)}})),dojo._hasResource["dijit._editor._Plugin"]||(dojo._hasResource["dijit._editor._Plugin"]=!0,dojo.provide("dijit._editor._Plugin"),dojo.declare("dijit._editor._Plugin",null,{constructor:function(e){e&&dojo.mixin(this,e)},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,queryCommand:null,command:"",commandArg:null,useDefaultCommand:!0,buttonClass:dijit.form.Button,updateInterval:200,_initButton:function(){if(this.command.length){var e=this.editor.commands[this.command],t="dijitEditorIcon "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var i={label:e,showLabel:!1,iconClass:t,dropDown:this.dropDown};this.button=new this.buttonClass(i)}}},updateState:function(){var e=this.editor,t=this.command;if(e&&e.isLoaded&&t.length&&this.button)try{var i=e.queryCommandEnabled(t);this.button.setDisabled(!i),this.button.setChecked&&this.button.setChecked(e.queryCommandState(t))}catch(o){console.debug(o)}},setEditor:function(e){this.editor=e,this._initButton(),this.command.length&&!this.editor.queryCommandAvailable(this.command)&&this.button&&(this.button.domNode.style.display="none"),this.button&&this.useDefaultCommand&&dojo.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg)),dojo.connect(this.editor,"onNormalizedDisplayChanged",this,"updateState")},setToolbar:function(e){this.button&&e.addChild(this.button)}})),dojo._hasResource["dijit.Editor"]||(dojo._hasResource["dijit.Editor"]=!0,dojo.provide("dijit.Editor"),dojo.declare("dijit.Editor",dijit._editor.RichText,{plugins:null,extraPlugins:null,constructor:function(){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull"],this._plugins=[],this._editInterval=1e3*this.editActionInterval},postCreate:function(){if(this.customUndo&&(dojo.require("dijit._editor.range"),this._steps=this._steps.slice(0),this._undoedSteps=this._undoedSteps.slice(0)),dojo.isArray(this.extraPlugins)&&(this.plugins=this.plugins.concat(this.extraPlugins)),dijit.Editor.superclass.postCreate.apply(this,arguments),this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang),!this.toolbar){var e=dojo.doc.createElement("div");dojo.place(e,this.editingArea,"before"),this.toolbar=new dijit.Toolbar({},e)}dojo.forEach(this.plugins,this.addPlugin,this),this.onNormalizedDisplayChanged()},destroy:function(){dojo.forEach(this._plugins,function(e){e.destroy&&e.destroy()}),this._plugins=[],this.toolbar.destroy(),delete this.toolbar,this.inherited("destroy",arguments)},addPlugin:function(e,t){var i=dojo.isString(e)?{name:e}:e;if(!i.setEditor){var o={args:i,plugin:null,editor:this};if(dojo.publish("dijit.Editor.getPlugin",[o]),!o.plugin){var n=dojo.getObject(i.name);n&&(o.plugin=new n(i))}if(!o.plugin)return console.debug("Cannot find plugin",e),void 0;e=o.plugin}arguments.length>1?this._plugins[t]=e:this._plugins.push(e),e.setEditor(this),dojo.isFunction(e.setToolbar)&&e.setToolbar(this.toolbar)},customUndo:dojo.isIE,editActionInterval:3,beginEditing:function(e){this._inEditing||(this._inEditing=!0,this._beginEditing(e)),this.editActionInterval>0&&(this._editTimer&&clearTimeout(this._editTimer),this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval))},_steps:[],_undoedSteps:[],execCommand:function(e){if(this.customUndo&&("undo"==e||"redo"==e))return this[e]();try{this.customUndo&&(this.endEditing(),this._beginEditing());var t=this.inherited("execCommand",arguments);return this.customUndo&&this._endEditing(),t}catch(i){if(dojo.isMoz&&/copy|cut|paste/.test(e)){var o=dojo.string.substitute,n={cut:"X",copy:"C",paste:"V"},s=-1!=navigator.userAgent.indexOf("Macintosh");alert(o(this.commands.systemShortcutFF,[this.commands[e],o(this.commands[s?"appleKey":"ctrlKey"],[n[e]])]))}return!1}},queryCommandEnabled:function(e){return!this.customUndo||"undo"!=e&&"redo"!=e?this.inherited("queryCommandEnabled",arguments):"undo"==e?this._steps.length>1:this._undoedSteps.length>0},_changeToStep:function(e,t){this.setValue(t.text);var i=t.bookmark;if(i){if(dojo.isIE){if(dojo.isArray(i)){var o=[];dojo.forEach(i,function(e){o.push(dijit.range.getNode(e,this.editNode))},this),i=o}}else{var n=dijit.range.create();n.setStart(dijit.range.getNode(i.startContainer,this.editNode),i.startOffset),n.setEnd(dijit.range.getNode(i.endContainer,this.editNode),i.endOffset),i=n}dojo.withGlobal(this.window,"moveToBookmark",dijit,[i])}},undo:function(){this.endEditing(!0);var e=this._steps.pop();return this._steps.length>0?(this.focus(),this._changeToStep(e,this._steps[this._steps.length-1]),this._undoedSteps.push(e),this.onDisplayChanged(),!0):!1},redo:function(){this.endEditing(!0);var e=this._undoedSteps.pop();return e&&this._steps.length>0?(this.focus(),this._changeToStep(this._steps[this._steps.length-1],e),this._steps.push(e),this.onDisplayChanged(),!0):!1},endEditing:function(e){this._editTimer&&clearTimeout(this._editTimer),this._inEditing&&(this._endEditing(e),this._inEditing=!1)},_getBookmark:function(){var e=dojo.withGlobal(this.window,dijit.getBookmark);if(dojo.isIE){if(dojo.isArray(e)){var t=[];dojo.forEach(e,function(e){t.push(dijit.range.getIndex(e,this.editNode).o)},this),e=t}}else{var t=dijit.range.getIndex(e.startContainer,this.editNode).o;e={startContainer:t,startOffset:e.startOffset,endContainer:e.endContainer===e.startContainer?t:dijit.range.getIndex(e.endContainer,this.editNode).o,endOffset:e.endOffset}}return e},_beginEditing:function(){0===this._steps.length&&this._steps.push({text:this.savedContent,bookmark:this._getBookmark()})},_endEditing:function(){var e=this.getValue(!0);this._undoedSteps=[],this._steps.push({text:e,bookmark:this._getBookmark()})},onKeyDown:function(e){if(!this.customUndo)return this.inherited("onKeyDown",arguments),void 0;var t=e.keyCode,i=dojo.keys;if(e.ctrlKey){if(90===t||122===t)return dojo.stopEvent(e),this.undo(),void 0;if(89===t||121===t)return dojo.stopEvent(e),this.redo(),void 0}switch(this.inherited("onKeyDown",arguments),t){case i.ENTER:this.beginEditing();break;case i.BACKSPACE:case i.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing(),88==e.keyCode?(this.beginEditing("cut"),setTimeout(dojo.hitch(this,this.endEditing),1)):(this.beginEditing("paste"),setTimeout(dojo.hitch(this,this.endEditing),1));break}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break}case i.ALT:this.endEditing();break;case i.UP_ARROW:case i.DOWN_ARROW:case i.LEFT_ARROW:case i.RIGHT_ARROW:case i.HOME:case i.END:case i.PAGE_UP:case i.PAGE_DOWN:this.endEditing(!0);break;case i.CTRL:case i.SHIFT:case i.TAB:}},_onBlur:function(){this.inherited("_onBlur",arguments),this.endEditing(!0)},onClick:function(){this.endEditing(!0),this.inherited("onClick",arguments)}}),dojo.subscribe("dijit.Editor.getPlugin",null,function(e){if(!e.plugin){var t,i=e.args,o=dijit._editor._Plugin,n=i.name;switch(n){case"undo":case"redo":case"cut":case"copy":case"paste":case"insertOrderedList":case"insertUnorderedList":case"indent":case"outdent":case"justifyCenter":case"justifyFull":case"justifyLeft":case"justifyRight":case"delete":case"selectAll":case"removeFormat":t=new o({command:n});break;case"bold":case"italic":case"underline":case"strikethrough":case"subscript":case"superscript":t=new o({buttonClass:dijit.form.ToggleButton,command:n});break;case"|":t=new o({button:new dijit.ToolbarSeparator});break;case"createLink":t=new dijit._editor.plugins.LinkDialog({command:n});break;case"foreColor":case"hiliteColor":t=new dijit._editor.plugins.TextColor({command:n});break;case"fontName":case"fontSize":case"formatBlock":t=new dijit._editor.plugins.FontChoice({command:n})}e.plugin=t}})),dojo._hasResource["dijit.Menu"]||(dojo._hasResource["dijit.Menu"]=!0,dojo.provide("dijit.Menu"),dojo.declare("dijit.Menu",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{constructor:function(){this._bindings=[]},templateString:'<table class="dijit dijitMenu dijitReset dijitMenuTable" waiRole="menu" dojoAttachEvent="onkeypress:_onKeyPress"><tbody class="dijitReset" dojoAttachPoint="containerNode"></tbody></table>',targetNodeIds:[],contextMenuForWindow:!1,parentMenu:null,popupDelay:500,_contextMenuWithMouse:!1,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(dojo.body()):dojo.forEach(this.targetNodeIds,this.bindDomNode,this),this.connectKeyNavHandlers([dojo.keys.UP_ARROW],[dojo.keys.DOWN_ARROW])},startup:function(){dojo.forEach(this.getChildren(),function(e){e.startup()}),this.startupKeyNavChildren()},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled&&this.focusedChild._onClick(e)},_onKeyPress:function(e){if(!e.ctrlKey&&!e.altKey)switch(e.keyCode){case dojo.keys.RIGHT_ARROW:this._moveToPopup(e),dojo.stopEvent(e);break;case dojo.keys.LEFT_ARROW:this.parentMenu?this.onCancel(!1):dojo.stopEvent(e)}},onItemHover:function(e){this.focusChild(e),!this.focusedChild.popup||this.focusedChild.disabled||this.hover_timer||(this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay))},_onChildBlur:function(e){dijit.popup.close(e.popup),e._blur(),this._stopPopupTimer()},onItemUnhover:function(){},_stopPopupTimer:function(){this.hover_timer&&(clearTimeout(this.hover_timer),this.hover_timer=null)},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e){return e.disabled?!1:(e.popup?this.is_open||this._openPopup():(this.onExecute(),e.onClick()),void 0)},_iframeContentWindow:function(e){var t=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(e))||dijit.Menu._iframeContentDocument(e).__parent__||e.name&&document.frames[e.name]||null;return t},_iframeContentDocument:function(e){var t=e.contentDocument||e.contentWindow&&e.contentWindow.document||e.name&&document.frames[e.name]&&document.frames[e.name].document||null;return t},bindDomNode:function(e){e=dojo.byId(e);var t=dijit.getDocumentWindow(e.ownerDocument);"iframe"==e.tagName.toLowerCase()&&(t=this._iframeContentWindow(e),e=dojo.withGlobal(t,dojo.body));var i=e==dojo.body()?dojo.doc:e;e[this.id]=this._bindings.push([dojo.connect(i,"oncontextmenu",this,"_openMyself"),dojo.connect(i,"onkeydown",this,"_contextKey"),dojo.connect(i,"onmousedown",this,"_contextMouse")])},unBindDomNode:function(e){var t=dojo.byId(e),i=t[this.id]-1,o=this._bindings[i];dojo.forEach(o,dojo.disconnect),delete this._bindings[i]},_contextKey:function(e){if(this._contextMenuWithMouse=!1,e.keyCode==dojo.keys.F10&&(dojo.stopEvent(e),e.shiftKey&&"keydown"==e.type)){var t={target:e.target,pageX:e.pageX,pageY:e.pageY};t.preventDefault=t.stopPropagation=function(){},window.setTimeout(dojo.hitch(this,function(){this._openMyself(t)}),1)}},_contextMouse:function(){this._contextMenuWithMouse=!0},_openMyself:function(e){function t(){dijit.focus(d),dijit.popup.close(s)}dojo.stopEvent(e);var i,o;if(dojo.isSafari||this._contextMenuWithMouse)i=e.pageX,o=e.pageY;else{var n=dojo.coords(e.target,!0);i=n.x+10,o=n.y+10}var s=this,d=dijit.getFocus(this);dijit.popup.open({popup:this,x:i,y:o,onExecute:t,onCancel:t,orient:this.isLeftToRight()?"L":"R"}),this.focus(),this._onBlur=function(){dijit.popup.close(this)}},onOpen:function(){this.isShowingNow=!0},onClose:function(){this._stopPopupTimer(),this.parentMenu=null,this.isShowingNow=!1,this.currentPopup=null,this.focusedChild&&(this._onChildBlur(this.focusedChild),this.focusedChild=null)},_openPopup:function(){this._stopPopupTimer();var e=this.focusedChild,t=e.popup;if(!t.isShowingNow){t.parentMenu=this;var i=this;dijit.popup.open({parent:this,popup:t,around:e.arrowCell,orient:this.isLeftToRight()?{TR:"TL",TL:"TR"}:{TL:"TR",TR:"TL"},onCancel:function(){dijit.popup.close(t),e.focus(),i.currentPopup=null}}),this.currentPopup=t,t.focus&&t.focus()}}}),dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:'<tr class="dijitReset dijitMenuItem"dojoAttachEvent="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick"><td class="dijitReset"><div class="dijitMenuItemIcon ${iconClass}" dojoAttachPoint="iconNode" ></div></td><td tabIndex="-1" class="dijitReset dijitMenuItemLabel" dojoAttachPoint="containerNode" waiRole="menuitem"></td><td class="dijitReset" dojoAttachPoint="arrowCell"><div class="dijitMenuExpand" dojoAttachPoint="expand" style="display:none"><span class="dijitInline dijitArrowNode dijitMenuExpandInner">+</span></div></td></tr>',label:"",iconClass:"",disabled:!1,postCreate:function(){dojo.setSelectable(this.domNode,!1),this.setDisabled(this.disabled),this.label&&(this.containerNode.innerHTML=this.label)},_onHover:function(){this.getParent().onItemHover(this)},_onUnhover:function(){this.getParent().onItemUnhover(this)},_onClick:function(e){this.getParent().onItemClick(this),dojo.stopEvent(e)},onClick:function(){},focus:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");try{dijit.focus(this.containerNode)}catch(e){}},_blur:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover")},setDisabled:function(e){this.disabled=e,dojo[e?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled"),dijit.setWaiState(this.containerNode,"disabled",e?"true":"false")}}),dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var e=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,e[0]),this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this.popup){var e=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(e)}dojo.body().appendChild(this.popup.domNode),this.popup.domNode.style.display="none",dojo.addClass(this.expand,"dijitMenuExpandEnabled"),dojo.style(this.expand,"display",""),dijit.setWaiState(this.containerNode,"haspopup","true")}}),dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:'<tr class="dijitMenuSeparator"><td colspan=3><div class="dijitMenuSeparatorTop"></div><div class="dijitMenuSeparatorBottom"></div></td></tr>',postCreate:function(){dojo.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})),dojo._hasResource["dojo.regexp"]||(dojo._hasResource["dojo.regexp"]=!0,dojo.provide("dojo.regexp"),dojo.regexp.escapeString=function(e,t){return e.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(e){return t&&-1!=t.indexOf(e)?e:"\\"+e})},dojo.regexp.buildGroupRE=function(e,t,i){if(!(e instanceof Array))return t(e);for(var o=[],n=0;n<e.length;n++)o.push(t(e[n]));return dojo.regexp.group(o.join("|"),i)},dojo.regexp.group=function(e,t){return"("+(t?"?:":"")+e+")"}),dojo._hasResource["dojo.number"]||(dojo._hasResource["dojo.number"]=!0,dojo.provide("dojo.number"),dojo.number.format=function(e,t){t=dojo.mixin({},t||{});var i=dojo.i18n.normalizeLocale(t.locale),o=dojo.i18n.getLocalization("dojo.cldr","number",i);t.customs=o;var n=t.pattern||o[(t.type||"decimal")+"Format"];return isNaN(e)?null:dojo.number._applyPattern(e,n,t)},dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/,dojo.number._applyPattern=function(e,t,i){i=i||{};var o=i.customs.group,n=i.customs.decimal,s=t.split(";"),d=s[0];if(t=s[0>e?1:0]||"-"+d,-1!=t.indexOf("%"))e*=100;else if(-1!=t.indexOf("‰"))e*=1e3;else if(-1!=t.indexOf("¤"))o=i.customs.currencyGroup||o,n=i.customs.currencyDecimal||n,t=t.replace(/\u00a4{1,3}/,function(e){var t=["symbol","currency","displayName"][e.length-1];return i[t]||i.currency||""});else if(-1!=t.indexOf("E"))throw new Error("exponential notation not supported");var a=dojo.number._numberPatternRE,r=d.match(a);if(!r)throw new Error("unable to find a number expression in pattern: "+t);return t.replace(a,dojo.number._formatAbsolute(e,r[0],{decimal:n,group:o,places:i.places}))},dojo.number.round=function(e,t,i){var o=String(e).split("."),n=o[1]&&o[1].length||0;if(n>t){var s=Math.pow(10,t);i>0&&(s*=10/i,t++),e=Math.round(e*s)/s,o=String(e).split("."),n=o[1]&&o[1].length||0,n>t&&(o[1]=o[1].substr(0,t),e=Number(o.join(".")))}return e},dojo.number._formatAbsolute=function(e,t,i){i=i||{},i.places===!0&&(i.places=0),1/0===i.places&&(i.places=6);var o=t.split("."),n=i.places>=0?i.places:o[1]&&o[1].length||0;i.round<0||(e=dojo.number.round(e,n,i.round));var s=String(Math.abs(e)).split("."),d=s[1]||"";if(i.places)s[1]=dojo.string.pad(d.substr(0,i.places),i.places,"0",!0);else if(o[1]&&0!==i.places){var a=o[1].lastIndexOf("0")+1;a>d.length&&(s[1]=dojo.string.pad(d,a,"0",!0));var r=o[1].length;r<d.length&&(s[1]=d.substr(0,r))}else s[1]&&s.pop();var l=o[0].replace(",","");a=l.indexOf("0"),-1!=a&&(a=l.length-a,a>s[0].length&&(s[0]=dojo.string.pad(s[0],a)),-1==l.indexOf("#")&&(s[0]=s[0].substr(s[0].length-a)));var h,c,u=o[0].lastIndexOf(",");if(-1!=u){h=o[0].length-u-1;var p=o[0].substr(0,u);u=p.lastIndexOf(","),-1!=u&&(c=p.length-u-1)}for(var m=[],j=s[0];j;){var f=j.length-h;m.push(f>0?j.substr(f):j),j=f>0?j.slice(0,f):"",c&&(h=c,delete c)}return s[0]=m.reverse().join(i.group||","),s.join(i.decimal||".")},dojo.number.regexp=function(e){return dojo.number._parseInfo(e).regexp},dojo.number._parseInfo=function(e){e=e||{};var t=dojo.i18n.normalizeLocale(e.locale),i=dojo.i18n.getLocalization("dojo.cldr","number",t),o=e.pattern||i[(e.type||"decimal")+"Format"],n=i.group,s=i.decimal,d=1;if(-1!=o.indexOf("%"))d/=100;else if(-1!=o.indexOf("‰"))d/=1e3;else{var a=-1!=o.indexOf("¤");a&&(n=i.currencyGroup||n,s=i.currencyDecimal||s)}var r=o.split(";");1==r.length&&r.push("-"+r[0]);var l=dojo.regexp.buildGroupRE(r,function(t){return t="(?:"+dojo.regexp.escapeString(t,".")+")",t.replace(dojo.number._numberPatternRE,function(t){var i={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:s,exponent:!1},o=t.split("."),d=e.places;1==o.length||0===d?i.fractional=!1:("undefined"==typeof d&&(d=o[1].lastIndexOf("0")+1),d&&void 0==e.fractional&&(i.fractional=!0),!e.places&&d<o[1].length&&(d+=","+o[1].length),i.places=d);var a=o[0].split(",");return a.length>1&&(i.groupSize=a.pop().length,a.length>1&&(i.groupSize2=a.pop().length)),"("+dojo.number._realNumberRegexp(i)+")"})},!0);return a&&(l=l.replace(/(\s*)(\u00a4{1,3})(\s*)/g,function(t,i,o,n){var s=["symbol","currency","displayName"][o.length-1],d=dojo.regexp.escapeString(e[s]||e.currency||"");return i=i?"\\s":"",n=n?"\\s":"",e.strict?i+d+n:(i&&(i+="*"),n&&(n+="*"),"(?:"+i+d+n+")?")})),{regexp:l.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:s,factor:d}},dojo.number.parse=function(e,t){var i=dojo.number._parseInfo(t),o=new RegExp("^"+i.regexp+"$").exec(e);if(!o)return 0/0;var n=o[1];if(!o[1]){if(!o[2])return 0/0;n=o[2],i.factor*=-1}return n=n.replace(new RegExp("["+i.group+"\\s\\xa0]","g"),"").replace(i.decimal,"."),Number(n)*i.factor},dojo.number._realNumberRegexp=function(e){e=e||{},"undefined"==typeof e.places&&(e.places=1/0),"string"!=typeof e.decimal&&(e.decimal="."),("undefined"==typeof e.fractional||/^0/.test(e.places))&&(e.fractional=[!0,!1]),"undefined"==typeof e.exponent&&(e.exponent=[!0,!1]),"undefined"==typeof e.eSigned&&(e.eSigned=[!0,!1]);var t=dojo.number._integerRegexp(e),i=dojo.regexp.buildGroupRE(e.fractional,function(t){var i="";return t&&0!==e.places&&(i="\\"+e.decimal,1/0==e.places?i="(?:"+i+"\\d+)?":i+="\\d{"+e.places+"}"),i},!0),o=dojo.regexp.buildGroupRE(e.exponent,function(t){return t?"([eE]"+dojo.number._integerRegexp({signed:e.eSigned})+")":""}),n=t+i;return i&&(n="(?:(?:"+n+")|(?:"+i+"))"),n+o},dojo.number._integerRegexp=function(e){e=e||{},"undefined"==typeof e.signed&&(e.signed=[!0,!1]),"undefined"==typeof e.separator?e.separator="":"undefined"==typeof e.groupSize&&(e.groupSize=3);var t=dojo.regexp.buildGroupRE(e.signed,function(e){return e?"[-+]":""},!0),i=dojo.regexp.buildGroupRE(e.separator,function(t){if(!t)return"(?:0|[1-9]\\d*)";t=dojo.regexp.escapeString(t)," "==t?t="\\s":" "==t&&(t="\\s\\xa0");var i=e.groupSize,o=e.groupSize2;if(o){var n="(?:0|[1-9]\\d{0,"+(o-1)+"}(?:["+t+"]\\d{"+o+"})*["+t+"]\\d{"+i+"})";return i-o>0?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(i-1)+"}))":n}return"(?:0|[1-9]\\d{0,"+(i-1)+"}(?:["+t+"]\\d{"+i+"})*)"},!0);return t+i}),dojo._hasResource["dijit.ProgressBar"]||(dojo._hasResource["dijit.ProgressBar"]=!0,dojo.provide("dijit.ProgressBar"),dojo.declare("dijit.ProgressBar",[dijit._Widget,dijit._Templated],{progress:"0",maximum:100,places:0,indeterminate:!1,templateString:'<div class="dijitProgressBar dijitProgressBarEmpty"\r\n	><div waiRole="progressbar" tabindex="0" dojoAttachPoint="internalProgress" class="dijitProgressBarFull"\r\n		><div class="dijitProgressBarTile"></div\r\n		><span style="visibility:hidden">&nbsp;</span\r\n	></div\r\n	><div dojoAttachPoint="label" class="dijitProgressBarLabel" id="${id}_label">&nbsp;</div\r\n	><img dojoAttachPoint="inteterminateHighContrastImage" class="dijitProgressBarIndeterminateHighContrastImage"\r\n	></img\r\n></div>\r\n',_indeterminateHighContrastImagePath:dojo.moduleUrl("dijit","themes/a11y/indeterminate_progress.gif"),postCreate:function(){this.inherited("postCreate",arguments),this.inteterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath),this.update()},update:function(e){dojo.mixin(this,e||{});var t,i=1;if(this.indeterminate)t="addClass",dijit.removeWaiState(this.internalProgress,"valuenow"),dijit.removeWaiState(this.internalProgress,"valuemin"),dijit.removeWaiState(this.internalProgress,"valuemax");else{t="removeClass",-1!=String(this.progress).indexOf("%")?(i=Math.min(parseFloat(this.progress)/100,1),this.progress=i*this.maximum):(this.progress=Math.min(this.progress,this.maximum),i=this.progress/this.maximum);var o=this.report(i);this.label.firstChild.nodeValue=o,dijit.setWaiState(this.internalProgress,"describedby",this.label.id),dijit.setWaiState(this.internalProgress,"valuenow",this.progress),dijit.setWaiState(this.internalProgress,"valuemin",0),dijit.setWaiState(this.internalProgress,"valuemax",this.maximum)}dojo[t](this.domNode,"dijitProgressBarIndeterminate"),this.internalProgress.style.width=100*i+"%",this.onChange()},report:function(e){return dojo.number.format(e,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})),dojo._hasResource["dijit.TitlePane"]||(dojo._hasResource["dijit.TitlePane"]=!0,dojo.provide("dijit.TitlePane"),dojo.declare("dijit.TitlePane",[dijit.layout.ContentPane,dijit._Templated],{title:"",open:!0,duration:250,baseClass:"dijitTitlePane",templateString:'<div class="dijitTitlePane">\r\n	<div dojoAttachEvent="onclick:toggle,onkeypress: _onTitleKey,onfocus:_handleFocus,onblur:_handleFocus" tabindex="0"\r\n			waiRole="button" class="dijitTitlePaneTitle" dojoAttachPoint="focusNode">\r\n		<div dojoAttachPoint="arrowNode" class="dijitInline dijitArrowNode"><span dojoAttachPoint="arrowNodeInner" class="dijitArrowNodeInner"></span></div>\r\n		<div dojoAttachPoint="titleNode" class="dijitTitlePaneTextNode"></div>\r\n	</div>\r\n	<div class="dijitTitlePaneContentOuter" dojoAttachPoint="hideNode">\r\n		<div class="dijitReset" dojoAttachPoint="wipeNode">\r\n			<div class="dijitTitlePaneContentInner" dojoAttachPoint="containerNode" waiRole="region" tabindex="-1">\r\n				<!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. -->\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>\r\n',postCreate:function(){this.setTitle(this.title),this.open||(this.hideNode.style.display=this.wipeNode.style.display="none"),this._setCss(),dojo.setSelectable(this.titleNode,!1),this.inherited("postCreate",arguments),dijit.setWaiState(this.containerNode,"labelledby",this.titleNode.id),dijit.setWaiState(this.focusNode,"haspopup","true");{var e=this.hideNode;this.wipeNode}this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){e.style.display=""}}),this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){e.style.display="none"}})},setContent:function(){"playing"==this._wipeOut.status()?this.inherited("setContent",arguments):("playing"==this._wipeIn.status()&&this._wipeIn.stop(),dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h}),this.inherited("setContent",arguments),this._wipeIn.play())},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(e){"playing"==e.status()&&e.stop()}),this[this.open?"_wipeOut":"_wipeIn"].play(),this.open=!this.open,this._loadCheck(),this._setCss()},_setCss:function(){var e=["dijitClosed","dijitOpen"],t=this.open;dojo.removeClass(this.focusNode,e[!t+0]),this.focusNode.className+=" "+e[t+0],this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(e){e.keyCode==dojo.keys.ENTER||e.charCode==dojo.keys.SPACE?this.toggle():e.keyCode==dojo.keys.DOWN_ARROW&&this.open&&(this.containerNode.focus(),e.preventDefault())},_handleFocus:function(e){dojo["focus"==e.type?"addClass":"removeClass"](this.focusNode,this.baseClass+"Focused")},setTitle:function(e){this.titleNode.innerHTML=e}})),dojo._hasResource["dijit.Tooltip"]||(dojo._hasResource["dijit.Tooltip"]=!0,dojo.provide("dijit.Tooltip"),dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:200,templateString:'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip">\r\n	<div class="dijitTooltipContainer dijitTooltipContents" dojoAttachPoint="containerNode" waiRole=\'alert\'></div>\r\n	<div class="dijitTooltipConnector"></div>\r\n</div>\r\n',postCreate:function(){dojo.body().appendChild(this.domNode),this.bgIframe=new dijit.BackgroundIframe(this.domNode),this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")}),this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")})},show:function(e,t){if(!this.aroundNode||this.aroundNode!==t){if("playing"==this.fadeOut.status())return this._onDeck=arguments,void 0;this.containerNode.innerHTML=e,this.domNode.style.top=this.domNode.offsetTop+1+"px";var i=this.isLeftToRight()?{BR:"BL",BL:"BR"}:{BL:"BR",BR:"BL"},o=dijit.placeOnScreenAroundElement(this.domNode,t,i);this.domNode.className="dijitTooltip dijitTooltip"+("BL"==o.corner?"Right":"Left"),dojo.style(this.domNode,"opacity",0),this.fadeIn.play(),this.isShowingNow=!0,this.aroundNode=t}},_onShow:function(){dojo.isIE&&(this.domNode.style.filter="")},hide:function(e){if(this.aroundNode&&this.aroundNode===e){if(this._onDeck)return this._onDeck=null,void 0;this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()}},_onHide:function(){this.domNode.style.cssText="",this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}}),dijit.showTooltip=function(e,t){return dijit._masterTT||(dijit._masterTT=new dijit._MasterTooltip),dijit._masterTT.show(e,t)},dijit.hideTooltip=function(e){return dijit._masterTT||(dijit._masterTT=new dijit._MasterTooltip),dijit._masterTT.hide(e)},dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],postCreate:function(){this.srcNodeRef&&(this.srcNodeRef.style.display="none"),this._connectNodes=[],dojo.forEach(this.connectId,function(e){var t=dojo.byId(e);t&&(this._connectNodes.push(t),dojo.forEach(["onMouseOver","onMouseOut","onFocus","onBlur","onHover","onUnHover"],function(e){this.connect(t,e.toLowerCase(),"_"+e)},this),dojo.isIE&&(t.style.zoom=1))},this)},_onMouseOver:function(e){this._onHover(e)},_onMouseOut:function(e){dojo.isDescendant(e.relatedTarget,e.target)||this._onUnHover(e)},_onFocus:function(e){this._focus=!0,this._onHover(e)},_onBlur:function(e){this._focus=!1,this._onUnHover(e)},_onHover:function(e){if(!this._showTimer){var t=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(t)}),this.showDelay)}},_onUnHover:function(){this._focus||(this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer),this.close())},open:function(e){e=e||this._connectNodes[0],e&&(this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer),dijit.showTooltip(this.label||this.domNode.innerHTML,e),this._connectNode=e)},close:function(){dijit.hideTooltip(this._connectNode),delete this._connectNode,this._showTimer&&(clearTimeout(this._showTimer),delete this._showTimer)},uninitialize:function(){this.close()
}})),dojo._hasResource["dojo.cookie"]||(dojo._hasResource["dojo.cookie"]=!0,dojo.provide("dojo.cookie"),dojo.cookie=function(e,t,i){var o=document.cookie;if(1==arguments.length){var n=o.lastIndexOf(e+"=");if(-1==n)return null;var s=n+e.length+1,d=o.indexOf(";",n+e.length+1);return-1==d&&(d=o.length),decodeURIComponent(o.substring(s,d))}if(i=i||{},t=encodeURIComponent(t),"number"==typeof i.expires){var a=new Date;a.setTime(a.getTime()+24*i.expires*60*60*1e3),i.expires=a}return document.cookie=e+"="+t+(i.expires?"; expires="+i.expires.toUTCString():"")+(i.path?"; path="+i.path:"")+(i.domain?"; domain="+i.domain:"")+(i.secure?"; secure":""),null}),dojo._hasResource["dijit.Tree"]||(dojo._hasResource["dijit.Tree"]=!0,dojo.provide("dijit.Tree"),dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained],{item:null,isTreeNode:!0,label:"",isExpandable:null,isExpanded:!1,state:"UNCHECKED",templateString:'<div class="dijitTreeNode dijitTreeExpandLeaf dijitTreeChildrenNo" waiRole="presentation"\r\n	><span dojoAttachPoint="expandoNode" class="dijitTreeExpando" waiRole="presentation"\r\n	></span\r\n	><span dojoAttachPoint="expandoNodeText" class="dijitExpandoText" waiRole="presentation"\r\n	></span\r\n	>\r\n	<div dojoAttachPoint="contentNode" class="dijitTreeContent" waiRole="presentation">\r\n		<div dojoAttachPoint="iconNode" class="dijitInline dijitTreeIcon" waiRole="presentation"></div>\r\n		<span dojoAttachPoint="labelNode" class="dijitTreeLabel" wairole="treeitem" tabindex="-1"></span>\r\n	</div>\r\n</div>\r\n',postCreate:function(){this.setLabelNode(this.label),this._setExpando(),this._updateItemClasses(this.item),this.isExpandable&&dijit.setWaiState(this.labelNode,"expanded",this.isExpanded)},markProcessing:function(){this.state="LOADING",this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(e){this.iconNode.className="dijitInline dijitTreeIcon "+this.tree.getIconClass(e),this.labelNode.className="dijitTreeLabel "+this.tree.getLabelClass(e)},_updateLayout:function(){var e=this.getParent();e&&e.isTree&&e._hideRoot?dojo.addClass(this.domNode,"dijitTreeIsRoot"):dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling())},_setExpando:function(e){var t=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],i=e?0:this.isExpandable?this.isExpanded?1:2:3;dojo.forEach(t,function(e){dojo.removeClass(this.expandoNode,e)},this),dojo.addClass(this.expandoNode,t[i]),this.expandoNodeText.innerHTML=e?"*":this.isExpandable?this.isExpanded?"-":"+":"*"},expand:function(){this.isExpanded||("playing"==this._wipeOut.status()&&this._wipeOut.stop(),this.isExpanded=!0,dijit.setWaiState(this.labelNode,"expanded","true"),dijit.setWaiRole(this.containerNode,"group"),this._setExpando(),this._wipeIn.play())},collapse:function(){this.isExpanded&&("playing"==this._wipeIn.status()&&this._wipeIn.stop(),this.isExpanded=!1,dijit.setWaiState(this.labelNode,"expanded","false"),this._setExpando(),this._wipeOut.play())},setLabelNode:function(e){this.labelNode.innerHTML="",this.labelNode.appendChild(document.createTextNode(e))},_setChildren:function(e){this.destroyDescendants(),this.state="LOADED";var t={};if(e&&e.length>0?(this.isExpandable=!0,this.containerNode||(this.containerNode=this.tree.containerNodeTemplate.cloneNode(!0),this.domNode.appendChild(this.containerNode)),dojo.forEach(e,function(e){var i=new dijit._TreeNode(dojo.mixin({tree:this.tree,label:this.tree.getLabel(e.item)},e));this.addChild(i);var o=this.tree.store.getIdentity(e.item);t[o]=i,this.tree.persist&&this.tree._openedItemIds[o]&&this.tree._expandNode(i)},this),dojo.forEach(this.getChildren(),function(e){e._updateLayout()})):this.isExpandable=!1,this._setExpando&&this._setExpando(!1),this.isTree&&this._hideRoot){var i=this.getChildren()[0],o=i?i.labelNode:this.domNode;o.setAttribute("tabIndex","0")}return this.containerNode&&!this._wipeIn&&(this._wipeIn=dojo.fx.wipeIn({node:this.containerNode,duration:150}),this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:150})),t},_addChildren:function(e){var t={};return e&&e.length>0&&(dojo.forEach(e,function(e){var i=new dijit._TreeNode(dojo.mixin({tree:this.tree,label:this.tree.getLabel(e.item)},e));this.addChild(i),t[this.tree.store.getIdentity(e.item)]=i},this),dojo.forEach(this.getChildren(),function(e){e._updateLayout()})),t},deleteNode:function(e){e.destroy();var t=this.getChildren();0==t.length&&(this.isExpandable=!1,this.collapse()),dojo.forEach(t,function(e){e._updateLayout()})},makeExpandable:function(){this.isExpandable=!0,this._setExpando(!1)}}),dojo.declare("dijit.Tree",dijit._TreeNode,{store:null,query:null,childrenAttr:["children"],templateString:'<div class="dijitTreeContainer" style="" waiRole="tree"\r\n	dojoAttachEvent="onclick:_onClick,onkeypress:_onKeyPress">\r\n	<div class="dijitTreeNode  dijitTreeIsRoot dijitTreeExpandLeaf dijitTreeChildrenNo" waiRole="presentation"\r\n		dojoAttachPoint="rowNode"\r\n		><span dojoAttachPoint="expandoNode" class="dijitTreeExpando" waiRole="presentation"\r\n		></span\r\n		><span dojoAttachPoint="expandoNodeText" class="dijitExpandoText" waiRole="presentation"\r\n		></span\r\n		>\r\n		<div dojoAttachPoint="contentNode" class="dijitTreeContent" waiRole="presentation">\r\n			<div dojoAttachPoint="iconNode" class="dijitInline dijitTreeIcon" waiRole="presentation"></div>\r\n			<span dojoAttachPoint="labelNode" class="dijitTreeLabel" wairole="treeitem" tabindex="0"></span>\r\n		</div>\r\n	</div>\r\n</div>\r\n',isExpandable:!0,isTree:!0,persist:!0,dndController:null,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,_publish:function(e,t){dojo.publish(this.id,[dojo.mixin({tree:this,event:e},t||{})])},postMixInProperties:function(){if(this.tree=this,this.lastFocused=this.labelNode,this._itemNodeMap={},this._hideRoot=!this.label,!this.store.getFeatures()["dojo.data.api.Identity"])throw new Error("dijit.tree requires access to a store supporting the dojo.data Identity api");this.cookieName||(this.cookieName=this.id+"SaveStateCookie"),this.store.getFeatures()["dojo.data.api.Notification"]&&(this.connect(this.store,"onNew","_onNewItem"),this.connect(this.store,"onDelete","_onDeleteItem"),this.connect(this.store,"onSet","_onSetItem"))},postCreate:function(){if(this.persist){var e=dojo.cookie(this.cookieName);this._openedItemIds={},e&&dojo.forEach(e.split(","),function(e){this._openedItemIds[e]=!0},this)}var t=document.createElement("div");if(t.style.display="none",t.className="dijitTreeContainer",dijit.setWaiRole(t,"presentation"),this.containerNodeTemplate=t,this._hideRoot&&(this.rowNode.style.display="none"),this.inherited("postCreate",arguments),this._expandNode(this),this.dndController){dojo.isString(this.dndController)&&(this.dndController=dojo.getObject(this.dndController));for(var i={},o=0;o<this.dndParams.length;o++)this[this.dndParams[o]]&&(i[this.dndParams[o]]=this[this.dndParams[o]]);this.dndController=new this.dndController(this,i)}this.connect(this.domNode,dojo.isIE?"onactivate":"onfocus","_onTreeFocus")},mayHaveChildren:function(e){return dojo.some(this.childrenAttr,function(t){return this.store.hasAttribute(e,t)},this)},getItemChildren:function(e,t){function i(){0==--d&&t(n)}var o=this.store;if(null==e)o.fetch({query:this.query,onComplete:t});else{for(var n=[],s=0;s<this.childrenAttr.length;s++)n=n.concat(o.getValues(e,this.childrenAttr[s]));var d=0;dojo.forEach(n,function(e){o.isItemLoaded(e)||d++}),0==d?t(n):dojo.forEach(n,function(e){o.isItemLoaded(e)||o.loadItem({item:e,onItem:i})})}},getItemParentIdentity:function(e,t){return this.store.getIdentity(t.item)},getLabel:function(e){return this.store.getLabel(e)},getIconClass:function(){},getLabelClass:function(){},_onLoadAllItems:function(e,t){var i=dojo.map(t,function(e){return{item:e,isExpandable:this.mayHaveChildren(e)}},this);dojo.mixin(this._itemNodeMap,e._setChildren(i)),this._expandNode(e)},_onKeyPress:function(e){if(!e.altKey){var t=dijit.getEnclosingWidget(e.target);if(t)if(e.charCode){var i=e.charCode;e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||(i=String.fromCharCode(i).toLowerCase(),this._onLetterKeyNav({node:t,key:i}),dojo.stopEvent(e))}else{var o=this._keyHandlerMap;o||(o={},o[dojo.keys.ENTER]="_onEnterKey",o[dojo.keys.LEFT_ARROW]="_onLeftArrow",o[dojo.keys.RIGHT_ARROW]="_onRightArrow",o[dojo.keys.UP_ARROW]="_onUpArrow",o[dojo.keys.DOWN_ARROW]="_onDownArrow",o[dojo.keys.HOME]="_onHomeKey",o[dojo.keys.END]="_onEndKey",this._keyHandlerMap=o),this._keyHandlerMap[e.keyCode]&&(this[this._keyHandlerMap[e.keyCode]]({node:t,item:t.item}),dojo.stopEvent(e))}}},_onEnterKey:function(e){this._publish("execute",{item:e.item,node:e.node}),this.onClick(e.item,e.node)},_onDownArrow:function(e){var t=this._navToNextNode(e.node);return t&&t.isTreeNode?(t.tree.focusNode(t),t):void 0},_onUpArrow:function(e){var t=e.node,i=t,o=t.getPreviousSibling();if(o)for(t=o;t.isExpandable&&t.isExpanded&&t.hasChildren();){i=t;var n=t.getChildren();t=n[n.length-1]}else{var s=t.getParent();this._hideRoot&&s===this||(t=s)}return t&&t.isTreeNode&&(i=t),i&&i.isTreeNode?(i.tree.focusNode(i),i):void 0},_onRightArrow:function(e){var t=e.node,i=t;return t.isExpandable&&!t.isExpanded?this._expandNode(t):t.hasChildren()&&(t=t.getChildren()[0]),t&&t.isTreeNode&&(i=t),i&&i.isTreeNode?(i.tree.focusNode(i),i):void 0},_onLeftArrow:function(e){var t=e.node,i=t;return t.isExpandable&&t.isExpanded?this._collapseNode(t):t=t.getParent(),t&&t.isTreeNode&&(i=t),i&&i.isTreeNode?(i.tree.focusNode(i),i):void 0},_onHomeKey:function(){var e=this._navToRootOrFirstNode();return e?(e.tree.focusNode(e),e):void 0},_onEndKey:function(e){for(var t=e.node.tree,i=t;i.isExpanded;){var o=i.getChildren();i=o[o.length-1],i.isTreeNode&&(t=i)}return t&&t.isTreeNode?(t.tree.focusNode(t),t):void 0},_onLetterKeyNav:function(e){var t=startNode=e.node,i=e.key;do t=this._navToNextNode(t),t||(t=this._navToRootOrFirstNode());while(t!==startNode&&t.label.charAt(0).toLowerCase()!=i);return t&&t.isTreeNode?(t!==startNode&&t.tree.focusNode(t),t):void 0},_onClick:function(e){var t=e.target,i=dijit.getEnclosingWidget(t);i&&i.isTreeNode&&(t==i.expandoNode||t==i.expandoNodeText?i.isExpandable&&this._onExpandoClick({node:i}):(this._publish("execute",{item:i.item,node:i}),this.onClick(i.item,i),this.focusNode(i)),dojo.stopEvent(e))},_onExpandoClick:function(e){var t=e.node;t.isExpanded?this._collapseNode(t):this._expandNode(t)},onClick:function(){},_navToNextNode:function(e){var t;if(e.isExpandable&&e.isExpanded&&e.hasChildren())t=e.getChildren()[0];else for(;e&&e.isTreeNode&&!(t=e.getNextSibling());)e=e.getParent();return t},_navToRootOrFirstNode:function(){if(!this._hideRoot)return this;var e=this.getChildren()[0];return e&&e.isTreeNode?e:void 0},_collapseNode:function(e){if(e.isExpandable){if("LOADING"==e.state)return;this.lastFocused&&(dojo.isDescendant(this.lastFocused.domNode,e.domNode)?this.focusNode(e):this.focusNode(this.lastFocused)),e.collapse(),this.persist&&e.item&&(delete this._openedItemIds[this.store.getIdentity(e.item)],this._saveState())}},_expandNode:function(e){var t=e.tree;if(t.lastFocused&&t.focusNode(t.lastFocused),e.isExpandable){{this.store,this.store.getValue}switch(e.state){case"LOADING":return;case"UNCHECKED":e.markProcessing();var i=this,o=function(t){e.unmarkProcessing(),i._onLoadAllItems(e,t)};this.getItemChildren(e.item,o);break;default:e.expand&&(e.expand(),this.persist&&e.item&&(this._openedItemIds[this.store.getIdentity(e.item)]=!0,this._saveState()))}}},blurNode:function(){var e=this.lastFocused;if(e){var t=e.labelNode;dojo.removeClass(t,"dijitTreeLabelFocused"),t.setAttribute("tabIndex","-1"),this.lastFocused=null}},focusNode:function(e){e.labelNode.focus()},_onBlur:function(){if(this.lastFocused){var e=this.lastFocused.labelNode;dojo.removeClass(e,"dijitTreeLabelFocused")}},_onTreeFocus:function(e){var t=dijit.getEnclosingWidget(e.target);t!=this.lastFocused&&this.blurNode();var i=t.labelNode;i.setAttribute("tabIndex","0"),dojo.addClass(i,"dijitTreeLabelFocused"),this.lastFocused=t},_onNewItem:function(e,t){if(t){var i=this._itemNodeMap[this.getItemParentIdentity(e,t)];if(!i||-1==dojo.indexOf(this.childrenAttr,t.attribute))return}var o={item:e,isExpandable:this.mayHaveChildren(e)};if(i){if(i.isExpandable||i.makeExpandable(),"LOADED"==i.state||i.isExpanded)var n=i._addChildren([o])}else var n=this._addChildren([o]);n&&dojo.mixin(this._itemNodeMap,n)},_onDeleteItem:function(e){var t=this.store.getIdentity(e),i=this._itemNodeMap[t];if(i){var o=i.getParent();o.deleteNode(i),this._itemNodeMap[t]=null}},_onSetItem:function(e){var t=this.store.getIdentity(e);node=this._itemNodeMap[t],node&&(node.setLabelNode(this.getLabel(e)),node._updateItemClasses(e))},_saveState:function(){if(this.persist){var e=[];for(var t in this._openedItemIds)e.push(t);dojo.cookie(this.cookieName,e.join(","))}}})),dojo._hasResource["dijit.form.TextBox"]||(dojo._hasResource["dijit.form.TextBox"]=!0,dojo.provide("dijit.form.TextBox"),dojo.declare("dijit.form.TextBox",dijit.form._FormWidget,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",templateString:'<input class="dojoTextBox" dojoAttachPoint=\'textbox,focusNode\' name="${name}"\r\n	dojoAttachEvent=\'onmouseenter:_onMouse,onmouseleave:_onMouse,onfocus:_onMouse,onblur:_onMouse,onkeyup,onkeypress:_onKeyPress\'\r\n	autocomplete="off" type="${type}"\r\n	/>\r\n',baseClass:"dijitTextBox",attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{maxLength:"focusNode"}),getDisplayedValue:function(){return this.filter(this.textbox.value)},getValue:function(){return this.parse(this.getDisplayedValue(),this.constraints)},setValue:function(e,t,i){var o=this.filter(e);typeof o!=typeof e||null!=i&&void 0!=i||(i=this.format(o,this.constraints)),null!=i&&void 0!=i&&(this.textbox.value=i),dijit.form.TextBox.superclass.setValue.call(this,o,t)},setDisplayedValue:function(e){this.textbox.value=e,this.setValue(this.getValue(),!0)},forWaiValuenow:function(){return this.getDisplayedValue()},format:function(e){return null==e||void 0==e?"":e.toString?e.toString():e},parse:function(e){return e},postCreate:function(){this.textbox.setAttribute("value",this.getDisplayedValue()),this.inherited("postCreate",arguments),this.srcNodeRef&&(dojo.style(this.textbox,"cssText",this.style),this.textbox.className+=" "+this["class"]),this._layoutHack()},_layoutHack:function(){if(2==dojo.isFF&&"TABLE"==this.domNode.tagName){var e=this.domNode,t=e.style.opacity;e.style.opacity="0.999",setTimeout(function(){e.style.opacity=t},0)}},filter:function(e){return void 0==e||null==e?"":"string"!=typeof e?e:(this.trim&&(e=dojo.trim(e)),this.uppercase&&(e=e.toUpperCase()),this.lowercase&&(e=e.toLowerCase()),this.propercase&&(e=e.replace(/[^\s]+/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})),e)},_onBlur:function(){this.setValue(this.getValue(),this.isValid?this.isValid():!0)},onkeyup:function(){}})),dojo._hasResource["dijit.InlineEditBox"]||(dojo._hasResource["dijit.InlineEditBox"]=!0,dojo.provide("dijit.InlineEditBox"),dojo.declare("dijit.InlineEditBox",dijit._Widget,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",renderAsHtml:!1,editor:"dijit.form.TextBox",editorParams:{},onChange:function(){},width:"100%",value:"",noValueIndicator:"<span style='font-family: wingdings; text-decoration: underline;'>&nbsp;&nbsp;&nbsp;&nbsp;&#x270d;&nbsp;&nbsp;&nbsp;&nbsp;</span>",postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.displayNode=this.srcNodeRef;var e={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var t in e)this.connect(this.displayNode,t,e[t]);dijit.setWaiRole(this.displayNode,"button"),this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0),this.value||(this.value=this.displayNode.innerHTML),this._setDisplayValue(this.value)},_onMouseOver:function(){dojo.addClass(this.displayNode,this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion")},_onMouseOut:function(){dojo.removeClass(this.displayNode,this.disabled?"dijitDisabledClickableRegion":"dijitClickableRegion")},_onClick:function(e){this.disabled||(e&&dojo.stopEvent(e),this._onMouseOut(),setTimeout(dojo.hitch(this,"_edit"),0))},_edit:function(){this.editing=!0;var e=this.renderAsHtml?this.value:this.value.replace(/\s*\r?\n\s*/g,"").replace(/<br\/?>/gi,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"),t=document.createElement("span");dojo.place(t,this.domNode,"before");var i=this.editWidget=new dijit._InlineEditor({value:dojo.trim(e),autoSave:this.autoSave,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,renderAsHtml:this.renderAsHtml,editor:this.editor,editorParams:this.editorParams,style:dojo.getComputedStyle(this.displayNode),save:dojo.hitch(this,"save"),cancel:dojo.hitch(this,"cancel"),width:this.width},t),o=i.domNode.style;this.displayNode.style.display="none",o.position="static",o.visibility="visible",this.domNode=i.domNode,setTimeout(function(){i.focus()},100)},_showText:function(e){this.displayNode.style.display="";var t=this.editWidget.domNode.style;t.position="absolute",t.visibility="hidden",this.domNode=this.displayNode;var i=this;setTimeout(function(){e&&dijit.focus(i.displayNode),i.editWidget.destroy(),delete i.editWidget},100)},save:function(e){this.editing=!1,this.value=this.editWidget.getValue()+"",this.renderAsHtml&&(this.value=this.value.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace("\n","<br>")),this._setDisplayValue(this.value),this.onChange(this.value),this._showText(e)},_setDisplayValue:function(e){this.displayNode.innerHTML=e||this.noValueIndicator},cancel:function(e){this.editing=!1,this._showText(e)}}),dojo.declare("dijit._InlineEditor",[dijit._Widget,dijit._Templated],{templateString:'<fieldset dojoAttachPoint="editNode" waiRole="presentation" style="position: absolute; visibility:hidden" class="dijitReset dijitInline"\r\n	dojoAttachEvent="onkeypress: _onKeyPress" \r\n	><input dojoAttachPoint="editorPlaceholder"\r\n	/><span dojoAttachPoint="buttonContainer"\r\n		><button class=\'saveButton\' dojoAttachPoint="saveButton" dojoType="dijit.form.Button" dojoAttachEvent="onClick:save">${buttonSave}</button\r\n		><button class=\'cancelButton\' dojoAttachPoint="cancelButton" dojoType="dijit.form.Button" dojoAttachEvent="onClick:cancel">${buttonCancel}</button\r\n	></span\r\n></fieldset>\r\n',widgetsInTemplate:!0,postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.messages=dojo.i18n.getLocalization("dijit","common",this.lang),dojo.forEach(["buttonSave","buttonCancel"],function(e){this[e]||(this[e]=this.messages[e])},this)},postCreate:function(){var e=dojo.getObject(this.editor),t=this.editWidget=new e(this.editorParams,this.editorPlaceholder),i=this.style;dojo.forEach(["fontWeight","fontFamily","fontSize","fontStyle"],function(e){t.focusNode.style[e]=i[e]},this),dojo.forEach(["marginTop","marginBottom","marginLeft","marginRight"],function(e){this.domNode.style[e]=i[e]},this),"100%"==this.width?(t.domNode.style.width="100%",this.domNode.style.display="block"):t.domNode.style.width=this.width+(Number(this.width)==this.width?"px":""),this.connect(this.editWidget,"onChange","_onChange"),this._ignoreNextOnChange=!0,(this.editWidget.setDisplayedValue||this.editWidget.setValue).call(this.editWidget,this.value),this._initialText=this.getValue(),this.autoSave&&(this.buttonContainer.style.display="none")},destroy:function(){this.editWidget.destroy(),this.inherited(arguments)},getValue:function(){var e=this.editWidget;return e.getDisplayedValue?e.getDisplayedValue():e.getValue()},_onKeyPress:function(e){if(!this._exitInProgress)if(this.autoSave)e.keyCode==dojo.keys.ESCAPE?(dojo.stopEvent(e),this._exitInProgress=!0,this.cancel(!0)):e.keyCode==dojo.keys.ENTER&&(dojo.stopEvent(e),this._exitInProgress=!0,this.save(!0));else{var t=this;setTimeout(function(){t.saveButton.setDisabled(t.getValue()==t._initialText)},100)}},_onBlur:function(){this._exitInProgress||this.autoSave&&(this._exitInProgress=!0,this.getValue()==this._initialText?this.cancel(!1):this.save(!1))},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},_onChange:function(){return this._ignoreNextOnChange?(delete this._ignoreNextOnChange,void 0):(this._exitInProgress||(this.autoSave?(this._exitInProgress=!0,this.save(!0)):this.saveButton.setDisabled(this.getValue()==this._initialText||!this.enableSave())),void 0)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus(),dijit.selectInputText(this.editWidget.focusNode)}}),dijit.selectInputText=function(e){var t=dojo.global,i=dojo.doc;if(e=dojo.byId(e),i.selection&&dojo.body().createTextRange){if(e.createTextRange){var o=e.createTextRange();o.moveStart("character",0),o.moveEnd("character",e.value.length),o.select()}}else if(t.getSelection){{t.getSelection()}e.setSelectionRange&&e.setSelectionRange(0,e.value.length)}e.focus()}),dojo._hasResource["dijit.form.CheckBox"]||(dojo._hasResource["dijit.form.CheckBox"]=!0,dojo.provide("dijit.form.CheckBox"),dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:'<fieldset class="dijitReset dijitInline" waiRole="presentation"\r\n	><input\r\n	 	type="${type}" name="${name}"\r\n		class="dijitReset dijitCheckBoxInput"\r\n		dojoAttachPoint="inputNode,focusNode"\r\n	 	dojoAttachEvent="onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick"\r\n/></fieldset>\r\n',baseClass:"dijitCheckBox",type:"checkbox",value:"on",postCreate:function(){dojo.setSelectable(this.inputNode,!1),this.setChecked(this.checked),this.inherited(arguments)},setChecked:function(e){dojo.isIE?e?this.inputNode.setAttribute("checked","checked"):this.inputNode.removeAttribute("checked"):this.inputNode.checked=e,this.inherited(arguments)},setValue:function(e){null==e&&(e=""),this.inputNode.value=e,dijit.form.CheckBox.superclass.setValue.call(this,e)}}),dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_groups:{},postCreate:function(){(this._groups[this.name]=this._groups[this.name]||[]).push(this),this.inherited(arguments)},uninitialize:function(){dojo.forEach(this._groups[this.name],function(e,t,i){return e===this?(i.splice(t,1),void 0):void 0},this)},setChecked:function(e){e&&dojo.forEach(this._groups[this.name],function(e){e!=this&&e.checked&&e.setChecked(!1)},this),this.inherited(arguments)},_clicked:function(){this.checked||this.setChecked(!0)}})),dojo._hasResource["dojo.data.util.filter"]||(dojo._hasResource["dojo.data.util.filter"]=!0,dojo.provide("dojo.data.util.filter"),dojo.data.util.filter.patternToRegExp=function(e,t){for(var i="^",o=null,n=0;n<e.length;n++)switch(o=e.charAt(n)){case"\\":i+=o,n++,i+=e.charAt(n);break;case"*":i+=".*";break;case"?":i+=".";break;case"$":case"^":case"/":case"+":case".":case"|":case"(":case")":case"{":case"}":case"[":case"]":i+="\\";default:i+=o}return i+="$",t?new RegExp(i,"i"):new RegExp(i)}),dojo._hasResource["dojo.data.util.sorter"]||(dojo._hasResource["dojo.data.util.sorter"]=!0,dojo.provide("dojo.data.util.sorter"),dojo.data.util.sorter.basicComparator=function(e,t){var i=0;return e>t||"undefined"==typeof e||null===e?i=1:(t>e||"undefined"==typeof t||null===t)&&(i=-1),i},dojo.data.util.sorter.createSortFunction=function(e,t){function i(e,i){return function(o,n){var s=t.getValue(o,e),d=t.getValue(n,e),a=null;return t.comparatorMap&&("string"!=typeof e&&(e=t.getIdentity(e)),a=t.comparatorMap[e]||dojo.data.util.sorter.basicComparator),a=a||dojo.data.util.sorter.basicComparator,i*a(s,d)}}for(var o=[],n=0;n<e.length;n++)if(sortAttribute=e[n],sortAttribute.attribute){var s=sortAttribute.descending?-1:1;o.push(i(sortAttribute.attribute,s))}return function(e,t){for(var i=0;i<o.length;){var n=o[i++](e,t);if(0!==n)return n}return 0}}),dojo._hasResource["dojo.data.util.simpleFetch"]||(dojo._hasResource["dojo.data.util.simpleFetch"]=!0,dojo.provide("dojo.data.util.simpleFetch"),dojo.data.util.simpleFetch.fetch=function(e){e=e||{},e.store||(e.store=this);var t=this,i=function(e,t){if(t.onError){var i=t.scope||dojo.global;t.onError.call(i,e,t)}},o=function(e,i){var o=i.abort||null,n=!1,s=i.start?i.start:0,d=i.count?s+i.count:e.length;i.abort=function(){n=!0,o&&o.call(i)};var a=i.scope||dojo.global;if(i.store||(i.store=t),i.onBegin&&i.onBegin.call(a,e.length,i),i.sort&&e.sort(dojo.data.util.sorter.createSortFunction(i.sort,t)),i.onItem)for(var r=s;r<e.length&&d>r;++r){var l=e[r];n||i.onItem.call(a,l,i)}if(i.onComplete&&!n){var h=null;i.onItem||(h=e.slice(s,d)),i.onComplete.call(a,h,i)}};return this._fetchItems(e,o,i),e}),dojo._hasResource["dojo.data.ItemFileReadStore"]||(dojo._hasResource["dojo.data.ItemFileReadStore"]=!0,dojo.provide("dojo.data.ItemFileReadStore"),dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(e){this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._jsonFileUrl=e.url,this._jsonData=e.data,this._datatypeMap=e.typeMap||{},this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(e){return dojo.date.stamp.fromISOString(e)}}),this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},this._itemsByIdentity=null,this._storeRefPropName="_S",this._itemNumPropName="_0",this._rootItemPropName="_RI",this._loadInProgress=!1,this._queuedFetches=[]},url:"",_assertIsItem:function(e){if(!this.isItem(e))throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.")},_assertIsAttribute:function(e){if("string"!=typeof e)throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.")},getValue:function(e,t,i){var o=this.getValues(e,t);return o.length>0?o[0]:i},getValues:function(e,t){return this._assertIsItem(e),this._assertIsAttribute(t),e[t]||[]},getAttributes:function(e){this._assertIsItem(e);var t=[];for(var i in e)i!==this._storeRefPropName&&i!==this._itemNumPropName&&i!==this._rootItemPropName&&t.push(i);return t},hasAttribute:function(e,t){return this.getValues(e,t).length>0},containsValue:function(e,t,i){var o=void 0;return"string"==typeof i&&(o=dojo.data.util.filter.patternToRegExp(i,!1)),this._containsValue(e,t,i,o)},_containsValue:function(e,t,i,o){return dojo.some(this.getValues(e,t),function(e){if(null!==e&&!dojo.isObject(e)&&o){if(e.toString().match(o))return!0}else if(i===e)return!0})},isItem:function(e){return e&&e[this._storeRefPropName]===this&&this._arrayOfAllItems[e[this._itemNumPropName]]===e?!0:!1},isItemLoaded:function(e){return this.isItem(e)},loadItem:function(e){this._assertIsItem(e.item)},getFeatures:function(){return this._features},getLabel:function(e){return this._labelAttr&&this.isItem(e)?this.getValue(e,this._labelAttr):void 0},getLabelAttributes:function(){return this._labelAttr?[this._labelAttr]:null},_fetchItems:function(e,t,i){var o=this,n=function(e,i){var n=[];if(e.query){var s=e.queryOptions?e.queryOptions.ignoreCase:!1,d={};for(var a in e.query){var r=e.query[a];"string"==typeof r&&(d[a]=dojo.data.util.filter.patternToRegExp(r,s))}for(var l=0;l<i.length;++l){var h=!0,c=i[l];if(null===c)h=!1;else for(var a in e.query){var r=e.query[a];o._containsValue(c,a,r,d[a])||(h=!1)}h&&n.push(c)}t(n,e)}else{for(var l=0;l<i.length;++l){var u=i[l];null!==u&&n.push(u)}t(n,e)}};if(this._loadFinished)n(e,this._getItemsArray(e.queryOptions));else if(this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:e,filter:n});else{this._loadInProgress=!0;var s={url:o._jsonFileUrl,handleAs:"json-comment-optional"},d=dojo.xhrGet(s);d.addCallback(function(t){try{o._getItemsFromLoadedData(t),o._loadFinished=!0,o._loadInProgress=!1,n(e,o._getItemsArray(e.queryOptions)),o._handleQueuedFetches()}catch(s){o._loadFinished=!0,o._loadInProgress=!1,i(s,e)}}),d.addErrback(function(t){o._loadInProgress=!1,i(t,e)})}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,n(e,this._getItemsArray(e.queryOptions))}catch(a){i(a,e)}else i(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),e)},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var e=0;e<this._queuedFetches.length;e++){var t=this._queuedFetches[e],i=t.args,o=t.filter;o?o(i,this._getItemsArray(i.queryOptions)):this.fetchItemByIdentity(i)}this._queuedFetches=[]}},_getItemsArray:function(e){return e&&e.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(){},_getItemsFromLoadedData:function(e){function t(e){var t=null!=e&&"object"==typeof e&&!dojo.isArray(e)&&!dojo.isFunction(e)&&e.constructor==Object&&"undefined"==typeof e._reference&&"undefined"==typeof e._type&&"undefined"==typeof e._value;return t}function i(e){o._arrayOfAllItems.push(e);for(var n in e){var s=e[n];if(s)if(dojo.isArray(s))for(var d=s,a=0;a<d.length;++a){var r=d[a];t(r)&&i(r)}else t(s)&&i(s)}}var o=this;this._labelAttr=e.label;var n,s;for(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=e.items,n=0;n<this._arrayOfTopLevelItems.length;++n)s=this._arrayOfTopLevelItems[n],i(s),s[this._rootItemPropName]=!0;var d,a={};for(n=0;n<this._arrayOfAllItems.length;++n){s=this._arrayOfAllItems[n];for(d in s){if(d!==this._rootItemPropName){var r=s[d];null!==r?dojo.isArray(r)||(s[d]=[r]):s[d]=[null]}a[d]=d}}for(;a[this._storeRefPropName];)this._storeRefPropName+="_";for(;a[this._itemNumPropName];)this._itemNumPropName+="_";var l,h=e.identifier;if(h)for(this._itemsByIdentity={},this._features["dojo.data.api.Identity"]=h,n=0;n<this._arrayOfAllItems.length;++n){s=this._arrayOfAllItems[n],l=s[h];var c=l[0];if(this._itemsByIdentity[c]){if(this._jsonFileUrl)throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+c+"]");if(this._jsonData)throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+c+"]")}else this._itemsByIdentity[c]=s}else this._features["dojo.data.api.Identity"]=Number;for(n=0;n<this._arrayOfAllItems.length;++n)s=this._arrayOfAllItems[n],s[this._storeRefPropName]=this,s[this._itemNumPropName]=n;for(n=0;n<this._arrayOfAllItems.length;++n){s=this._arrayOfAllItems[n];for(d in s){l=s[d];for(var u=0;u<l.length;++u)if(r=l[u],null!==r&&"object"==typeof r){if(r._type&&r._value){var p=r._type,m=this._datatypeMap[p];if(!m)throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+p+"'");if(dojo.isFunction(m))l[u]=new m(r._value);else{if(!dojo.isFunction(m.deserialize))throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");l[u]=m.deserialize(r._value)}}if(r._reference){var j=r._reference;if(dojo.isString(j))l[u]=this._itemsByIdentity[j];else for(var f=0;f<this._arrayOfAllItems.length;++f){var g=this._arrayOfAllItems[f],_=!0;for(var v in j)g[v]!=j[v]&&(_=!1);_&&(l[u]=g)}}}}}},getIdentity:function(e){var t=this._features["dojo.data.api.Identity"];if(t===Number)return e[this._itemNumPropName];var i=e[t];return i?i[0]:null},fetchItemByIdentity:function(e){if(this._loadFinished){var t=this._getItemByIdentity(e.identity);if(e.onItem){var i=e.scope?e.scope:dojo.global;e.onItem.call(i,t)}}else{var o=this;if(this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:e});else{this._loadInProgress=!0;var n={url:o._jsonFileUrl,handleAs:"json-comment-optional"},s=dojo.xhrGet(n);s.addCallback(function(t){var i=e.scope?e.scope:dojo.global;try{o._getItemsFromLoadedData(t),o._loadFinished=!0,o._loadInProgress=!1;
var n=o._getItemByIdentity(e.identity);e.onItem&&e.onItem.call(i,n),o._handleQueuedFetches()}catch(s){o._loadInProgress=!1,e.onError&&e.onError.call(i,s)}}),s.addErrback(function(t){if(o._loadInProgress=!1,e.onError){var i=e.scope?e.scope:dojo.global;e.onError.call(i,t)}})}else if(this._jsonData){o._getItemsFromLoadedData(o._jsonData),o._jsonData=null,o._loadFinished=!0;var t=o._getItemByIdentity(e.identity);if(e.onItem){var i=e.scope?e.scope:dojo.global;e.onItem.call(i,t)}}}},_getItemByIdentity:function(e){var t=null;return t=this._itemsByIdentity?this._itemsByIdentity[e]:this._arrayOfAllItems[e],void 0===t&&(t=null),t},getIdentityAttributes:function(){var e=this._features["dojo.data.api.Identity"];return e===Number?null:[e]},_forceLoad:function(){var e=this;if(this._jsonFileUrl){var t={url:e._jsonFileUrl,handleAs:"json-comment-optional",sync:!0},i=dojo.xhrGet(t);i.addCallback(function(t){try{e._loadInProgress===!0||e._loadFinished||(e._getItemsFromLoadedData(t),e._loadFinished=!0)}catch(i){throw console.log(i),i}}),i.addErrback(function(e){throw e})}else this._jsonData&&(e._getItemsFromLoadedData(e._jsonData),e._jsonData=null,e._loadFinished=!0)}}),dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch)),dojo._hasResource["dijit.form.ValidationTextBox"]||(dojo._hasResource["dijit.form.ValidationTextBox"]=!0,dojo.provide("dijit.form.ValidationTextBox"),dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:'<table style="display: -moz-inline-stack;" class="dijit dijitReset dijitInlineTable" cellspacing="0" cellpadding="0"\r\n	id="widget_${id}" name="${name}"\r\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse" waiRole="presentation"\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset dijitInputField" width="100%"\r\n			><input dojoAttachPoint=\'textbox,focusNode\' dojoAttachEvent=\'onfocus,onblur:_onMouse,onkeyup,onkeypress:_onKeyPress\' autocomplete="off"\r\n			type=\'${type}\' name=\'${name}\'\r\n		/></td\r\n		><td class="dijitReset dijitValidationIconField" width="0%"\r\n			><div dojoAttachPoint=\'iconNode\' class=\'dijitValidationIcon\'></div><div class=\'dijitValidationIconText\'>&Chi;</div\r\n		></td\r\n	></tr\r\n></table>\r\n',baseClass:"dijitTextBox",required:!1,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(){return this.regExp},state:"",setValue:function(){this.inherited("setValue",arguments),this.validate(!1)},validator:function(e,t){return!(!new RegExp("^("+this.regExpGen(t)+")"+(this.required?"":"?")+"$").test(e)||this.required&&this._isEmpty(e)||!this._isEmpty(e)&&null===this.parse(e,t))},isValid:function(){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(e){return/^\s*$/.test(e)},getErrorMessage:function(){return this.invalidMessage},getPromptMessage:function(){return this.promptMessage},validate:function(e){var t="",i=this.isValid(e),o=this._isEmpty(this.textbox.value);this.state=i||!this._hasBeenBlurred&&o?"":"Error",this._setStateClass(),dijit.setWaiState(this.focusNode,"invalid",i?"false":"true"),e&&(o&&(t=this.getPromptMessage(!0)),t||i||(t=this.getErrorMessage(!0))),this._displayMessage(t)},_message:"",_displayMessage:function(e){this._message!=e&&(this._message=e,this.displayMessage(e))},displayMessage:function(e){e?dijit.showTooltip(e,this.domNode):dijit.hideTooltip(this.domNode)},_hasBeenBlurred:!1,_onBlur:function(){this._hasBeenBlurred=!0,this.validate(!1),this.inherited("_onBlur",arguments)},onfocus:function(e){this.validate(!0),this._onMouse(e)},onkeyup:function(e){this.onfocus(e)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.constraints.locale=this.lang,this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang),"$_unset_$"==this.invalidMessage&&(this.invalidMessage=this.messages.invalidMessage);var e=this.regExpGen(this.constraints);this.regExp=e}}),dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{serialize:function(e){return e.toString?e.toString():""},toString:function(){var e=this.filter(this.getValue());return null!=e?"string"==typeof e?e:this.serialize(e,this.constraints):""},validate:function(){this.valueNode.value=this.toString(),this.inherited("validate",arguments)},postCreate:function(){var e=this.textbox,t=this.valueNode=document.createElement("input");t.setAttribute("type",e.type),t.setAttribute("value",this.toString()),dojo.style(t,"display","none"),t.name=this.textbox.name,this.textbox.name="_"+this.textbox.name+"_displayed_",this.textbox.removeAttribute("name"),dojo.place(t,e,"after"),this.inherited("postCreate",arguments)}}),dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",compare:function(e,t){return e-t},rangeCheck:function(e,t){var i="undefined"!=typeof t.min,o="undefined"!=typeof t.max;return i||o?(!i||this.compare(e,t.min)>=0)&&(!o||this.compare(e,t.max)<=0):!0},isInRange:function(){return this.rangeCheck(this.getValue(),this.constraints)},isValid:function(e){return this.inherited("isValid",arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(e))},getErrorMessage:function(e){return dijit.form.RangeBoundTextBox.superclass.isValid.call(this,!1)&&!this.isInRange(e)?this.rangeMessage:this.inherited("getErrorMessage",arguments)},postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.rangeMessage||(this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)},postCreate:function(){this.inherited("postCreate",arguments),"undefined"!=typeof this.constraints.min&&dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min),"undefined"!=typeof this.constraints.max&&dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max)}})),dojo._hasResource["dijit.form.ComboBox"]||(dojo._hasResource["dijit.form.ComboBox"]=!0,dojo.provide("dijit.form.ComboBox"),dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:1/0,store:null,query:{},autoComplete:!0,searchDelay:100,searchAttr:"name",ignoreCase:!0,hasDownArrow:!0,_hasFocus:!1,templateString:'<table class="dijit dijitReset dijitInlineTable dijitLeft" cellspacing="0" cellpadding="0"\r\n	id="widget_${id}" name="${name}" dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse" waiRole="presentation"\r\n	><tr class="dijitReset"\r\n		><td class=\'dijitReset dijitStretch dijitInputField\' width="100%"\r\n			><input type="text" autocomplete="off" name="${name}"\r\n			dojoAttachEvent="onkeypress, onkeyup, onfocus, compositionend"\r\n			dojoAttachPoint="textbox,focusNode" waiRole="combobox"\r\n		/></td\r\n		><td class="dijitReset dijitValidationIconField" width="0%"\r\n			><div dojoAttachPoint=\'iconNode\' class=\'dijitValidationIcon\'></div\r\n			><div class=\'dijitValidationIconText\'>&Chi;</div\r\n		></td\r\n		><td class=\'dijitReset dijitRight dijitButtonNode dijitDownArrowButton\' width="0%"\r\n			dojoAttachPoint="downArrowNode"\r\n			dojoAttachEvent="onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse"\r\n			><div class="dijitDownArrowButtonInner" waiRole="presentation"\r\n				><div class="dijitDownArrowButtonChar">&#9660;</div\r\n			></div\r\n		></td	\r\n	></tr\r\n></table>\r\n',baseClass:"dijitComboBox",_lastDisplayedValue:"",getValue:function(){return dijit.form.TextBox.superclass.getValue.apply(this,arguments)},setDisplayedValue:function(e){this._lastDisplayedValue=e,this.setValue(e,!0)},_getCaretPos:function(e){if("number"==typeof e.selectionStart)return e.selectionStart;if(dojo.isIE){var t=document.selection.createRange().duplicate(),i=e.createTextRange();t.move("character",0),i.move("character",0);try{return i.setEndPoint("EndToEnd",t),String(i.text).replace(/\r/g,"").length}catch(o){return 0}}},_setCaretPos:function(e,t){t=parseInt(t),this._setSelectedRange(e,t,t)},_setSelectedRange:function(element,start,end){if(end||(end=element.value.length),element.setSelectionRange)dijit.focus(element),element.setSelectionRange(start,end);else if(element.createTextRange){var range=element.createTextRange();with(range)collapse(!0),moveEnd("character",end),moveStart("character",start),select()}else{element.value=element.value,element.blur(),dijit.focus(element);for(var dist=parseInt(element.value.length)-end,tchar=String.fromCharCode(37),tcc=tchar.charCodeAt(0),x=0;dist>x;x++){var te=document.createEvent("KeyEvents");te.initKeyEvent("keypress",!0,!0,null,!1,!1,!1,!1,tcc,tcc),element.dispatchEvent(te)}}},onkeypress:function(e){if(!(e.altKey||e.ctrlKey&&118!=e.charCode)){var t=!1;switch(this.item=null,this._isShowingNow&&this._popupWidget.handleKey(e),e.keyCode){case dojo.keys.PAGE_DOWN:case dojo.keys.DOWN_ARROW:!this._isShowingNow||this._prev_key_esc?(this._arrowPressed(),t=!0):this._announceOption(this._popupWidget.getHighlightedOption()),dojo.stopEvent(e),this._prev_key_backspace=!1,this._prev_key_esc=!1;break;case dojo.keys.PAGE_UP:case dojo.keys.UP_ARROW:this._isShowingNow&&this._announceOption(this._popupWidget.getHighlightedOption()),dojo.stopEvent(e),this._prev_key_backspace=!1,this._prev_key_esc=!1;break;case dojo.keys.ENTER:var i;if(this._isShowingNow&&(i=this._popupWidget.getHighlightedOption())){if(i==this._popupWidget.nextButton){this._nextSearch(1),dojo.stopEvent(e);break}if(i==this._popupWidget.previousButton){this._nextSearch(-1),dojo.stopEvent(e);break}}else this.setDisplayedValue(this.getDisplayedValue());e.preventDefault();case dojo.keys.TAB:var o=this.getDisplayedValue();if(this._popupWidget&&(o==this._popupWidget._messages.previousMessage||o==this._popupWidget._messages.nextMessage))break;this._isShowingNow&&(this._prev_key_backspace=!1,this._prev_key_esc=!1,this._popupWidget.getHighlightedOption()&&this._popupWidget.setValue({target:this._popupWidget.getHighlightedOption()},!0),this._hideResultList());break;case dojo.keys.SPACE:this._prev_key_backspace=!1,this._prev_key_esc=!1,this._isShowingNow&&this._popupWidget.getHighlightedOption()?(dojo.stopEvent(e),this._selectOption(),this._hideResultList()):t=!0;break;case dojo.keys.ESCAPE:this._prev_key_backspace=!1,this._prev_key_esc=!0,this._hideResultList(),this._lastDisplayedValue!=this.getDisplayedValue()?(this.setDisplayedValue(this._lastDisplayedValue),dojo.stopEvent(e)):this.setValue(this.getValue(),!1);break;case dojo.keys.DELETE:case dojo.keys.BACKSPACE:this._prev_key_esc=!1,this._prev_key_backspace=!0,t=!0;break;case dojo.keys.RIGHT_ARROW:case dojo.keys.LEFT_ARROW:this._prev_key_backspace=!1,this._prev_key_esc=!1;break;default:this._prev_key_backspace=!1,this._prev_key_esc=!1,(dojo.isIE||0!=e.charCode)&&(t=!0)}this.searchTimer&&clearTimeout(this.searchTimer),t&&(this.searchTimer=setTimeout(dojo.hitch(this,this._startSearchFromInput),this.searchDelay))}},_autoCompleteText:function(e){if(this._setSelectedRange(this.focusNode,this.focusNode.value.length,this.focusNode.value.length),new RegExp("^"+escape(this.focusNode.value),this.ignoreCase?"i":"").test(escape(e))){var t=this._getCaretPos(this.focusNode);t+1>this.focusNode.value.length&&(this.focusNode.value=e,this._setSelectedRange(this.focusNode,t,this.focusNode.value.length),dijit.setWaiState(this.focusNode,"valuenow",e))}else this.focusNode.value=e,this._setSelectedRange(this.focusNode,0,this.focusNode.value.length),dijit.setWaiState(this.focusNode,"valuenow",e)},_openResultList:function(e,t){if(!this.disabled&&t.query[this.searchAttr]==this._lastQuery){if(this._popupWidget.clearResultList(),!e.length)return this._hideResultList(),void 0;var i=new String(this.store.getValue(e[0],this.searchAttr));i&&this.autoComplete&&!this._prev_key_backspace&&"*"!=t.query[this.searchAttr]&&(this._autoCompleteText(i),dijit.setWaiState(this.focusNode||this.domNode,"valuenow",i)),this._popupWidget.createOptions(e,t,dojo.hitch(this,this._getMenuLabelFromItem)),this._showResultList(),t.direction&&(1==t.direction?this._popupWidget.highlightFirstOption():-1==t.direction&&this._popupWidget.highlightLastOption(),this._announceOption(this._popupWidget.getHighlightedOption()))}},_showResultList:function(){this._hideResultList();{var items=this._popupWidget.getItems();Math.min(items.length,this.maxListLength)}with(this._arrowPressed(),this._displayMessage(""),this._popupWidget.domNode.style)width="",height="";var best=this.open(),popupbox=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=best.h==popupbox.h&&best.w==popupbox.w?"hidden":"auto";var newwidth=best.w;best.h<this._popupWidget.domNode.scrollHeight&&(newwidth+=16),dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(newwidth,this.domNode.offsetWidth)})},_hideResultList:function(){this._isShowingNow&&(dijit.popup.close(this._popupWidget),this._arrowIdle(),this._isShowingNow=!1)},_onBlur:function(){this._hasFocus=!1,this._hasBeenBlurred=!0,this._hideResultList(),this._arrowIdle();var e=this.getDisplayedValue();!this._popupWidget||e!=this._popupWidget._messages.previousMessage&&e!=this._popupWidget._messages.nextMessage?this.setDisplayedValue(e):this.setValue(this._lastValueReported,!0)},onfocus:function(e){this._hasFocus=!0,this._onMouse(e)},_announceOption:function(e){if(null!=e){var t;t=e==this._popupWidget.nextButton||e==this._popupWidget.previousButton?e.innerHTML:this.store.getValue(e.item,this.searchAttr),this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode)),this._autoCompleteText(t)}},_selectOption:function(e){var t=null;return e||(e={target:this._popupWidget.getHighlightedOption()}),e.target?(t=e.target,e.noHide||(this._hideResultList(),this._setCaretPos(this.focusNode,this.store.getValue(t.item,this.searchAttr).length)),this._doSelect(t),void 0):(this.setDisplayedValue(this.getDisplayedValue()),void 0)},_doSelect:function(e){this.item=e.item,this.setValue(this.store.getValue(e.item,this.searchAttr),!0)},_onArrowMouseDown:function(e){this.disabled||(dojo.stopEvent(e),this.focus(),this._isShowingNow?this._hideResultList():this._startSearch(""))},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(e){function t(e,t){e.start+=e.count*t,e.direction=t,e.store.fetch(e)}this._popupWidget||(this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption)}));var i=this.query;this._lastQuery=i[this.searchAttr]=e+"*";var o=this.store.fetch({queryOptions:{ignoreCase:this.ignoreCase,deep:!0},query:i,onComplete:dojo.hitch(this,"_openResultList"),start:0,count:this.pageSize});this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,t,o)},_getValueField:function(){return this.searchAttr},_arrowPressed:function(){!this.disabled&&this.hasDownArrow&&dojo.addClass(this.downArrowNode,"dijitArrowButtonActive")},_arrowIdle:function(){!this.disabled&&this.hasDownArrow&&dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed")},compositionend:function(){this.onkeypress({charCode:-1})},constructor:function(){this.query={}},postMixInProperties:function(){if(this.hasDownArrow||(this.baseClass="dijitTextBox"),!this.store){var e=this.srcNodeRef?dojo.query("> option",this.srcNodeRef).map(function(e){return e.style.display="none",{value:e.getAttribute("value"),name:String(e.innerHTML)}}):{};this.store=new dojo.data.ItemFileReadStore({data:{identifier:this._getValueField(),items:e}}),e&&e.length&&!this.value&&(this.value=e[-1!=this.srcNodeRef.selectedIndex?this.srcNodeRef.selectedIndex:0][this._getValueField()])}},uninitialize:function(){this._popupWidget&&(this._hideResultList(),this._popupWidget.destroy())},_getMenuLabelFromItem:function(e){return{html:!1,label:this.store.getValue(e,this.searchAttr)}},open:function(){return this._isShowingNow=!0,dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this})}}),dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitMenu' dojoAttachEvent='onmousedown,onmouseup,onmouseover,onmouseout' tabIndex='-1' style='overflow:\"auto\";'><div class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton'></div><div class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton'></div></div>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang),this.inherited("postMixInProperties",arguments)},setValue:function(e){this.value=e,this.onChange(e)},onChange:function(){},onPage:function(){},postCreate:function(){this.previousButton.innerHTML=this._messages.previousMessage,this.nextButton.innerHTML=this._messages.nextMessage,this.inherited("postCreate",arguments)},onClose:function(){this._blurOptionNode()},_createOption:function(e,t){var i=t(e),o=document.createElement("div");return i.html?o.innerHTML=i.label:o.appendChild(document.createTextNode(i.label)),""==o.innerHTML&&(o.innerHTML="&nbsp;"),o.item=e,o},createOptions:function(e,t,i){this.previousButton.style.display=0==t.start?"none":"";var o=this;dojo.forEach(e,function(e){var t=o._createOption(e,i);t.className="dijitMenuItem",o.domNode.insertBefore(t,o.nextButton)}),this.nextButton.style.display=t.count==e.length?"":"none"},clearResultList:function(){for(;this.domNode.childNodes.length>2;)this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2])},getItems:function(){return this.domNode.childNodes},getListLength:function(){return this.domNode.childNodes.length-2},onmousedown:function(e){dojo.stopEvent(e)},onmouseup:function(e){if(e.target!==this.domNode)if(e.target==this.previousButton)this.onPage(-1);else if(e.target==this.nextButton)this.onPage(1);else{for(var t=e.target;!t.item;)t=t.parentNode;this.setValue({target:t},!0)}},onmouseover:function(e){if(e.target!==this.domNode){var t=e.target;if(t!=this.previousButton&&t!=this.nextButton)for(;!t.item;)t=t.parentNode;this._focusOptionNode(t)}},onmouseout:function(e){e.target!==this.domNode&&this._blurOptionNode()},_focusOptionNode:function(e){this._highlighted_option!=e&&(this._blurOptionNode(),this._highlighted_option=e,dojo.addClass(this._highlighted_option,"dijitMenuItemHover"))},_blurOptionNode:function(){this._highlighted_option&&(dojo.removeClass(this._highlighted_option,"dijitMenuItemHover"),this._highlighted_option=null)},_highlightNextOption:function(){this.getHighlightedOption()?this._highlighted_option.nextSibling&&"none"!=this._highlighted_option.nextSibling.style.display&&this._focusOptionNode(this._highlighted_option.nextSibling):this._focusOptionNode("none"==this.domNode.firstChild.style.display?this.domNode.firstChild.nextSibling:this.domNode.firstChild),dijit.scrollIntoView(this._highlighted_option)},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling),dijit.scrollIntoView(this._highlighted_option)},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling),dijit.scrollIntoView(this._highlighted_option)},_highlightPrevOption:function(){this.getHighlightedOption()?this._highlighted_option.previousSibling&&"none"!=this._highlighted_option.previousSibling.style.display&&this._focusOptionNode(this._highlighted_option.previousSibling):this._focusOptionNode("none"==this.domNode.lastChild.style.display?this.domNode.lastChild.previousSibling:this.domNode.lastChild),dijit.scrollIntoView(this._highlighted_option)},_page:function(e){var t=0,i=this.domNode.scrollTop,o=parseInt(dojo.getComputedStyle(this.domNode).height);for(this.getHighlightedOption()||this._highlightNextOption();o>t;){if(e){if(!this.getHighlightedOption().previousSibling||"none"==this._highlighted_option.previousSibling.style.display)break;this._highlightPrevOption()}else{if(!this.getHighlightedOption().nextSibling||"none"==this._highlighted_option.nextSibling.style.display)break;this._highlightNextOption()}var n=this.domNode.scrollTop;t+=(n-i)*(e?-1:1),i=n}},pageUp:function(){this._page(!0)},pageDown:function(){this._page(!1)},getHighlightedOption:function(){return this._highlighted_option&&this._highlighted_option.parentNode?this._highlighted_option:null},handleKey:function(e){switch(e.keyCode){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp()}}}),dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments),dijit.form.ValidationTextBox.prototype.postMixInProperties.apply(this,arguments)}})),dojo._hasResource["dojo.cldr.monetary"]||(dojo._hasResource["dojo.cldr.monetary"]=!0,dojo.provide("dojo.cldr.monetary"),dojo.cldr.monetary.getData=function(e){var t={ADP:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,DJF:0,ESP:0,GNF:0,IQD:3,ITL:0,JOD:3,JPY:0,KMF:0,KRW:0,KWD:3,LUF:0,LYD:3,MGA:0,MGF:0,OMR:3,PYG:0,RWF:0,TND:3,TRL:0,VUV:0,XAF:0,XOF:0,XPF:0},i={CHF:5},o=t[e],n=i[e];return"undefined"==typeof o&&(o=2),"undefined"==typeof n&&(n=0),{places:o,round:n}}),dojo._hasResource["dojo.currency"]||(dojo._hasResource["dojo.currency"]=!0,dojo.provide("dojo.currency"),dojo.currency._mixInDefaults=function(e){e=e||{},e.type="currency";var t=dojo.i18n.getLocalization("dojo.cldr","currency",e.locale)||{},i=e.currency,o=dojo.cldr.monetary.getData(i);return dojo.forEach(["displayName","symbol","group","decimal"],function(e){o[e]=t[i+"_"+e]}),o.fractional=[!0,!1],dojo.mixin(o,e)},dojo.currency.format=function(e,t){return dojo.number.format(e,dojo.currency._mixInDefaults(t))},dojo.currency.regexp=function(e){return dojo.number.regexp(dojo.currency._mixInDefaults(e))},dojo.currency.parse=function(e,t){return dojo.number.parse(e,dojo.currency._mixInDefaults(t))}),dojo._hasResource["dijit.form.NumberTextBox"]||(dojo._hasResource["dijit.form.NumberTextBox"]=!0,dojo.provide("dijit.form.NumberTextBox"),dojo.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:dojo.number.regexp,format:function(e,t){return isNaN(e)?"":dojo.number.format(e,t)},parse:dojo.number.parse,filter:function(e){return"string"==typeof e?this.inherited("filter",arguments):isNaN(e)?"":e},value:0/0}),dojo.declare("dijit.form.NumberTextBox",[dijit.form.RangeBoundTextBox,dijit.form.NumberTextBoxMixin],{})),dojo._hasResource["dijit.form.CurrencyTextBox"]||(dojo._hasResource["dijit.form.CurrencyTextBox"]=!0,dojo.provide("dijit.form.CurrencyTextBox"),dojo.declare("dijit.form.CurrencyTextBox",dijit.form.NumberTextBox,{currency:"",regExpGen:dojo.currency.regexp,format:dojo.currency.format,parse:dojo.currency.parse,postMixInProperties:function(){this.constraints===dijit.form.ValidationTextBox.prototype.constraints&&(this.constraints={}),this.constraints.currency=this.currency,dijit.form.CurrencyTextBox.superclass.postMixInProperties.apply(this,arguments)}})),dojo._hasResource["dojo.cldr.supplemental"]||(dojo._hasResource["dojo.cldr.supplemental"]=!0,dojo.provide("dojo.cldr.supplemental"),dojo.cldr.supplemental.getFirstDayOfWeek=function(e){var t={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,gb:0,sy:4},i=dojo.cldr.supplemental._region(e),o=t[i];return"undefined"==typeof o?1:o},dojo.cldr.supplemental._region=function(e){e=dojo.i18n.normalizeLocale(e);var t=e.split("-"),i=t[1];return i?4==i.length&&(i=t[2]):i={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[t[0]],i},dojo.cldr.supplemental.getWeekend=function(e){var t={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4},i={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6},o=dojo.cldr.supplemental._region(e),n=t[o],s=i[o];return"undefined"==typeof n&&(n=6),"undefined"==typeof s&&(s=0),{start:n,end:s}}),dojo._hasResource["dojo.date"]||(dojo._hasResource["dojo.date"]=!0,dojo.provide("dojo.date"),dojo.date.getDaysInMonth=function(e){var t=e.getMonth(),i=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==t&&dojo.date.isLeapYear(e)?29:i[t]},dojo.date.isLeapYear=function(e){var t=e.getFullYear();return!(t%400&&(t%4||!(t%100)))},dojo.date.getTimezoneName=function(e){var t,i=e.toString(),o="",n=i.indexOf("(");if(n>-1)o=i.substring(++n,i.indexOf(")"));else{var s=/([A-Z\/]+) \d{4}$/;(t=i.match(s))?o=t[1]:(i=e.toLocaleString(),s=/ ([A-Z\/]+)$/,(t=i.match(s))&&(o=t[1]))}return"AM"==o||"PM"==o?"":o},dojo.date.compare=function(e,t,i){return e=new Date(Number(e)),t=new Date(Number(t||new Date)),"undefined"!=typeof i&&("date"==i?(e.setHours(0,0,0,0),t.setHours(0,0,0,0)):"time"==i&&(e.setFullYear(0,0,0),t.setFullYear(0,0,0))),e>t?1:t>e?-1:0},dojo.date.add=function(e,t,i){var o=new Date(Number(e)),n=!1,s="Date";switch(t){case"day":break;case"weekday":var d,a,r=0,l=i%5;l?(d=l,a=parseInt(i/5)):(d=i>0?5:-5,a=i>0?(i-5)/5:(i+5)/5);var h=e.getDay();6==h&&i>0?r=1:0==h&&0>i&&(r=-1);var c=h+d;(0==c||6==c)&&(r=i>0?2:-2),i=7*a+d+r;break;case"year":s="FullYear",n=!0;break;case"week":i*=7;break;case"quarter":i*=3;case"month":n=!0,s="Month";break;case"hour":case"minute":case"second":case"millisecond":s="UTC"+t.charAt(0).toUpperCase()+t.substring(1)+"s"}return s&&o["set"+s](o["get"+s]()+i),n&&o.getDate()<e.getDate()&&o.setDate(0),o},dojo.date.difference=function(e,t,i){t=t||new Date,i=i||"day";var o=t.getFullYear()-e.getFullYear(),n=1;switch(i){case"quarter":var s=e.getMonth(),d=t.getMonth(),a=Math.floor(s/3)+1,r=Math.floor(d/3)+1;r+=4*o,n=r-a;break;case"weekday":var l=Math.round(dojo.date.difference(e,t,"day")),h=parseInt(dojo.date.difference(e,t,"week")),c=l%7;if(0==c)l=5*h;else{var u=0,p=e.getDay(),m=t.getDay();h=parseInt(l/7),c=l%7;var j=new Date(e);j.setDate(j.getDate()+7*h);var f=j.getDay();if(l>0)switch(!0){case 6==p:u=-1;break;case 0==p:u=0;break;case 6==m:u=-1;break;case 0==m:u=-2;break;case f+c>5:u=-2}else if(0>l)switch(!0){case 6==p:u=0;break;case 0==p:u=1;break;case 6==m:u=2;break;case 0==m:u=1;break;case 0>f+c:u=2}l+=u,l-=2*h}n=l;break;case"year":n=o;break;case"month":n=t.getMonth()-e.getMonth()+12*o;break;case"week":n=parseInt(dojo.date.difference(e,t,"day")/7);break;case"day":n/=24;case"hour":n/=60;case"minute":n/=60;case"second":n/=1e3;case"millisecond":n*=t.getTime()-e.getTime()}return Math.round(n)}),dojo._hasResource["dojo.date.locale"]||(dojo._hasResource["dojo.date.locale"]=!0,dojo.provide("dojo.date.locale"),function(){function e(e,t,i){return i.replace(/([a-z])\1*/gi,function(o){var n,s,d=o.charAt(0),a=o.length,r=["abbr","wide","narrow"];switch(d){case"G":n=t[4>a?"eraAbbr":"eraNames"][e.getFullYear()<0?0:1];break;case"y":switch(n=e.getFullYear(),a){case 1:break;case 2:n=String(n),n=n.substr(n.length-2);break;default:s=!0}break;case"Q":case"q":n=Math.ceil((e.getMonth()+1)/3),s=!0;break;case"M":case"L":var l,h=e.getMonth();switch(a){case 1:case 2:n=h+1,s=!0;break;case 3:case 4:case 5:l=r[a-3]}if(l){var c="L"==d?"standalone":"format",u=["months",c,l].join("-");n=t[u][h]}break;case"w":var p=0;n=dojo.date.locale._getWeekOfYear(e,p),s=!0;break;case"d":n=e.getDate(),s=!0;break;case"D":n=dojo.date.locale._getDayOfYear(e),s=!0;break;case"E":case"e":case"c":var l,m=e.getDay();switch(a){case 1:case 2:if("e"==d){var j=dojo.cldr.supplemental.getFirstDayOfWeek(options.locale);m=(m-j+7)%7}if("c"!=d){n=m+1,s=!0;break}case 3:case 4:case 5:l=r[a-3]}if(l){var c="c"==d?"standalone":"format",u=["days",c,l].join("-");n=t[u][m]}break;case"a":var f=e.getHours()<12?"am":"pm";n=t[f];break;case"h":case"H":case"K":case"k":var g=e.getHours();switch(d){case"h":n=g%12||12;break;case"H":n=g;break;case"K":n=g%12;break;case"k":n=g||24}s=!0;break;case"m":n=e.getMinutes(),s=!0;break;case"s":n=e.getSeconds(),s=!0;break;case"S":n=Math.round(e.getMilliseconds()*Math.pow(10,a-3));break;case"v":case"z":if(n=dojo.date.getTimezoneName(e))break;a=4;case"Z":var _=e.getTimezoneOffset(),v=[0>=_?"+":"-",dojo.string.pad(Math.floor(Math.abs(_)/60),2),dojo.string.pad(Math.abs(_)%60,2)];4==a&&(v.splice(0,0,"GMT"),v.splice(3,0,":")),n=v.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+i)}return s&&(n=dojo.string.pad(n,a)),n})}function t(e,t,i,o){var n=function(e){return e};t=t||n,i=i||n,o=o||n;var s=e.match(/(''|[^'])+/g),d=!1;return dojo.forEach(s,function(e,o){e?(s[o]=(d?i:t)(e),d=!d):s[o]=""}),o(s.join(""))}function i(e,t,i,o){return o=dojo.regexp.escapeString(o),i.strict||(o=o.replace(" a"," ?a")),o.replace(/([a-z])\1*/gi,function(o){var n,s=o.charAt(0),d=o.length,a="",r="";switch(i.strict?(d>1&&(a="0{"+(d-1)+"}"),d>2&&(r="0{"+(d-2)+"}")):(a="0?",r="0{0,2}"),s){case"y":n="\\d{2,4}";break;case"M":n=d>2?"\\S+":a+"[1-9]|1[0-2]";break;case"D":n=a+"[1-9]|"+r+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case"d":n=a+"[1-9]|[12]\\d|3[01]";break;case"w":n=a+"[1-9]|[1-4][0-9]|5[0-3]";break;case"E":n="\\S+";break;case"h":n=a+"[1-9]|1[0-2]";break;case"k":n=a+"\\d|1[01]";break;case"H":n=a+"\\d|1\\d|2[0-3]";break;case"K":n=a+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":n="[0-5]\\d";break;case"S":n="\\d{"+d+"}";break;case"a":var l=i.am||t.am||"AM",h=i.pm||t.pm||"PM";i.strict?n=l+"|"+h:(n=l+"|"+h,l!=l.toLowerCase()&&(n+="|"+l.toLowerCase()),h!=h.toLowerCase()&&(n+="|"+h.toLowerCase()));break;default:n=".*"}return e&&e.push(o),"("+n+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}dojo.date.locale.format=function(i,o){o=o||{};var n=dojo.i18n.normalizeLocale(o.locale),s=o.formatLength||"short",d=dojo.date.locale._getGregorianBundle(n),a=[],r=dojo.hitch(this,e,i,d);if("year"==o.selector){var l=i.getFullYear();return n.match(/^zh|^ja/)&&(l+="年"),l}if("time"!=o.selector){var h=o.datePattern||d["dateFormat-"+s];h&&a.push(t(h,r))}if("date"!=o.selector){var c=o.timePattern||d["timeFormat-"+s];c&&a.push(t(c,r))}var u=a.join(" ");return u},dojo.date.locale.regexp=function(e){return dojo.date.locale._parseInfo(e).regexp},dojo.date.locale._parseInfo=function(e){e=e||{};var o,n=dojo.i18n.normalizeLocale(e.locale),s=dojo.date.locale._getGregorianBundle(n),d=e.formatLength||"short",a=e.datePattern||s["dateFormat-"+d],r=e.timePattern||s["timeFormat-"+d];o="date"==e.selector?a:"time"==e.selector?r:a+" "+r;var l=[],h=t(o,dojo.hitch(this,i,l,s,e));return{regexp:h,tokens:l,bundle:s}},dojo.date.locale.parse=function(e,t){var i=dojo.date.locale._parseInfo(t),o=i.tokens,n=i.bundle,s=new RegExp("^"+i.regexp+"$"),d=s.exec(e);if(!d)return null;var a=["abbr","wide","narrow"],r=new Date(1972,0),l={},h="";dojo.forEach(d,function(e,i){if(i){var s=o[i-1],d=s.length;switch(s.charAt(0)){case"y":if(2!=d)r.setFullYear(e),l.year=e;else if(100>e){e=Number(e);var c=""+(new Date).getFullYear(),u=100*c.substring(0,2),p=Number(c.substring(2,4)),m=Math.min(p+20,99),j=m>e?u+e:u-100+e;r.setFullYear(j),l.year=j}else{if(t.strict)return null;r.setFullYear(e),l.year=e}break;case"M":if(d>2){var f=n["months-format-"+a[d-3]].concat();if(t.strict||(e=e.replace(".","").toLowerCase(),f=dojo.map(f,function(e){return e.replace(".","").toLowerCase()})),e=dojo.indexOf(f,e),-1==e)return null}else e--;r.setMonth(e),l.month=e;break;case"E":case"e":var g=n["days-format-"+a[d-3]].concat();if(t.strict||(e=e.toLowerCase(),g=dojo.map(g,"".toLowerCase)),e=dojo.indexOf(g,e),-1==e)return null;break;case"d":r.setDate(e),l.date=e;break;case"D":r.setMonth(0),r.setDate(e);break;case"a":var _=t.am||n.am,v=t.pm||n.pm;if(!t.strict){var y=/\./g;e=e.replace(y,"").toLowerCase(),_=_.replace(y,"").toLowerCase(),v=v.replace(y,"").toLowerCase()}if(t.strict&&e!=_&&e!=v)return null;h=e==v?"p":e==_?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":if(e>23)return null;r.setHours(e);break;case"m":r.setMinutes(e);break;case"s":r.setSeconds(e);break;case"S":r.setMilliseconds(e)}}});var c=r.getHours();return"p"===h&&12>c?r.setHours(c+12):"a"===h&&12==c&&r.setHours(0),l.year&&r.getFullYear()!=l.year?null:l.month&&r.getMonth()!=l.month?null:l.date&&r.getDate()!=l.date?null:r
}}(),function(){var e=[];dojo.date.locale.addCustomFormats=function(t,i){e.push({pkg:t,name:i})},dojo.date.locale._getGregorianBundle=function(t){var i={};return dojo.forEach(e,function(e){var o=dojo.i18n.getLocalization(e.pkg,e.name,t);i=dojo.mixin(i,o)},this),i}}(),dojo.date.locale.addCustomFormats("dojo.cldr","gregorian"),dojo.date.locale.getNames=function(e,t,i,o){var n,s=dojo.date.locale._getGregorianBundle(o),d=[e,i,t];return"standAlone"==i&&(n=s[d.join("-")]),d[1]="format",(n||s[d.join("-")]).concat()},dojo.date.locale.isWeekend=function(e,t){var i=dojo.cldr.supplemental.getWeekend(t),o=(e||new Date).getDay();return i.end<i.start&&(i.end+=7,o<i.start&&(o+=7)),o>=i.start&&o<=i.end},dojo.date.locale._getDayOfYear=function(e){return dojo.date.difference(new Date(e.getFullYear(),0,1),e)+1},dojo.date.locale._getWeekOfYear=function(e,t){1==arguments.length&&(t=0);var i=new Date(e.getFullYear(),0,1).getDay(),o=(i-t+7)%7,n=Math.floor((dojo.date.locale._getDayOfYear(e)+o-1)/7);return i==t&&n++,n}),dojo._hasResource["dijit._Calendar"]||(dojo._hasResource["dijit._Calendar"]=!0,dojo.provide("dijit._Calendar"),dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer">\r\n	<thead>\r\n		<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\r\n			<th class=\'dijitReset\' dojoAttachPoint="decrementMonth">\r\n				<span class="dijitInline dijitCalendarIncrementControl dijitCalendarDecrease"><span dojoAttachPoint="decreaseArrowNode" class="dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarDecreaseInner">-</span></span>\r\n			</th>\r\n			<th class=\'dijitReset\' colspan="5">\r\n				<div dojoAttachPoint="monthLabelSpacer" class="dijitCalendarMonthLabelSpacer"></div>\r\n				<div dojoAttachPoint="monthLabelNode" class="dijitCalendarMonth"></div>\r\n			</th>\r\n			<th class=\'dijitReset\' dojoAttachPoint="incrementMonth">\r\n				<div class="dijitInline dijitCalendarIncrementControl dijitCalendarIncrease"><span dojoAttachPoint="increaseArrowNode" class="dijitA11ySideArrow dijitCalendarIncrementControl dijitCalendarIncreaseInner">+</span></div>\r\n			</th>\r\n		</tr>\r\n		<tr>\r\n			<th class="dijitReset dijitCalendarDayLabelTemplate"><span class="dijitCalendarDayLabel"></span></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody dojoAttachEvent="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\r\n		<tr class="dijitReset dijitCalendarWeekTemplate">\r\n			<td class="dijitReset dijitCalendarDateTemplate"><span class="dijitCalendarDateLabel"></span></td>\r\n		</tr>\r\n	</tbody>\r\n	<tfoot class="dijitReset dijitCalendarYearContainer">\r\n		<tr>\r\n			<td class=\'dijitReset\' valign="top" colspan="7">\r\n				<h3 class="dijitCalendarYearLabel">\r\n					<span dojoAttachPoint="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear"></span>\r\n					<span dojoAttachPoint="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear"></span>\r\n					<span dojoAttachPoint="nextYearLabelNode" class="dijitInline dijitCalendarNextYear"></span>\r\n				</h3>\r\n			</td>\r\n		</tr>\r\n	</tfoot>\r\n</table>	\r\n',value:new Date,dayWidth:"narrow",setValue:function(e){(!this.value||dojo.date.compare(e,this.value))&&(e=new Date(e),this.displayMonth=new Date(e),this.isDisabledDate(e,this.lang)||(this.value=e,this.value.setHours(0,0,0,0),this.onChange(this.value)),this._populateGrid())},_setText:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))},_populateGrid:function(){var e=this.displayMonth;e.setDate(1);var t=e.getDay(),i=dojo.date.getDaysInMonth(e),o=dojo.date.getDaysInMonth(dojo.date.add(e,"month",-1)),n=new Date,s=this.value,d=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);d>t&&(d-=7),dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(a,r){r+=d;var l,h=new Date(e),c="dijitCalendar",u=0;t>r?(l=o-t+r+1,u=-1,c+="Previous"):r>=t+i?(l=r-t-i+1,u=1,c+="Next"):(l=r-t+1,c+="Current"),u&&(h=dojo.date.add(h,"month",u)),h.setDate(l),dojo.date.compare(h,n,"date")||(c="dijitCalendarCurrentDate "+c),dojo.date.compare(h,s,"date")||(c="dijitCalendarSelectedDate "+c),this.isDisabledDate(h,this.lang)&&(c="dijitCalendarDisabledDate "+c),a.className=c+"Month dijitCalendarDateTemplate",a.dijitDateValue=h.valueOf();var p=dojo.query(".dijitCalendarDateLabel",a)[0];this._setText(p,h.getDate())},this);var a=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,a[e.getMonth()]);var r=e.getFullYear()-1;dojo.forEach(["previous","current","next"],function(e){this._setText(this[e+"YearLabelNode"],dojo.date.locale.format(new Date(r++,0),{selector:"year",locale:this.lang}))},this);var l=this,h=function(e,t,i){dijit.typematic.addMouseListener(l[e],l,function(e){e>=0&&l._adjustDisplay(t,i)},.8,500)};h("incrementMonth","month",1),h("decrementMonth","month",-1),h("nextYearLabelNode","year",1),h("previousYearLabelNode","year",-1)},postCreate:function(){dijit._Calendar.superclass.postCreate.apply(this);var e=dojo.hitch(this,function(e,t){for(var i=dojo.query(e,this.domNode)[0],o=0;t>o;o++)i.parentNode.appendChild(i.cloneNode(!0))});e(".dijitCalendarDayLabelTemplate",6),e(".dijitCalendarDateTemplate",6),e(".dijitCalendarWeekTemplate",5);var t=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang),i=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(e,o){this._setText(e,t[(o+i)%7])},this);var o=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(o,function(e){var t=dojo.doc.createElement("div");this._setText(t,e),this.monthLabelSpacer.appendChild(t)},this),this.value=null,this.setValue(new Date)},_adjustDisplay:function(e,t){this.displayMonth=dojo.date.add(this.displayMonth,e,t),this._populateGrid()},_onDayClick:function(e){var t=e.target;for(dojo.stopEvent(e);!t.dijitDateValue;)t=t.parentNode;dojo.hasClass(t,"dijitCalendarDisabledDate")||(this.setValue(t.dijitDateValue),this.onValueSelected(this.value))},onValueSelected:function(){},onChange:function(){},isDisabledDate:function(){return!1}})),dojo._hasResource["dijit._TimePicker"]||(dojo._hasResource["dijit._TimePicker"]=!0,dojo.provide("dijit._TimePicker"),dojo.declare("dijit._TimePicker",[dijit._Widget,dijit._Templated],{templateString:'<div id="widget_${id}" class="dijitMenu"\r\n    ><div dojoAttachPoint="upArrow" class="dijitButtonNode"><span class="dijitTimePickerA11yText">&#9650;</span></div\r\n    ><div dojoAttachPoint="timeMenu,focusNode" dojoAttachEvent="onclick:_onOptionSelected,onmouseover,onmouseout"></div\r\n    ><div dojoAttachPoint="downArrow" class="dijitButtonNode"><span class="dijitTimePickerA11yText">&#9660;</span></div\r\n></div>\r\n',baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:dojo.date.stamp.toISOString,setValue:function(e){this.value=e,this._showText()},isDisabledDate:function(){return!1},_showText:function(){this.timeMenu.innerHTML="";var e=dojo.date.stamp.fromISOString;this._clickableIncrementDate=e(this.clickableIncrement),this._visibleIncrementDate=e(this.visibleIncrement),this._visibleRangeDate=e(this.visibleRange);var t=function(e){return 60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()},i=t(this._clickableIncrementDate),o=t(this._visibleIncrementDate),n=t(this._visibleRangeDate),s=this.value.getTime();this._refDate=new Date(s-s%(1e3*o)),this._clickableIncrement=1,this._totalIncrements=n/i,this._visibleIncrement=o/i;for(var d=-this._totalIncrements/2;d<=this._totalIncrements/2;d+=this._clickableIncrement){var a=this._createOption(d);this.timeMenu.appendChild(a)}},postCreate:function(){this.constraints===dijit._TimePicker.prototype.constraints&&(this.constraints={}),this.constraints.locale||(this.constraints.locale=this.lang),this.connect(this.timeMenu,dojo.isIE?"onmousewheel":"DOMMouseScroll","_mouseWheeled"),dijit.typematic.addMouseListener(this.upArrow,this,this._onArrowUp,.8,500),dijit.typematic.addMouseListener(this.downArrow,this,this._onArrowDown,.8,500),this.inherited("postCreate",arguments),this.setValue(this.value)},_createOption:function(e){var t=document.createElement("div"),i=t.date=new Date(this._refDate);t.index=e;var o=this._clickableIncrementDate;i.setHours(i.getHours()+o.getHours()*e,i.getMinutes()+o.getMinutes()*e,i.getSeconds()+o.getSeconds()*e);var n=document.createElement("div");return dojo.addClass(t,this.baseClass+"Item"),dojo.addClass(n,this.baseClass+"ItemInner"),n.innerHTML=dojo.date.locale.format(i,this.constraints),t.appendChild(n),e%this._visibleIncrement<1&&e%this._visibleIncrement>-1?dojo.addClass(t,this.baseClass+"Marker"):e%this._clickableIncrement==0&&dojo.addClass(t,this.baseClass+"Tick"),this.isDisabledDate(i)&&dojo.addClass(t,this.baseClass+"ItemDisabled"),0==dojo.date.compare(this.value,i,this.constraints.selector)&&(t.selected=!0,dojo.addClass(t,this.baseClass+"ItemSelected")),t},_onOptionSelected:function(e){var t=e.target.date||e.target.parentNode.date;t&&!this.isDisabledDate(t)&&(this.setValue(t),this.onValueSelected(t))},onValueSelected:function(){},onmouseover:function(e){var t=e.target.parentNode===this.timeMenu?e.target:e.target.parentNode;this._highlighted_option=t,dojo.addClass(t,this.baseClass+"ItemHover")},onmouseout:function(e){var t=e.target.parentNode===this.timeMenu?e.target:e.target.parentNode;this._highlighted_option===t&&dojo.removeClass(t,this.baseClass+"ItemHover")},_mouseWheeled:function(e){dojo.stopEvent(e);var t=dojo.isIE?e.wheelDelta:-e.detail;this[t>0?"_onArrowUp":"_onArrowDown"]()},_onArrowUp:function(){var e=this.timeMenu.childNodes[0].index-1,t=this._createOption(e);this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]),this.timeMenu.insertBefore(t,this.timeMenu.childNodes[0])},_onArrowDown:function(){var e=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1,t=this._createOption(e);this.timeMenu.removeChild(this.timeMenu.childNodes[0]),this.timeMenu.appendChild(t)}})),dojo._hasResource["dijit.form.TimeTextBox"]||(dojo._hasResource["dijit.form.TimeTextBox"]=!0,dojo.provide("dijit.form.TimeTextBox"),dojo.declare("dijit.form.TimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(e,t){return e&&e.toString()!=this._invalid?dojo.date.locale.format(e,t):null},parse:dojo.date.locale.parse,serialize:dojo.date.stamp.toISOString,value:new Date(""),_invalid:new Date("").toString(),_popupClass:"dijit._TimePicker",postMixInProperties:function(){this.inherited("postMixInProperties",arguments);var e=this.constraints;e.selector="time","string"==typeof e.min&&(e.min=dojo.date.stamp.fromISOString(e.min)),"string"==typeof e.max&&(e.max=dojo.date.stamp.fromISOString(e.max))},_onFocus:function(){this._open()},setValue:function(e){this.inherited("setValue",arguments),this._picker&&(e&&e.toString()!=this._invalid||(e=new Date),this._picker.setValue(e))},_open:function(){if(!this.disabled){var e=this;if(!this._picker){var t=dojo.getObject(this._popupClass,!1);this._picker=new t({onValueSelected:function(t){e.focus(),setTimeout(dojo.hitch(e,"_close"),1),dijit.form.TimeTextBox.superclass.setValue.call(e,t,!0)},lang:this.lang,constraints:this.constraints,isDisabledDate:function(t){return e.constraints&&(dojo.date.compare(e.constraints.min,t)>0||dojo.date.compare(e.constraints.max,t)<0)}}),this._picker.setValue(this.getValue()||new Date)}this._opened||(dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onCancel:dojo.hitch(this,this._close),onClose:function(){e._opened=!1}}),this._opened=!0),dojo.marginBox(this._picker.domNode,{w:this.domNode.offsetWidth})}},_close:function(){this._opened&&(dijit.popup.close(this._picker),this._opened=!1)},_onBlur:function(){this._close(),this.inherited("_onBlur",arguments)},getDisplayedValue:function(){return this.textbox.value},setDisplayedValue:function(e){this.textbox.value=e}})),dojo._hasResource["dijit.form.DateTextBox"]||(dojo._hasResource["dijit.form.DateTextBox"]=!0,dojo.provide("dijit.form.DateTextBox"),dojo.declare("dijit.form.DateTextBox",dijit.form.TimeTextBox,{_popupClass:"dijit._Calendar",postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.constraints.selector="date"}})),dojo._hasResource["dijit.form.FilteringSelect"]||(dojo._hasResource["dijit.form.FilteringSelect"]=!0,dojo.provide("dijit.form.FilteringSelect"),dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{labelAttr:"",labelType:"text",_isvalid:!0,isValid:function(){return this._isvalid},_callbackSetLabel:function(e,t,i){t&&t.query[this.searchAttr]!=this._lastQuery||(e.length?this._setValueFromItem(e[0],i):(this._hasFocus||(this.valueNode.value=""),dijit.form.TextBox.superclass.setValue.call(this,void 0,!this._hasFocus),this._isvalid=!1,this.validate(this._hasFocus)))},_openResultList:function(e,t){t.query[this.searchAttr]==this._lastQuery&&(this._isvalid=0!=e.length,this.validate(!0),dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments))},getValue:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValue:function(e,t,i){this.valueNode.value=e,dijit.form.FilteringSelect.superclass.setValue.call(this,e,i,t),this._lastDisplayedValue=t},setValue:function(e,t){var i=this,o=function(e,t){e?i.store.isItemLoaded(e)?i._callbackSetLabel([e],void 0,t):i.store.loadItem({item:e,onItem:function(e,o){i._callbackSetLabel(e,o,t)}}):(i._isvalid=!1,i.validate(!1))};this.store.fetchItemByIdentity({identity:e,onItem:function(e){o(e,t)}})},_setValueFromItem:function(e,t){this._isvalid=!0,this._setValue(this.store.getIdentity(e),this.labelFunc(e,this.store),t)},labelFunc:function(e,t){return t.getValue(e,this.searchAttr)},onkeyup:function(){},_doSelect:function(e){this.item=e.item,this._setValueFromItem(e.item,!0)},setDisplayedValue:function(e){if(this.store){var t={};this._lastQuery=t[this.searchAttr]=e,this.textbox.value=e,this._lastDisplayedValue=e,this.store.fetch({query:t,queryOptions:{ignoreCase:this.ignoreCase,deep:!0},onComplete:dojo.hitch(this,this._callbackSetLabel)})}},_getMenuLabelFromItem:function(e){return this.labelAttr?{html:"html"==this.labelType,label:this.store.getValue(e,this.labelAttr)}:dijit.form.ComboBoxMixin.prototype._getMenuLabelFromItem.apply(this,arguments)},postMixInProperties:function(){dijit.form.ComboBoxMixin.prototype.postMixInProperties.apply(this,arguments),dijit.form.MappedTextBox.prototype.postMixInProperties.apply(this,arguments)}})),dojo._hasResource["dijit.form._Spinner"]||(dojo._hasResource["dijit.form._Spinner"]=!0,dojo.provide("dijit.form._Spinner"),dojo.declare("dijit.form._Spinner",dijit.form.RangeBoundTextBox,{defaultTimeout:500,timeoutChangeRate:.9,smallDelta:1,largeDelta:10,templateString:'<table class="dijit dijitReset dijitInlineTable dijitLeft" cellspacing="0" cellpadding="0"\r\n	id="widget_${id}" name="${name}"\r\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onkeypress:_onKeyPress"\r\n	waiRole="presentation"\r\n	><tr class="dijitReset"\r\n		><td rowspan="2" class="dijitReset dijitStretch dijitInputField" width="100%"\r\n			><input dojoAttachPoint="textbox,focusNode" type="${type}" dojoAttachEvent="onfocus,onkeyup"\r\n				waiRole="spinbutton" autocomplete="off" name="${name}"\r\n		></td\r\n		><td rowspan="2" class="dijitReset dijitValidationIconField" width="0%" \r\n			><div dojoAttachPoint=\'iconNode\' class=\'dijitValidationIcon\'></div\r\n		></td\r\n		><td class="dijitReset dijitRight dijitButtonNode dijitUpArrowButton" width="0%"\r\n				dojoAttachPoint="upArrowNode"\r\n				dojoAttachEvent="onmousedown:_handleUpArrowEvent,onmouseup:_handleUpArrowEvent,onmouseover:_handleUpArrowEvent,onmouseout:_handleUpArrowEvent"\r\n				stateModifier="UpArrow"\r\n			><div class="dijitA11yUpArrow">&#9650;</div\r\n		></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset dijitRight dijitButtonNode dijitDownArrowButton" width="0%"\r\n				dojoAttachPoint="downArrowNode"\r\n				dojoAttachEvent="onmousedown:_handleDownArrowEvent,onmouseup:_handleDownArrowEvent,onmouseover:_handleDownArrowEvent,onmouseout:_handleDownArrowEvent"\r\n				stateModifier="DownArrow"\r\n			><div class="dijitA11yDownArrow">&#9660;</div\r\n		></td\r\n	></tr\r\n></table>\r\n\r\n',baseClass:"dijitSpinner",adjust:function(e){return e},_handleUpArrowEvent:function(e){this._onMouse(e,this.upArrowNode)},_handleDownArrowEvent:function(e){this._onMouse(e,this.downArrowNode)},_arrowPressed:function(e,t){this.disabled||(dojo.addClass(e,"dijitSpinnerButtonActive"),this.setValue(this.adjust(this.getValue(),t*this.smallDelta),!1))},_arrowReleased:function(e){this.disabled||(this._wheelTimer=null,dijit.focus(this.textbox),dojo.removeClass(e,"dijitSpinnerButtonActive"))},_typematicCallback:function(e,t,i){t==this.textbox&&(t=i.keyCode==dojo.keys.UP_ARROW?this.upArrowNode:this.downArrowNode),-1==e?this._arrowReleased(t):this._arrowPressed(t,t==this.upArrowNode?1:-1)},_wheelTimer:null,_mouseWheeled:function(e){dojo.stopEvent(e);var t=0;if("number"==typeof e.wheelDelta?t=e.wheelDelta:"number"==typeof e.detail&&(t=-e.detail),t>0)var i=this.upArrowNode,o=1;else{if(!(0>t))return;var i=this.downArrowNode,o=-1}this._arrowPressed(i,o),null!=this._wheelTimer&&clearTimeout(this._wheelTimer);var n=this;this._wheelTimer=setTimeout(function(){n._arrowReleased(i)},50)},postCreate:function(){this.inherited("postCreate",arguments),this.connect(this.textbox,dojo.isIE?"onmousewheel":"DOMMouseScroll","_mouseWheeled"),dijit.typematic.addListener(this.upArrowNode,this.textbox,{keyCode:dojo.keys.UP_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout),dijit.typematic.addListener(this.downArrowNode,this.textbox,{keyCode:dojo.keys.DOWN_ARROW,ctrlKey:!1,altKey:!1,shiftKey:!1},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout)}})),dojo._hasResource["dijit.form.NumberSpinner"]||(dojo._hasResource["dijit.form.NumberSpinner"]=!0,dojo.provide("dijit.form.NumberSpinner"),dojo.declare("dijit.form.NumberSpinner",[dijit.form._Spinner,dijit.form.NumberTextBoxMixin],{required:!0,adjust:function(e,t){var i=e+t;return isNaN(e)||isNaN(i)?e:("number"==typeof this.constraints.max&&i>this.constraints.max&&(i=this.constraints.max),"number"==typeof this.constraints.min&&i<this.constraints.min&&(i=this.constraints.min),i)}})),dojo._hasResource["dijit.form.Slider"]||(dojo._hasResource["dijit.form.Slider"]=!0,dojo.provide("dijit.form.Slider"),dojo.declare("dijit.form.HorizontalSlider",[dijit.form._FormWidget,dijit._Container],{templateString:'<table class="dijit dijitReset dijitSlider" cellspacing="0" cellpadding="0" border="0" rules="none"\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset" colspan="2"></td\r\n		><td dojoAttachPoint="containerNode,topDecoration" class="dijitReset" style="text-align:center;width:100%;"></td\r\n		><td class="dijitReset" colspan="2"></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset dijitSliderButtonContainer dijitHorizontalSliderButtonContainer"\r\n			><div class="dijitHorizontalSliderDecrementIcon" tabIndex="-1" style="display:none" dojoAttachPoint="decrementButton" dojoAttachEvent="onclick: decrement"><span class="dijitSliderButtonInner">-</span></div\r\n		></td\r\n		><td class="dijitReset"\r\n			><div class="dijitSliderBar dijitSliderBumper dijitHorizontalSliderBumper dijitSliderLeftBumper dijitHorizontalSliderLeftBumper"></div\r\n		></td\r\n		><td class="dijitReset"\r\n			><input dojoAttachPoint="valueNode" type="hidden" name="${name}"\r\n			/><div style="position:relative;" dojoAttachPoint="sliderBarContainer"\r\n				><div dojoAttachPoint="progressBar" class="dijitSliderBar dijitHorizontalSliderBar dijitSliderProgressBar dijitHorizontalSliderProgressBar" dojoAttachEvent="onclick:_onBarClick"\r\n					><div dojoAttachPoint="sliderHandle,focusNode" class="dijitSliderMoveable dijitHorizontalSliderMoveable" dojoAttachEvent="onkeypress:_onKeyPress,onclick:_onHandleClick" waiRole="slider" valuemin="${minimum}" valuemax="${maximum}"\r\n						><div class="dijitSliderImageHandle dijitHorizontalSliderImageHandle"></div\r\n					></div\r\n				></div\r\n				><div dojoAttachPoint="remainingBar" class="dijitSliderBar dijitHorizontalSliderBar dijitSliderRemainingBar dijitHorizontalSliderRemainingBar" dojoAttachEvent="onclick:_onBarClick"></div\r\n			></div\r\n		></td\r\n		><td class="dijitReset"\r\n			><div class="dijitSliderBar dijitSliderBumper dijitHorizontalSliderBumper dijitSliderRightBumper dijitHorizontalSliderRightBumper"></div\r\n		></td\r\n		><td class="dijitReset dijitSliderButtonContainer dijitHorizontalSliderButtonContainer" style="right:0px;"\r\n			><div class="dijitHorizontalSliderIncrementIcon" tabIndex="-1" style="display:none" dojoAttachPoint="incrementButton" dojoAttachEvent="onclick: increment"><span class="dijitSliderButtonInner">+</span></div\r\n		></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset" colspan="2"></td\r\n		><td dojoAttachPoint="containerNode,bottomDecoration" class="dijitReset" style="text-align:center;"></td\r\n		><td class="dijitReset" colspan="2"></td\r\n	></tr\r\n></table>\r\n',value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:1/0,pageIncrement:2,clickSelect:!0,widgetsInTemplate:!0,attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{id:"",name:"valueNode"}),baseClass:"dijitSlider",_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_upsideDown:!1,_onKeyPress:function(e){if(!(this.disabled||e.altKey||e.ctrlKey)){switch(e.keyCode){case dojo.keys.HOME:this.setValue(this.minimum,!1);break;case dojo.keys.END:this.setValue(this.maximum,!1);break;case dojo.keys.UP_ARROW:case this._isReversed()?dojo.keys.LEFT_ARROW:dojo.keys.RIGHT_ARROW:case dojo.keys.PAGE_UP:this.increment(e);break;case dojo.keys.DOWN_ARROW:case this._isReversed()?dojo.keys.RIGHT_ARROW:dojo.keys.LEFT_ARROW:case dojo.keys.PAGE_DOWN:this.decrement(e);break;default:return this.inherited("_onKeyPress",arguments),void 0}dojo.stopEvent(e)}},_onHandleClick:function(e){this.disabled||(dojo.isIE||dijit.focus(this.sliderHandle),dojo.stopEvent(e))},_isReversed:function(){return!(this._upsideDown||this.isLeftToRight())},_onBarClick:function(e){if(!this.disabled&&this.clickSelect){dijit.focus(this.sliderHandle),dojo.stopEvent(e);var t=dojo.coords(this.sliderBarContainer,!0),i=e[this._mousePixelCoord]-t[this._startingPixelCoord];this._setPixelValue(this._isReversed()||this._upsideDown?t[this._pixelCount]-i:i,t[this._pixelCount],!0)}},_setPixelValue:function(e,t,i){if(!this.disabled){e=0>e?0:e>t?t:e;var o=this.discreteValues;(1>=o||1/0==o)&&(o=t),o--;var n=t/o,s=Math.round(e/n);this.setValue((this.maximum-this.minimum)*s/o+this.minimum,i)}},setValue:function(e){this.valueNode.value=this.value=e,this.inherited("setValue",arguments);var t=(e-this.minimum)/(this.maximum-this.minimum);this.progressBar.style[this._progressPixelSize]=100*t+"%",this.remainingBar.style[this._progressPixelSize]=100*(1-t)+"%"},_bumpValue:function(e){if(!this.disabled){var t=dojo.getComputedStyle(this.sliderBarContainer),i=dojo._getContentBox(this.sliderBarContainer,t),o=this.discreteValues;(1>=o||1/0==o)&&(o=i[this._pixelCount]),o--;var n=(this.value-this.minimum)*o/(this.maximum-this.minimum)+e;0>n&&(n=0),n>o&&(n=o),n=n*(this.maximum-this.minimum)/o+this.minimum,this.setValue(n,!0)}},decrement:function(e){this._bumpValue(e.keyCode==dojo.keys.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(e){this._bumpValue(e.keyCode==dojo.keys.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(e){dojo.stopEvent(e);var t=0;"number"==typeof e.wheelDelta?t=e.wheelDelta:"number"==typeof e.detail&&(t=-e.detail),t>0?this.increment(e):0>t&&this.decrement(e)},startup:function(){dojo.forEach(this.getChildren(),function(e){this[e.container]!=this.containerNode&&this[e.container].appendChild(e.domNode)},this)},_onBlur:function(){dijit.form.HorizontalSlider.superclass.setValue.call(this,this.value,!0)},postCreate:function(){this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display=""),this.connect(this.domNode,dojo.isIE?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var e=this,t=function(){dijit.form._SliderMover.apply(this,arguments),this.widget=e};dojo.extend(t,dijit.form._SliderMover.prototype),this._movable=new dojo.dnd.Moveable(this.sliderHandle,{mover:t}),this.inherited("postCreate",arguments)},destroy:function(){this._movable.destroy(),this.inherited("destroy",arguments)}}),dojo.declare("dijit.form.VerticalSlider",dijit.form.HorizontalSlider,{templateString:'<table class="dijitReset dijitSlider" cellspacing="0" cellpadding="0" border="0" rules="none"\r\n><tbody class="dijitReset"\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset"></td\r\n		><td class="dijitReset dijitSliderButtonContainer dijitVerticalSliderButtonContainer"\r\n			><div class="dijitVerticalSliderIncrementIcon" tabIndex="-1" style="display:none" dojoAttachPoint="incrementButton" dojoAttachEvent="onclick: increment"><span class="dijitSliderButtonInner">+</span></div\r\n		></td\r\n		><td class="dijitReset"></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset"></td\r\n		><td class="dijitReset"\r\n			><center><div class="dijitSliderBar dijitSliderBumper dijitVerticalSliderBumper dijitSliderTopBumper dijitVerticalSliderTopBumper"></div></center\r\n		></td\r\n		><td class="dijitReset"></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td dojoAttachPoint="leftDecoration" class="dijitReset" style="text-align:center;height:100%;"></td\r\n		><td class="dijitReset" style="height:100%;"\r\n			><input dojoAttachPoint="valueNode" type="hidden" name="${name}"\r\n			/><center style="position:relative;height:100%;" dojoAttachPoint="sliderBarContainer"\r\n				><div dojoAttachPoint="remainingBar" class="dijitSliderBar dijitVerticalSliderBar dijitSliderRemainingBar dijitVerticalSliderRemainingBar" dojoAttachEvent="onclick:_onBarClick"></div\r\n				><div dojoAttachPoint="progressBar" class="dijitSliderBar dijitVerticalSliderBar dijitSliderProgressBar dijitVerticalSliderProgressBar" dojoAttachEvent="onclick:_onBarClick"\r\n					><div dojoAttachPoint="sliderHandle,focusNode" class="dijitSliderMoveable" dojoAttachEvent="onkeypress:_onKeyPress,onclick:_onHandleClick" style="vertical-align:top;" waiRole="slider" valuemin="${minimum}" valuemax="${maximum}"\r\n						><div class="dijitSliderImageHandle dijitVerticalSliderImageHandle"></div\r\n					></div\r\n				></div\r\n			></center\r\n		></td\r\n		><td dojoAttachPoint="containerNode,rightDecoration" class="dijitReset" style="text-align:center;height:100%;"></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset"></td\r\n		><td class="dijitReset"\r\n			><center><div class="dijitSliderBar dijitSliderBumper dijitVerticalSliderBumper dijitSliderBottomBumper dijitVerticalSliderBottomBumper"></div></center\r\n		></td\r\n		><td class="dijitReset"></td\r\n	></tr\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset"></td\r\n		><td class="dijitReset dijitSliderButtonContainer dijitVerticalSliderButtonContainer"\r\n			><div class="dijitVerticalSliderDecrementIcon" tabIndex="-1" style="display:none" dojoAttachPoint="decrementButton" dojoAttachEvent="onclick: decrement"><span class="dijitSliderButtonInner">-</span></div\r\n		></td\r\n		><td class="dijitReset"></td\r\n	></tr\r\n></tbody></table>\r\n',_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_startingPixelCount:"t",_handleOffsetCoord:"top",_progressPixelSize:"height",_upsideDown:!0}),dojo.declare("dijit.form._SliderMover",dojo.dnd.Mover,{onMouseMove:function(e){var t=this.widget,i=this.constraintBox;if(!i){var o=t.sliderBarContainer,n=dojo.getComputedStyle(o),i=dojo._getContentBox(o,n);i[t._startingPixelCount]=0,this.constraintBox=i}var s=this.marginBox,d=t._isReversed()?e[t._mousePixelCoord]-dojo._abs(t.sliderBarContainer).x:s[t._startingPixelCount]+e[t._mousePixelCoord];dojo.hitch(t,"_setPixelValue")(t._isReversed()||t._upsideDown?i[t._pixelCount]-d:d,i[t._pixelCount])},destroy:function(){var e=this.widget;e.setValue(e.value,!0),dojo.dnd.Mover.prototype.destroy.call(this)}}),dojo.declare("dijit.form.HorizontalRule",[dijit._Widget,dijit._Templated],{templateString:'<div class="RuleContainer HorizontalRuleContainer"></div>',count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'<div class="RuleMark HorizontalRuleMark" style="left:',_positionSuffix:"%;",_suffix:'"></div>',_genHTML:function(e){return this._positionPrefix+e+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,postCreate:function(){if(1==this.count)var e=this._genHTML(50,0);else{var t=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){for(var e=this._genHTML(0,0),i=1;i<this.count-1;i++)e+=this._genHTML(t*i,i);e+=this._genHTML(100,this.count-1)}else{for(var e=this._genHTML(100,0),i=1;i<this.count-1;i++)e+=this._genHTML(100-t*i,i);e+=this._genHTML(0,this.count-1)}}this.domNode.innerHTML=e}}),dojo.declare("dijit.form.VerticalRule",dijit.form.HorizontalRule,{templateString:'<div class="RuleContainer VerticalRuleContainer"></div>',_positionPrefix:'<div class="RuleMark VerticalRuleMark" style="top:',_isHorizontal:!1}),dojo.declare("dijit.form.HorizontalRuleLabels",dijit.form.HorizontalRule,{templateString:'<div class="RuleContainer HorizontalRuleContainer"></div>',labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:'<div class="RuleLabelContainer HorizontalRuleLabelContainer" style="left:',_labelPrefix:'"><span class="RuleLabel HorizontalRuleLabel">',_suffix:"</span></div>",_calcPosition:function(e){return e},_genHTML:function(e,t){return this._positionPrefix+this._calcPosition(e)+this._positionSuffix+this.labelStyle+this._labelPrefix+this.labels[t]+this._suffix},getLabels:function(){var e=this.labels;if(e.length||(e=dojo.query("> li",this.srcNodeRef).map(function(e){return String(e.innerHTML)})),this.srcNodeRef.innerHTML="",!e.length&&this.count>1)for(var t=this.minimum,i=(this.maximum-t)/(this.count-1),o=0;o<this.count;o++)e.push(o<this.numericMargin||o>=this.count-this.numericMargin?"":dojo.number.format(t,this.constraints)),t+=i;return e},postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.labels=this.getLabels(),this.count=this.labels.length}}),dojo.declare("dijit.form.VerticalRuleLabels",dijit.form.HorizontalRuleLabels,{templateString:'<div class="RuleContainer VerticalRuleContainer"></div>',_positionPrefix:'<div class="RuleLabelContainer VerticalRuleLabelContainer" style="top:',_labelPrefix:'"><span class="RuleLabel VerticalRuleLabel">',_calcPosition:function(e){return 100-e},_isHorizontal:!1})),dojo._hasResource["dijit.form.Textarea"]||(dojo._hasResource["dijit.form.Textarea"]=!0,dojo.provide("dijit.form.Textarea"),dojo.declare("dijit.form.Textarea",dijit.form._FormWidget,{attributeMap:dojo.mixin(dojo.clone(dijit.form._FormWidget.prototype.attributeMap),{style:"styleNode","class":"styleNode"}),templateString:dojo.isIE||dojo.isSafari||dojo.isMozilla?(dojo.isIE||dojo.isSafari?'<fieldset id="${id}" class="dijitInline dijitInputField dijitTextArea" dojoAttachPoint="styleNode" waiRole="presentation"><div dojoAttachPoint="editNode,focusNode,eventNode" dojoAttachEvent="onpaste:_changing,oncut:_changing" waiRole="textarea" style="text-decoration:none;_padding-bottom:16px;display:block;overflow:auto;" contentEditable="true"></div>':'<span id="${id}" class="dijitReset"><iframe src="javascript:<html><head><title>${_iframeEditTitle}</title></head><body><script>var _postCreate=window.frameElement?window.frameElement.postCreate:null;if(_postCreate)_postCreate();</script></body></html>" dojoAttachPoint="iframe,styleNode" dojoAttachEvent="onblur:_onIframeBlur" class="dijitInline dijitInputField dijitTextArea"></iframe>')+'<textarea name="${name}" value="${value}" dojoAttachPoint="formValueNode" style="display:none;"></textarea>'+(dojo.isIE||dojo.isSafari?"</fieldset>":"</span>"):'<textarea id="${id}" name="${name}" value="${value}" dojoAttachPoint="formValueNode,editNode,focusNode,styleNode" class="dijitInputField dijitTextArea"></textarea>',focus:function(){this.disabled||this._changing(),dojo.isMozilla?dijit.focus(this.iframe):dijit.focus(this.focusNode)
},setValue:function(e,t){var i=this.editNode;if("string"==typeof e)if(i.innerHTML="",e.split){var o=!0;dojo.forEach(e.split("\n"),function(e){o?o=!1:i.appendChild(document.createElement("BR")),i.appendChild(document.createTextNode(e))})}else i.appendChild(document.createTextNode(e));else e=i.innerHTML,this.iframe&&(e=e.replace(/<div><\/div>\r?\n?$/i,"")),e=e.replace(/\s*\r?\n|^\s+|\s+$|&nbsp;/g,"").replace(/>\s+</g,"><").replace(/<\/(p|div)>$|^<(p|div)[^>]*>/gi,"").replace(/([^>])<div>/g,"$1\n").replace(/<\/p>\s*<p[^>]*>|<br[^>]*>/gi,"\n").replace(/<[^>]*>/g,"").replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">");if(this.value=this.formValueNode.value=e,this.iframe){var n=document.createElement("div");i.appendChild(n);var s=n.offsetTop;i.scrollWidth>i.clientWidth&&(s+=16),this.lastHeight!=s&&(0==s&&(s=16),dojo.contentBox(this.iframe,{h:s}),this.lastHeight=s),i.removeChild(n)}dijit.form.Textarea.superclass.setValue.call(this,this.getValue(),t)},getValue:function(){return this.formValueNode.value.replace(/\r/g,"")},postMixInProperties:function(){if(dijit.form.Textarea.superclass.postMixInProperties.apply(this,arguments),this.srcNodeRef&&""!=this.srcNodeRef.innerHTML&&(this.value=this.srcNodeRef.innerHTML,this.srcNodeRef.innerHTML=""),this.value&&""!=this.value||!this.srcNodeRef||!this.srcNodeRef.value||(this.value=this.srcNodeRef.value),this.value||(this.value=""),this.value=this.value.replace(/\r\n/g,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"),dojo.isMozilla){var e=dojo.i18n.getLocalization("dijit","Textarea");this._iframeEditTitle=e.iframeEditTitle,this._iframeFocusTitle=e.iframeFocusTitle;var t=dojo.query('label[for="'+this.id+'"]');t.length&&(this._iframeEditTitle=t[0].innerHTML+" "+this._iframeEditTitle);var i=this.focusNode=this.editNode=document.createElement("BODY");i.style.margin="0px",i.style.padding="0px",i.style.border="0px"}},postCreate:function(){if(dojo.isIE||dojo.isSafari)this.domNode.style.overflowY="hidden";else if(dojo.isMozilla){var e=this.iframe.contentWindow;try{var t=this.iframe.contentDocument.title}catch(i){var t=""}if(!e||!t)return this.iframe.postCreate=dojo.hitch(this,this.postCreate),void 0;var o=e.document;o.getElementsByTagName("HTML")[0].replaceChild(this.editNode,o.getElementsByTagName("BODY")[0]),this.isLeftToRight()||(o.getElementsByTagName("HTML")[0].dir="rtl"),this.iframe.style.overflowY="hidden",this.eventNode=o,e.addEventListener("resize",dojo.hitch(this,this._changed),!1)}else this.focusNode=this.domNode;this.eventNode&&(this.connect(this.eventNode,"keypress",this._onKeyPress),this.connect(this.eventNode,"mousemove",this._changed),this.connect(this.eventNode,"focus",this._focused),this.connect(this.eventNode,"blur",this._blurred)),this.editNode&&this.connect(this.editNode,"change",this._changed),this.inherited("postCreate",arguments)},_focused:function(e){dojo.addClass(this.iframe||this.domNode,"dijitInputFieldFocused"),this._changed(e)},_blurred:function(e){dojo.removeClass(this.iframe||this.domNode,"dijitInputFieldFocused"),this._changed(e,!0)},_onIframeBlur:function(){this.iframe.contentDocument.title=this._iframeEditTitle},_onKeyPress:function(e){if(e.keyCode!=dojo.keys.TAB||e.shiftKey||e.ctrlKey||e.altKey||!this.iframe){if(e.keyCode==dojo.keys.ENTER)e.stopPropagation();else if(this.inherited("_onKeyPress",arguments)&&this.iframe){var t=document.createEvent("KeyEvents");t.initKeyEvent("keypress",!0,!0,null,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode),this.iframe.dispatchEvent(t)}}else this.iframe.contentDocument.title=this._iframeFocusTitle,this.iframe.focus(),dojo.stopEvent(e);this._changing()},_changing:function(e){setTimeout(dojo.hitch(this,"_changed",e,!1),1)},_changed:function(e,t){this.iframe&&"on"!=this.iframe.contentDocument.designMode&&(this.iframe.contentDocument.designMode="on"),this.setValue(null,t)}})),dojo._hasResource["dijit.layout.StackContainer"]||(dojo._hasResource["dijit.layout.StackContainer"]=!0,dojo.provide("dijit.layout.StackContainer"),dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:!0,_started:!1,postCreate:function(){dijit.setWaiRole(this.containerNode||this.domNode,"tabpanel"),this.connect(this.domNode,"onkeypress",this._onKeyPress)},startup:function(){if(!this._started){var e=this.getChildren();dojo.forEach(e,this._setupChild,this),dojo.some(e,function(e){return e.selected&&(this.selectedChildWidget=e),e.selected},this);var t=this.selectedChildWidget;!t&&e[0]&&(t=this.selectedChildWidget=e[0],t.selected=!0),t&&this._showChild(t),dojo.publish(this.id+"-startup",[{children:e,selected:t}]),this.inherited("startup",arguments),this._started=!0}},_setupChild:function(e){return e.domNode.style.display="none",e.domNode.style.position="relative",e},addChild:function(e,t){dijit._Container.prototype.addChild.apply(this,arguments),e=this._setupChild(e),this._started&&(this.layout(),dojo.publish(this.id+"-addChild",[e,t]),this.selectedChildWidget||this.selectChild(e))},removeChild:function(e){if(dijit._Container.prototype.removeChild.apply(this,arguments),!this._beingDestroyed&&(this._started&&(dojo.publish(this.id+"-removeChild",[e]),this.layout()),this.selectedChildWidget===e&&(this.selectedChildWidget=void 0,this._started))){var t=this.getChildren();t.length&&this.selectChild(t[0])}},selectChild:function(e){e=dijit.byId(e),this.selectedChildWidget!=e&&(this._transition(e,this.selectedChildWidget),this.selectedChildWidget=e,dojo.publish(this.id+"-selectChild",[e]))},_transition:function(e,t){t&&this._hideChild(t),this._showChild(e),this.doLayout&&e.resize&&e.resize(this._containerContentBox||this._contentBox)},_adjacent:function(e){var t=this.getChildren(),i=dojo.indexOf(t,this.selectedChildWidget);return i+=e?1:t.length-1,t[i%t.length]},forward:function(){this.selectChild(this._adjacent(!0))},back:function(){this.selectChild(this._adjacent(!1))},_onKeyPress:function(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}])},layout:function(){this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize&&this.selectedChildWidget.resize(this._contentBox)},_showChild:function(e){var t=this.getChildren();e.isFirstChild=e==t[0],e.isLastChild=e==t[t.length-1],e.selected=!0,e.domNode.style.display="",e._loadCheck&&e._loadCheck(),e.onShow&&e.onShow()},_hideChild:function(e){e.selected=!1,e.domNode.style.display="none",e.onHide&&e.onHide()},closeChild:function(e){var t=e.onClose(this,e);t&&(this.removeChild(e),e.destroy())},destroy:function(){this._beingDestroyed=!0,this.inherited("destroy",arguments)}}),dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){dijit.setWaiRole(this.domNode,"tablist"),this.pane2button={},this._subscriptions=[dojo.subscribe(this.containerId+"-startup",this,"onStartup"),dojo.subscribe(this.containerId+"-addChild",this,"onAddChild"),dojo.subscribe(this.containerId+"-removeChild",this,"onRemoveChild"),dojo.subscribe(this.containerId+"-selectChild",this,"onSelectChild"),dojo.subscribe(this.containerId+"-containerKeyPress",this,"onContainerKeyPress")]},onStartup:function(e){dojo.forEach(e.children,this.onAddChild,this),this.onSelectChild(e.selected)},destroy:function(){dojo.forEach(this._subscriptions,dojo.unsubscribe),this.inherited("destroy",arguments)},onAddChild:function(e,t){var i=document.createElement("span");this.domNode.appendChild(i);var o=dojo.getObject(this.buttonWidget),n=new o({label:e.title,closeButton:e.closable},i);this.addChild(n,t),this.pane2button[e]=n,e.controlButton=n,dojo.connect(n,"onClick",dojo.hitch(this,"onButtonClick",e)),dojo.connect(n,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",e)),this._currentChild||(n.focusNode.setAttribute("tabIndex","0"),this._currentChild=e)},onRemoveChild:function(e){this._currentChild===e&&(this._currentChild=null);var t=this.pane2button[e];t&&t.destroy(),this.pane2button[e]=null},onSelectChild:function(e){if(e){if(this._currentChild){var t=this.pane2button[this._currentChild];t.setChecked(!1),t.focusNode.setAttribute("tabIndex","-1")}var i=this.pane2button[e];i.setChecked(!0),this._currentChild=e,i.focusNode.setAttribute("tabIndex","0")}},onButtonClick:function(e){var t=dijit.byId(this.containerId);t.selectChild(e)},onCloseButtonClick:function(e){var t=dijit.byId(this.containerId);t.closeChild(e);var i=this.pane2button[this._currentChild];i&&dijit.focus(i.focusNode||i.domNode)},adjacent:function(e){var t=this.getChildren(),i=dojo.indexOf(t,this.pane2button[this._currentChild]),o=e?1:t.length-1;return t[(i+o)%t.length]},onkeypress:function(e){if(!this.disabled&&!e.altKey){var t=!0;if(e.ctrlKey||!e._djpage){var i=dojo.keys;switch(e.keyCode){case i.LEFT_ARROW:case i.UP_ARROW:case i.PAGE_UP:t=!1;case i.RIGHT_ARROW:case i.DOWN_ARROW:case i.PAGE_DOWN:this.adjacent(t).onClick(),dojo.stopEvent(e);break;case i.DELETE:this._currentChild.closable&&this.onCloseButtonClick(this._currentChild),dojo.stopEvent(e);break;default:e.ctrlKey&&(e.keyCode==i.TAB?(this.adjacent(!e.shiftKey).onClick(),dojo.stopEvent(e)):"w"==e.keyChar&&(this._currentChild.closable&&this.onCloseButtonClick(this._currentChild),dojo.stopEvent(e)))}}}},onContainerKeyPress:function(e){e.e._djpage=e.page,this.onkeypress(e.e)}}),dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",postCreate:function(){dijit.setWaiRole(this.focusNode||this.domNode,"tab"),this.inherited("postCreate",arguments)},onClick:function(){dijit.focus(this.focusNode)},onClickCloseButton:function(e){e.stopPropagation()}}),dojo.extend(dijit._Widget,{title:"",selected:!1,closable:!1,onClose:function(){return!0}})),dojo._hasResource["dijit.layout.AccordionContainer"]||(dojo._hasResource["dijit.layout.AccordionContainer"]=!0,dojo.provide("dijit.layout.AccordionContainer"),dojo.declare("dijit.layout.AccordionContainer",dijit.layout.StackContainer,{duration:250,_verticalSpace:0,postCreate:function(){this.domNode.style.overflow="hidden",this.inherited("postCreate",arguments),dijit.setWaiRole(this.domNode,"tablist"),dojo.addClass(this.domNode,"dijitAccordionContainer")},startup:function(){if(!this._started&&(this.inherited("startup",arguments),this.selectedChildWidget)){var e=this.selectedChildWidget.containerNode.style;e.display="",e.overflow="auto",this.selectedChildWidget._setSelectedState(!0)}},layout:function(){var e=0,t=this.selectedChildWidget;dojo.forEach(this.getChildren(),function(t){e+=t.getTitleHeight()});var i=this._contentBox;this._verticalSpace=i.h-e,t&&(t.containerNode.style.height=this._verticalSpace+"px")},_setupChild:function(e){return e},_transition:function(e,t){if(!this._inTransition){this._inTransition=!0;var i=[],o=this._verticalSpace;if(e){e.setSelected(!0);var n=e.containerNode;n.style.display="",i.push(dojo.animateProperty({node:n,duration:this.duration,properties:{height:{start:"1",end:o}},onEnd:function(){n.style.overflow="auto"}}))}if(t){t.setSelected(!1);var s=t.containerNode;s.style.overflow="hidden",i.push(dojo.animateProperty({node:s,duration:this.duration,properties:{height:{start:o,end:"1"}},onEnd:function(){s.style.display="none"}}))}this._inTransition=!1,dojo.fx.combine(i).play()}},_onKeyPress:function(e){if(!this.disabled&&!e.altKey){var t=dojo.keys;switch(e.keyCode){case t.LEFT_ARROW:case t.UP_ARROW:case t.PAGE_UP:this._adjacent(!1)._onTitleClick(),dojo.stopEvent(e);break;case t.RIGHT_ARROW:case t.DOWN_ARROW:case t.PAGE_DOWN:this._adjacent(!0)._onTitleClick(),dojo.stopEvent(e);break;default:e.ctrlKey&&e.keyCode==t.TAB&&(this._adjacent(e._dijitWidget,!e.shiftKey)._onTitleClick(),dojo.stopEvent(e))}}}}),dojo.declare("dijit.layout.AccordionPane",[dijit.layout.ContentPane,dijit._Templated,dijit._Contained],{templateString:"<div class='dijitAccordionPane'\r\n	><div dojoAttachPoint='titleNode,focusNode' dojoAttachEvent='ondijitclick:_onTitleClick,onkeypress:_onTitleKeyPress,onfocus:_handleFocus,onblur:_handleFocus'\r\n		class='dijitAccordionTitle' wairole=\"tab\"\r\n		><div class='dijitAccordionArrow'></div\r\n		><div class='arrowTextUp' waiRole=\"presentation\">&#9650;</div\r\n		><div class='arrowTextDown' waiRole=\"presentation\">&#9660;</div\r\n		><div dojoAttachPoint='titleTextNode' class='dijitAccordionText'>${title}</div></div\r\n	><div><div dojoAttachPoint='containerNode' style='overflow: hidden; height: 1px; display: none'\r\n		class='dijitAccordionBody' wairole=\"tabpanel\"\r\n	></div></div>\r\n</div>\r\n",postCreate:function(){this.inherited("postCreate",arguments),dojo.setSelectable(this.titleNode,!1),this.setSelected(this.selected)},getTitleHeight:function(){return dojo.marginBox(this.titleNode).h},_onTitleClick:function(){var e=this.getParent();e._inTransition||(e.selectChild(this),dijit.focus(this.focusNode))},_onTitleKeyPress:function(e){return e._dijitWidget=this,this.getParent()._onKeyPress(e)},_setSelectedState:function(e){this.selected=e,dojo[e?"addClass":"removeClass"](this.domNode,"dijitAccordionPane-selected"),this.focusNode.setAttribute("tabIndex",e?"0":"-1")},_handleFocus:function(e){dojo["focus"==e.type?"addClass":"removeClass"](this.focusNode,"dijitAccordionPaneFocused")},setSelected:function(e){this._setSelectedState(e),e&&this.onSelected()},onSelected:function(){}})),dojo._hasResource["dijit.layout.LayoutContainer"]||(dojo._hasResource["dijit.layout.LayoutContainer"]=!0,dojo.provide("dijit.layout.LayoutContainer"),dojo.declare("dijit.layout.LayoutContainer",dijit.layout._LayoutWidget,{layout:function(){dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren())},addChild:function(){dijit._Container.prototype.addChild.apply(this,arguments),this._started&&dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren())},removeChild:function(){dijit._Container.prototype.removeChild.apply(this,arguments),this._started&&dijit.layout.layoutChildren(this.domNode,this._contentBox,this.getChildren())}}),dojo.extend(dijit._Widget,{layoutAlign:"none"})),dojo._hasResource["dijit.layout.LinkPane"]||(dojo._hasResource["dijit.layout.LinkPane"]=!0,dojo.provide("dijit.layout.LinkPane"),dojo.declare("dijit.layout.LinkPane",[dijit.layout.ContentPane,dijit._Templated],{templateString:'<div class="dijitLinkPane"></div>',postCreate:function(){this.srcNodeRef&&(this.title+=this.srcNodeRef.innerHTML),this.inherited("postCreate",arguments)}})),dojo._hasResource["dijit.layout.SplitContainer"]||(dojo._hasResource["dijit.layout.SplitContainer"]=!0,dojo.provide("dijit.layout.SplitContainer"),dojo.declare("dijit.layout.SplitContainer",dijit.layout._LayoutWidget,{activeSizing:!1,sizerWidth:7,orientation:"horizontal",persist:!0,postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.isHorizontal="horizontal"==this.orientation},postCreate:function(){if(this.inherited("postCreate",arguments),this.sizers=[],dojo.addClass(this.domNode,"dijitSplitContainer"),dojo.isMozilla&&(this.domNode.style.overflow="-moz-scrollbars-none"),"object"==typeof this.sizerWidth)try{this.sizerWidth=parseInt(this.sizerWidth.toString())}catch(e){this.sizerWidth=7}var t=this.virtualSizer=document.createElement("div");t.style.position="relative",t.style.zIndex=10,t.className=this.isHorizontal?"dijitSplitContainerVirtualSizerH":"dijitSplitContainerVirtualSizerV",this.domNode.appendChild(t),dojo.setSelectable(t,!1)},startup:function(){this._started||(dojo.forEach(this.getChildren(),function(e,t,i){this._injectChild(e),t<i.length-1&&this._addSizer()},this),this.persist&&this._restoreState(),this.inherited("startup",arguments),this._started=!0)},_injectChild:function(e){e.domNode.style.position="absolute",dojo.addClass(e.domNode,"dijitSplitPane")},_addSizer:function(){var e=this.sizers.length,t=this.sizers[e]=document.createElement("div");t.className=this.isHorizontal?"dijitSplitContainerSizerH":"dijitSplitContainerSizerV";var i=document.createElement("div");i.className="thumb",t.appendChild(i);var o=this,n=function(){var t=e;return function(e){o.beginSizing(e,t)}}();dojo.connect(t,"onmousedown",n),this.domNode.appendChild(t),dojo.setSelectable(t,!1)},removeChild:function(e){if(this.sizers.length&&-1!=dojo.indexOf(this.getChildren(),e)){var t=this.sizers.length-1;dojo._destroyElement(this.sizers[t]),this.sizers.length--}this.inherited("removeChild",arguments),this._started&&this.layout()},addChild:function(e){if(this.inherited("addChild",arguments),this._started){this._injectChild(e);var t=this.getChildren();t.length>1&&this._addSizer(),this.layout()}},layout:function(){this.paneWidth=this._contentBox.w,this.paneHeight=this._contentBox.h;var e=this.getChildren();if(e.length){var t=this.isHorizontal?this.paneWidth:this.paneHeight;e.length>1&&(t-=this.sizerWidth*(e.length-1));var i=0;dojo.forEach(e,function(e){i+=e.sizeShare});var o=t/i,n=0;dojo.forEach(e.slice(0,e.length-1),function(e){var t=Math.round(o*e.sizeShare);e.sizeActual=t,n+=t}),e[e.length-1].sizeActual=t-n,this._checkSizes();var s=0,d=e[0].sizeActual;this._movePanel(e[0],s,d),e[0].position=s,s+=d,this.sizers&&dojo.some(e.slice(1),function(e,t){return this.sizers[t]?(this._moveSlider(this.sizers[t],s,this.sizerWidth),this.sizers[t].position=s,s+=this.sizerWidth,d=e.sizeActual,this._movePanel(e,s,d),e.position=s,s+=d,void 0):!0},this)}},_movePanel:function(e,t,i){if(this.isHorizontal){e.domNode.style.left=t+"px",e.domNode.style.top=0;var o={w:i,h:this.paneHeight};e.resize?e.resize(o):dojo.marginBox(e.domNode,o)}else{e.domNode.style.left=0,e.domNode.style.top=t+"px";var o={w:this.paneWidth,h:i};e.resize?e.resize(o):dojo.marginBox(e.domNode,o)}},_moveSlider:function(e,t,i){this.isHorizontal?(e.style.left=t+"px",e.style.top=0,dojo.marginBox(e,{w:i,h:this.paneHeight})):(e.style.left=0,e.style.top=t+"px",dojo.marginBox(e,{w:this.paneWidth,h:i}))},_growPane:function(e,t){return e>0&&t.sizeActual>t.sizeMin&&(t.sizeActual-t.sizeMin>e?(t.sizeActual=t.sizeActual-e,e=0):(e-=t.sizeActual-t.sizeMin,t.sizeActual=t.sizeMin)),e},_checkSizes:function(){var e=0,t=0,i=this.getChildren();if(dojo.forEach(i,function(i){t+=i.sizeActual,e+=i.sizeMin}),t>=e){var o=0;if(dojo.forEach(i,function(e){e.sizeActual<e.sizeMin&&(o+=e.sizeMin-e.sizeActual,e.sizeActual=e.sizeMin)}),o>0){var n=this.isDraggingLeft?i.reverse():i;dojo.forEach(n,function(e){o=this._growPane(o,e)},this)}}else dojo.forEach(i,function(i){i.sizeActual=Math.round(t*(i.sizeMin/e))})},beginSizing:function(e,t){var i=this.getChildren();if(this.paneBefore=i[t],this.paneAfter=i[t+1],this.isSizing=!0,this.sizingSplitter=this.sizers[t],this.cover)this.cover.style.zIndex=1;else{this.cover=dojo.doc.createElement("div"),this.domNode.appendChild(this.cover);var o=this.cover.style;o.position="absolute",o.zIndex=1,o.top=0,o.left=0,o.width="100%",o.height="100%"}if(this.sizingSplitter.style.zIndex=2,this.originPos=dojo.coords(i[0].domNode,!0),this.isHorizontal){var n=e.layerX?e.layerX:e.offsetX,s=e.pageX;this.originPos=this.originPos.x}else{var n=e.layerY?e.layerY:e.offsetY,s=e.pageY;this.originPos=this.originPos.y}this.startPoint=this.lastPoint=s,this.screenToClientOffset=s-n,this.dragOffset=this.lastPoint-this.paneBefore.sizeActual-this.originPos-this.paneBefore.position,this.activeSizing||this._showSizingLine(),this._connects=[],this._connects.push(dojo.connect(document.documentElement,"onmousemove",this,"changeSizing")),this._connects.push(dojo.connect(document.documentElement,"onmouseup",this,"endSizing")),dojo.stopEvent(e)},changeSizing:function(e){this.isSizing&&(this.lastPoint=this.isHorizontal?e.pageX:e.pageY,this.movePoint(),this.activeSizing?this._updateSize():this._moveSizingLine(),dojo.stopEvent(e))},endSizing:function(){this.isSizing&&(this.cover&&(this.cover.style.zIndex=-1),this.activeSizing||this._hideSizingLine(),this._updateSize(),this.isSizing=!1,this.persist&&this._saveState(this),dojo.forEach(this._connects,dojo.disconnect))},movePoint:function(){var e=this.lastPoint-this.screenToClientOffset,t=e-this.dragOffset;t=this.legaliseSplitPoint(t),e=t+this.dragOffset,this.lastPoint=e+this.screenToClientOffset},legaliseSplitPoint:function(e){if(e+=this.sizingSplitter.position,this.isDraggingLeft=!!(e>0),!this.activeSizing){var t=this.paneBefore.position+this.paneBefore.sizeMin;t>e&&(e=t);var i=this.paneAfter.position+(this.paneAfter.sizeActual-(this.sizerWidth+this.paneAfter.sizeMin));e>i&&(e=i)}return e-=this.sizingSplitter.position,this._checkSizes(),e},_updateSize:function(){var e=this.lastPoint-this.dragOffset-this.originPos,t=this.paneBefore.position,i=this.paneAfter.position+this.paneAfter.sizeActual;this.paneBefore.sizeActual=e-t,this.paneAfter.position=e+this.sizerWidth,this.paneAfter.sizeActual=i-this.paneAfter.position,dojo.forEach(this.getChildren(),function(e){e.sizeShare=e.sizeActual}),this._started&&this.layout()},_showSizingLine:function(){this._moveSizingLine(),dojo.marginBox(this.virtualSizer,this.isHorizontal?{w:this.sizerWidth,h:this.paneHeight}:{w:this.paneWidth,h:this.sizerWidth}),this.virtualSizer.style.display="block"},_hideSizingLine:function(){this.virtualSizer.style.display="none"},_moveSizingLine:function(){var e=this.lastPoint-this.startPoint+this.sizingSplitter.position;dojo.style(this.virtualSizer,this.isHorizontal?"left":"top",e+"px")},_getCookieName:function(e){return this.id+"_"+e},_restoreState:function(){dojo.forEach(this.getChildren(),function(e,t){var i=this._getCookieName(t),o=dojo.cookie(i);if(o){var n=parseInt(o);"number"==typeof n&&(e.sizeShare=n)}},this)},_saveState:function(){dojo.forEach(this.getChildren(),function(e,t){dojo.cookie(this._getCookieName(t),e.sizeShare)},this)}}),dojo.extend(dijit._Widget,{sizeMin:10,sizeShare:10})),dojo._hasResource["dijit.layout.TabContainer"]||(dojo._hasResource["dijit.layout.TabContainer"]=!0,dojo.provide("dijit.layout.TabContainer"),dojo.declare("dijit.layout.TabContainer",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",templateString:null,templateString:'<div class="dijitTabContainer">\r\n	<div dojoAttachPoint="tablistNode"></div>\r\n	<div class="dijitTabPaneWrapper" dojoAttachPoint="containerNode"></div>\r\n</div>\r\n',postCreate:function(){dijit.layout.TabContainer.superclass.postCreate.apply(this,arguments),this.tablist=new dijit.layout.TabController({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id},this.tablistNode)},_setupChild:function(e){return dojo.addClass(e.domNode,"dijitTabPane"),this.inherited("_setupChild",arguments),e},startup:function(){this._started||(this.tablist.startup(),this.inherited("startup",arguments),dojo.isSafari&&setTimeout(dojo.hitch(this,"layout"),0))},layout:function(){if(this.doLayout){var e=this.tabPosition.replace(/-h/,""),t=[{domNode:this.tablist.domNode,layoutAlign:e},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,t),this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,t[1]),this.selectedChildWidget&&(this._showChild(this.selectedChildWidget),this.doLayout&&this.selectedChildWidget.resize&&this.selectedChildWidget.resize(this._containerContentBox))}},destroy:function(){this.tablist.destroy(),this.inherited("destroy",arguments)}}),dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",doLayout:!0,buttonWidget:"dijit.layout._TabButton",postMixInProperties:function(){this["class"]="dijitTabLabels-"+this.tabPosition+(this.doLayout?"":" dijitTabNoLayout"),this.inherited("postMixInProperties",arguments)}}),dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:"<div dojoAttachEvent='onclick:onClick,onmouseenter:_onMouse,onmouseleave:_onMouse'>\r\n    <div class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\r\n        <span dojoAttachPoint='containerNode,focusNode'>${!label}</span>\r\n        <span dojoAttachPoint='closeButtonNode' class='closeImage' dojoAttachEvent='onmouseenter:_onMouse, onmouseleave:_onMouse, onclick:onClickCloseButton' stateModifier='CloseButton'>\r\n            <span dojoAttachPoint='closeText' class='closeText'>x</span>\r\n        </span>\r\n    </div>\r\n</div>\r\n",postCreate:function(){this.closeButton?dojo.addClass(this.innerDiv,"dijitClosable"):this.closeButtonNode.style.display="none",this.inherited("postCreate",arguments),dojo.setSelectable(this.containerNode,!1)}})),dojo._hasResource["dijit.dijit-all"]||(dojo._hasResource["dijit.dijit-all"]=!0,console.warn("dijit-all may include much more code than your application actually requires. We strongly recommend that you investigate a custom build or the web build tool"),dojo.provide("dijit.dijit-all")),dojo.i18n._preloadLocalizations("dijit.nls.dijit-all",["es-es","es","hu","it-it","de","pt-br","pl","fr-fr","zh-cn","pt","en-us","zh","ru","xx","fr","zh-tw","it","cs","en-gb","de-de","ja-jp","ko-kr","ko","en","ROOT","ja"]);