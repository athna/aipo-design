dojo._hasResource["dojox.collections.BinaryTree"]||(dojo._hasResource["dojox.collections.BinaryTree"]=!0,dojo.provide("dojox.collections.BinaryTree"),dojo.require("dojox.collections._base"),dojox.collections.BinaryTree=function(t){function e(t,r,o){this.value=t||null,this.right=r||null,this.left=o||null,this.clone=function(){var t=new e;return t.value=this.value.value?this.value.clone():this.value,null!=this.left&&(t.left=this.left.clone()),null!=this.right&&(t.right=this.right.clone()),t},this.compare=function(t){return this.value>t.value?1:this.value<t.value?-1:0},this.compareData=function(t){return this.value>t?1:this.value<t?-1:0}}function r(t,e){t&&(r(t.left,e),e.push(t.value),r(t.right,e))}function o(t,e){var r="";return t&&(r=t.value.toString()+e,r+=o(t.left,e),r+=o(t.right,e)),r}function i(t,e){var r="";return t&&(r=i(t.left,e),r+=t.value.toString()+e,r+=i(t.right,e)),r}function n(t,e){var r="";return t&&(r=n(t.left,e),r+=n(t.right,e),r+=t.value.toString()+e),r}function l(t,e){if(!t)return null;var r=t.compareData(e);return 0==r?t:r>0?l(t.left,e):l(t.right,e)}this.add=function(t){for(var r,o=new e(t),i=a,n=null;i;){if(r=i.compare(o),0==r)return;n=i,i=r>0?i.left:i.right}this.count++,n?(r=n.compare(o),r>0?n.left=o:n.right=o):a=o},this.clear=function(){a=null,this.count=0},this.clone=function(){for(var t=new dojox.collections.BinaryTree,e=this.getIterator();!e.atEnd();)t.add(e.get());return t},this.contains=function(t){return null!=this.search(t)},this.deleteData=function(t){for(var e=a,r=null,o=e.compareData(t);0!=o&&null!=e;)o>0?(r=e,e=e.left):0>o&&(r=e,e=e.right),o=e.compareData(t);if(e)if(this.count--,e.right)if(e.right.left){for(var i=e.right.left,n=e.right;null!=i.left;)n=i,i=i.left;n.left=i.right,i.left=e.left,i.right=e.right,r?(o=r.compare(e),o>0?r.left=i:0>o&&(r.right=i)):a=i}else r?(o=r.compare(e),o>0?r.left=e.right:0>o&&(r.right=e.right)):a=e.right;else r?(o=r.compare(e),o>0?r.left=e.left:0>o&&(r.right=e.left)):a=e.left},this.getIterator=function(){var t=[];return r(a,t),new dojox.collections.Iterator(t)},this.search=function(t){return l(a,t)},this.toString=function(t,e){t||(t=dojox.collections.BinaryTree.TraversalMethods.Inorder),e||(e=",");var r="";switch(t){case dojox.collections.BinaryTree.TraversalMethods.Preorder:r=o(a,e);break;case dojox.collections.BinaryTree.TraversalMethods.Inorder:r=i(a,e);break;case dojox.collections.BinaryTree.TraversalMethods.Postorder:r=n(a,e)}return 0==r.length?"":r.substring(0,r.length-e.length)},this.count=0;var a=this.root=null;t&&this.add(t)},dojox.collections.BinaryTree.TraversalMethods={Preorder:1,Inorder:2,Postorder:3});