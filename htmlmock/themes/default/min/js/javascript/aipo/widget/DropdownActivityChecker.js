dojo._hasResource["aipo.widget.DropdownActivityChecker"]||(dojo._hasResource["aipo.widget.DropdownActivityChecker"]=!0,dojo.provide("aipo.widget.DropdownActivityChecker"),dojo.require("aimluck.widget.Dropdown"),dojo.require("aipo.widget.ActivityList"),dojo.declare("aipo.widget.DropdownActivityChecker",[aimluck.widget.Dropdown],{initValue:"",displayCheck:"",iconURL:"",iconAlt:"",iconWidth:"",iconHeight:"",extendClass:"",eventList:[],callback:function(){},templateString:'<div class="dijit dijitLeft dijitInline"\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey"\n	><div class="" type="${type}"\n		dojoAttachPoint="focusNode,titleNode" waiRole="button" waiState="haspopup-true,labelledby-${id}_label"\n		><div class="" 	dojoAttachPoint="containerNode,popupStateNode"\n		id="${id}_label"><div id="activitychecker" class="zero activitycheckerstyle ${extendClass}"></div><span class="mb_hide">お知らせ</span><span class="pc_hide"><i class="icon-bell-alt"></i></span></div></div></div>\n',postCreate:function(){this.inherited(arguments),this.dropDown=new aipo.widget.ActivityList({},"activityLiteList")},_openDropDown:function(){this.inherited(arguments),dojo.byId("activitycheckerContainer")&&dojo.addClass(dojo.byId("activitycheckerContainer"),"active"),this.dropDown.reload();var o=window.navigator.userAgent.toLowerCase();if((o.indexOf("iphone")>-1||o.indexOf("android")>-1)&&(document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop&&(document.body.scrollTop=0)),aipo.userAgent.isAndroid()){var e=this,t=function(o){return o.preventDefault(),!1},i=dojo.query("input,select,button,a",this.domNode),n=dojo.byId("appsNavigation_v2"),d=dojo.query("input,select,button,a",n),a=dojo.byId("auiWidgetsArea"),c=dojo.query("input,select,button,a",a),s=i;s=s.concat(d),s=s.concat(c),dojo.query("input,select,button,a").forEach(function(o){aipo.arrayContains(s,o)||e.eventList.push(dojo.connect(o,"click",t))}),dojo.query("input,select,button").forEach(function(o){aipo.arrayContains(s,o)||o.disabled||(dojo.addClass(o,"disabled-by-activity"),o.disabled=!0)})}},_closeDropDown:function(){if(this.inherited(arguments),dojo.byId("activitycheckerContainer")&&dojo.removeClass(dojo.byId("activitycheckerContainer"),"active"),document.getElementById("wrapper")&&(document.getElementById("wrapper").style.minHeight=""),aipo.userAgent.isAndroid()){for(var o=0;o<this.eventList.length;o++)dojo.disconnect(this.eventList[o]);this.eventList=[],dojo.query("input.disabled-by-activity,select.disabled-by-activity,button.disabled-by-activity").forEach(function(o){dojo.removeClass(o,"disabled-by-activity"),o.disabled=!1})}},onCheckActivity:function(o){var e=dojo.byId("activitychecker");o>99?(e.innerHTML="99+",dojo.removeClass("activitychecker","zero")):0==o?(e.innerHTML=o,dojo.addClass("activitychecker","zero")):(e.innerHTML=o,dojo.removeClass("activitychecker","zero")),dojo.addClass("activitychecker","counter")},onCheckBlank:function(){}}));