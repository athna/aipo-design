dojo._hasResource["dojox.grid._grid.layout"]||(dojo._hasResource["dojox.grid._grid.layout"]=!0,dojo.provide("dojox.grid._grid.layout"),dojo.require("dojox.grid._grid.cell"),dojo.declare("dojox.grid.layout",null,{constructor:function(d){this.grid=d},cells:null,structure:null,defaultWidth:"6em",setStructure:function(d){this.fieldIndex=0,this.cells=[];for(var e,i=this.structure=[],t=0;e=d[t];t++)i.push(this.addViewDef(e));this.cellCount=this.cells.length},addViewDef:function(d){return this._defaultCellProps=d.defaultCell||{},dojo.mixin({},d,{rows:this.addRowsDef(d.rows||d.cells)})},addRowsDef:function(d){for(var e,i=[],t=0;d&&(e=d[t]);t++)i.push(this.addRowDef(t,e));return i},addRowDef:function(d,e){for(var i,t,l=[],o=0;i=e[o];o++)t=this.addCellDef(d,o,i),l.push(t),this.cells.push(t);return l},addCellDef:function(d,e,i){var t=0;t=i.colSpan>1?0:isNaN(i.width)?i.width||this.defaultWidth:i.width+"em";var l=void 0!=i.field?i.field:i.get?-1:this.fieldIndex;return void 0==i.field&&i.get||(this.fieldIndex=(i.field>-1?i.field:this.fieldIndex)+1),new dojox.grid.cell(dojo.mixin({},this._defaultCellProps,i,{grid:this.grid,subrow:d,layoutIndex:e,index:this.cells.length,fieldIndex:l,unitWidth:t}))}}));