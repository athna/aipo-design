dojo._hasResource["dijit.form.ValidationTextBox"]||(dojo._hasResource["dijit.form.ValidationTextBox"]=!0,dojo.provide("dijit.form.ValidationTextBox"),dojo.require("dojo.i18n"),dojo.require("dijit.form.TextBox"),dojo.require("dijit.Tooltip"),dojo.requireLocalization("dijit.form","validate",null,"cs,de,es,fr,hu,it,ja,ko,pl,pt,ru,ROOT,zh,zh-cn,zh-tw"),dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:'<table style="display: -moz-inline-stack;" class="dijit dijitReset dijitInlineTable" cellspacing="0" cellpadding="0"\r\n	id="widget_${id}" name="${name}"\r\n	dojoAttachEvent="onmouseenter:_onMouse,onmouseleave:_onMouse" waiRole="presentation"\r\n	><tr class="dijitReset"\r\n		><td class="dijitReset dijitInputField" width="100%"\r\n			><input dojoAttachPoint=\'textbox,focusNode\' dojoAttachEvent=\'onfocus,onblur:_onMouse,onkeyup,onkeypress:_onKeyPress\' autocomplete="off"\r\n			type=\'${type}\' name=\'${name}\'\r\n		/></td\r\n		><td class="dijitReset dijitValidationIconField" width="0%"\r\n			><div dojoAttachPoint=\'iconNode\' class=\'dijitValidationIcon\'></div><div class=\'dijitValidationIconText\'>&Chi;</div\r\n		></td\r\n	></tr\r\n></table>\r\n',baseClass:"dijitTextBox",required:!1,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(){return this.regExp},state:"",setValue:function(){this.inherited("setValue",arguments),this.validate(!1)},validator:function(t,e){return!(!new RegExp("^("+this.regExpGen(e)+")"+(this.required?"":"?")+"$").test(t)||this.required&&this._isEmpty(t)||!this._isEmpty(t)&&null===this.parse(t,e))},isValid:function(){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(t){return/^\s*$/.test(t)},getErrorMessage:function(){return this.invalidMessage},getPromptMessage:function(){return this.promptMessage},validate:function(t){var e="",i=this.isValid(t),s=this._isEmpty(this.textbox.value);this.state=i||!this._hasBeenBlurred&&s?"":"Error",this._setStateClass(),dijit.setWaiState(this.focusNode,"invalid",i?"false":"true"),t&&(s&&(e=this.getPromptMessage(!0)),e||i||(e=this.getErrorMessage(!0))),this._displayMessage(e)},_message:"",_displayMessage:function(t){this._message!=t&&(this._message=t,this.displayMessage(t))},displayMessage:function(t){t?dijit.showTooltip(t,this.domNode):dijit.hideTooltip(this.domNode)},_hasBeenBlurred:!1,_onBlur:function(){this._hasBeenBlurred=!0,this.validate(!1),this.inherited("_onBlur",arguments)},onfocus:function(t){this.validate(!0),this._onMouse(t)},onkeyup:function(t){this.onfocus(t)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.constraints.locale=this.lang,this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang),"$_unset_$"==this.invalidMessage&&(this.invalidMessage=this.messages.invalidMessage);var t=this.regExpGen(this.constraints);this.regExp=t}}),dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{serialize:function(t){return t.toString?t.toString():""},toString:function(){var t=this.filter(this.getValue());return null!=t?"string"==typeof t?t:this.serialize(t,this.constraints):""},validate:function(){this.valueNode.value=this.toString(),this.inherited("validate",arguments)},postCreate:function(){var t=this.textbox,e=this.valueNode=document.createElement("input");e.setAttribute("type",t.type),e.setAttribute("value",this.toString()),dojo.style(e,"display","none"),e.name=this.textbox.name,this.textbox.name="_"+this.textbox.name+"_displayed_",this.textbox.removeAttribute("name"),dojo.place(e,t,"after"),this.inherited("postCreate",arguments)}}),dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",compare:function(t,e){return t-e},rangeCheck:function(t,e){var i="undefined"!=typeof e.min,s="undefined"!=typeof e.max;return i||s?(!i||this.compare(t,e.min)>=0)&&(!s||this.compare(t,e.max)<=0):!0},isInRange:function(){return this.rangeCheck(this.getValue(),this.constraints)},isValid:function(t){return this.inherited("isValid",arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(t))},getErrorMessage:function(t){return dijit.form.RangeBoundTextBox.superclass.isValid.call(this,!1)&&!this.isInRange(t)?this.rangeMessage:this.inherited("getErrorMessage",arguments)},postMixInProperties:function(){this.inherited("postMixInProperties",arguments),this.rangeMessage||(this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)},postCreate:function(){this.inherited("postCreate",arguments),"undefined"!=typeof this.constraints.min&&dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min),"undefined"!=typeof this.constraints.max&&dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max)}}));