dojo._xdResourceLoaded({depends:[["provide","dojox.charting.Chart3D"],["require","dojox.gfx3d"]],defineResource:function(t){t._hasResource["dojox.charting.Chart3D"]||(t._hasResource["dojox.charting.Chart3D"]=!0,t.provide("dojox.charting.Chart3D"),t.require("dojox.gfx3d"),function(){var e={x:0,y:0,z:1},r=dojox.gfx3d.vector,i=dojox.gfx.normalizedLength;t.declare("dojox.charting.Chart3D",null,{constructor:function(e,r,n,o){this.node=t.byId(e),this.surface=dojox.gfx.createSurface(this.node,i(this.node.style.width),i(this.node.style.height)),this.view=this.surface.createViewport(),this.view.setLights(r.lights,r.ambient,r.specular),this.view.setCameraTransform(n),this.theme=o,this.walls=[],this.plots=[]},generate:function(){return this._generateWalls()._generatePlots()},invalidate:function(){return this.view.invalidate(),this},render:function(){return this.view.render(),this},addPlot:function(t){return this._add(this.plots,t)},removePlot:function(t){return this._remove(this.plots,t)},addWall:function(t){return this._add(this.walls,t)},removeWall:function(t){return this._remove(this.walls,t)},_add:function(e,r){return t.some(e,function(t){return t==r})||(e.push(r),this.view.invalidate()),this},_remove:function(e,r){var i=t.filter(e,function(t){return t!=r});return i.length<e.length?(e=i,this.invalidate()):this},_generateWalls:function(){for(var t=0;t<this.walls.length;++t)r.dotProduct(e,this.walls[t].normal)>0&&this.walls[t].generate(this);return this},_generatePlots:function(){for(var t=0,e=dojox.gfx3d.matrix,r=0;r<this.plots.length;++r)t+=this.plots[r].getDepth();for(--r;r>=0;--r){var i=this.view.createScene();i.setTransform(e.translate(0,0,-t)),this.plots[r].generate(this,i),t-=this.plots[r].getDepth()}return this}})}())}});