dojo._hasResource["dojox.layout.FloatingPane"]||(dojo._hasResource["dojox.layout.FloatingPane"]=!0,dojo.provide("dojox.layout.FloatingPane"),dojo.experimental("dojox.layout.FloatingPane"),dojo.require("dojox.layout.ContentPane"),dojo.require("dijit._Templated"),dojo.require("dijit._Widget"),dojo.require("dojo.dnd.move"),dojo.require("dojox.layout.ResizeHandle"),dojo.declare("dojox.layout.FloatingPane",[dojox.layout.ContentPane,dijit._Templated],{closable:!0,dockable:!0,resizable:!1,maxable:!1,resizeAxis:"xy",title:"",dockTo:null,duration:400,_showAnim:null,_hideAnim:null,_dockNode:null,iconSrc:null,contentClass:"dojoxFloatingPaneContent",templateString:null,templateString:'<div class="dojoxFloatingPane" id="${id}">\r\n	<div tabindex="0" waiRole="button" class="dojoxFloatingPaneTitle" dojoAttachPoint="focusNode">\r\n		<span dojoAttachPoint="closeNode" dojoAttachEvent="onclick: close" class="dojoxFloatingCloseIcon"></span>\r\n		<span dojoAttachPoint="maxNode" dojoAttachEvent="onclick: maximize" class="dojoxFloatingMaximizeIcon"></span>\r\n		<span dojoAttachPoint="restoreNode" dojoAttachEvent="onclick: _restore" class="dojoxFloatingRestoreIcon"></span>	\r\n		<span dojoAttachPoint="dockNode" dojoAttachEvent="onclick: minimize" class="dojoxFloatingMinimizeIcon"></span>\r\n		<span dojoAttachPoint="titleNode" class="dijitInline dijitTitleNode"></span>\r\n	</div>\r\n	<div dojoAttachPoint="canvas" class="dojoxFloatingPaneCanvas">\r\n		<div dojoAttachPoint="containerNode" waiRole="region" tabindex="-1" class="${contentClass}">\r\n		</div>\r\n		<span dojoAttachPoint="resizeHandle" class="dojoxFloatingResizeHandle"></span>\r\n	</div>\r\n</div>\r\n',_restoreState:{},_allFPs:[],postCreate:function(){this.setTitle(this.title),this.inherited("postCreate",arguments);new dojo.dnd.Moveable(this.domNode,{handle:this.focusNode});if(this.dockable||(this.dockNode.style.display="none"),this.closable||(this.closeNode.style.display="none"),this.maxable||(this.maxNode.style.display="none",this.restoreNode.style.display="none"),this.resizable){var o=dojo.marginBox(this.domNode);this.domNode.style.width=o.w+"px"}else this.resizeHandle.style.display="none";this._allFPs.push(this)},startup:function(){if(this.inherited("startup",arguments),this.resizable){dojo.isIE?this.canvas.style.overflow="auto":this.containerNode.style.overflow="auto";{new dojox.layout.ResizeHandle({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle)}}if(this.dockable){if(tmpName=this.dockTo,this.dockTo=this.dockTo?dijit.byId(this.dockTo):dijit.byId("dojoxGlobalFloatingDock"),!this.dockTo){if(tmpName)var o=tmpName,t=dojo.byId(tmpName);else{var t=document.createElement("div");dojo.body().appendChild(t),dojo.addClass(t,"dojoxFloatingDockDefault");var o="dojoxGlobalFloatingDock"}this.dockTo=new dojox.layout.Dock({id:o,autoPosition:"south"},t),this.dockTo.startup()}("none"==this.domNode.style.display||"hidden"==this.domNode.style.visibility)&&this.minimize()}this.connect(this.focusNode,"onmousedown","bringToTop"),this.connect(this.domNode,"onmousedown","bringToTop")},setTitle:function(o){this.titleNode.innerHTML=o},close:function(){this.closable&&(dojo.unsubscribe(this._listener),this.hide(dojo.hitch(this,"destroy")))},hide:function(o){dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none",this.domNode.style.visibility="hidden",this.dockTo&&this.dockTo._positionDock(null),o&&o()})}).play()},show:function(o){dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){this.domNode.style.display="",this.domNode.style.visibility="visible",this.dockTo._positionDock(null),this.dockTo&&this.dockTo._positionDock(null),"function"==typeof o&&o(),this._isDocked=!1,this._dockNode&&(this._dockNode.destroy(),this._dockNode=null)})}).play();this.resize(dojo.coords(this.domNode))},minimize:function(){this._isDocked||this.hide(dojo.hitch(this,"_dock"))},maximize:function(){this._maximized||(this._naturalState=dojo.coords(this.domNode),this._isDocked&&(this.show(),setTimeout(dojo.hitch(this,"maximize"),this.duration)),dojo.addClass(this.focusNode,"floatingPaneMaximized"),this.resize(dijit.getViewport()),this._maximized=!0)},_restore:function(){this._maximized&&(this.resize(this._naturalState),dojo.removeClass(this.focusNode,"floatingPaneMaximized"),this._maximized=!1)},_dock:function(){this._isDocked||(this._dockNode=this.dockTo.addNode(this),this._isDocked=!0)},resize:function(o){this._currentState=o;var t=this.domNode.style;t.top=o.t+"px",t.left=o.l+"px",t.width=o.w+"px",this.canvas.style.width=o.w+"px",t.height=o.h+"px",this.canvas.style.height=o.h-this.focusNode.offsetHeight+"px"},_startZ:100,bringToTop:function(){var o=dojo.filter(this._allFPs,function(o){return o!==this},this);o.sort(function(o,t){return o.domNode.style.zIndex-t.domNode.style.zIndex}),o.push(this),dojo.forEach(o,function(o,t){o.domNode.style.zIndex=this._startZ+2*t,dojo.removeClass(o.domNode,"dojoxFloatingPaneFg")},this),dojo.addClass(this.domNode,"dojoxFloatingPaneFg")},destroy:function(){this._allFPs.splice(dojo.indexOf(this._allFPs,this),1),this.inherited("destroy",arguments)}}),dojo.declare("dojox.layout.Dock",[dijit._Widget,dijit._Templated],{templateString:'<div class="dojoxDock"><ul dojoAttachPoint="containerNode" class="dojoxDockList"></ul></div>',_docked:[],_inPositioning:!1,autoPosition:!1,addNode:function(o){var t=document.createElement("li");this.containerNode.appendChild(t);var i=new dojox.layout._DockNode({title:o.title,paneRef:o},t);return i.startup(),i},startup:function(){("dojoxGlobalFloatingDock"==this.id||this.isFixedDock)&&(dojo.connect(window,"onresize",this,"_positionDock"),dojo.connect(window,"onscroll",this,"_positionDock"),dojo.isIE&&dojo.connect(this.domNode,"onresize",this,"_positionDock")),this._positionDock(null),this.inherited("startup",arguments)},_positionDock:function(){this._inPositioning||"south"==this.autoPosition&&setTimeout(dojo.hitch(this,function(){this._inPositiononing=!0;var o=dijit.getViewport(),t=this.domNode.style;t.left=o.l+"px",t.width=o.w-2+"px",t.top=o.h+o.t-this.domNode.offsetHeight+"px",this._inPositioning=!1}),500)}}),dojo.declare("dojox.layout._DockNode",[dijit._Widget,dijit._Templated],{title:"",paneRef:null,templateString:'<li dojoAttachEvent="onclick: restore" class="dojoxDockNode"><span dojoAttachPoint="restoreNode" class="dojoxDockRestoreButton" dojoAttachEvent="onclick: restore"></span><span class="dojoxDockTitleNode" dojoAttachPoint="titleNode">${title}</span></li>',restore:function(){this.paneRef.show(),this.paneRef.bringToTop(),this.destroy()}}));