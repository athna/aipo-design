dojo._hasResource["dojox.string.sprintf"]||(dojo._hasResource["dojox.string.sprintf"]=!0,dojo.provide("dojox.string.sprintf"),dojo.require("dojox.string.tokenize"),dojox.string.sprintf=function(r){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var t=new dojox.string.sprintf.Formatter(r);return t.format.apply(t,e)},dojox.string.sprintf.Formatter=function(r){this._mapped=!1,this._format=r,this._tokens=dojox.string.tokenize(r,this._re,this._parseDelim,this)},dojo.extend(dojox.string.sprintf.Formatter,{_re:/\%(?:\(([\w_]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%scdeEfFgGiouxX])/g,_parseDelim:function(r,e,i,t,a,n,o){return r&&(this._mapped=!0),{mapping:r,intmapping:e,flags:i,_minWidth:t,period:a,_precision:n,specifier:o}},_specifiers:{b:{base:2,isInt:!0},o:{base:8,isInt:!0},x:{base:16,isInt:!0},X:{extend:["x"],toUpper:!0},d:{base:10,isInt:!0},i:{extend:["d"]},u:{extend:["d"],isUnsigned:!0},c:{setArg:function(r){if(!isNaN(r.arg)){var e=parseInt(r.arg);if(0>e||e>127)throw new Error("invalid character code passed to %c in sprintf");r.arg=isNaN(e)?""+e:String.fromCharCode(e)}}},s:{setMaxWidth:function(r){r.maxWidth="."==r.period?r.precision:-1}},e:{isDouble:!0,doubleNotation:"e"},E:{extend:["e"],toUpper:!0},f:{isDouble:!0,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:!0,doubleNotation:"g"},G:{extend:["g"],toUpper:!0}},format:function(r){if(this._mapped&&"object"!=typeof r)throw new Error("format requires a mapping");for(var e,i="",t=0,a=0;a<this._tokens.length;a++)if(e=this._tokens[a],"string"==typeof e)i+=e;else{if(this._mapped){if("undefined"==typeof r[e.mapping])throw new Error("missing key "+e.mapping);e.arg=r[e.mapping]}else{if(e.intmapping)var t=parseInt(e.intmapping)-1;if(t>=arguments.length)throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");e.arg=arguments[t++]}if(!e.compiled){e.compiled=!0,e.sign="",e.zeroPad=!1,e.rightJustify=!1,e.alternative=!1;for(var n={},o=e.flags.length;o--;){var s=e.flags.charAt(o);switch(n[s]=!0,s){case" ":e.sign=" ";break;case"+":e.sign="+";break;case"0":e.zeroPad=n["-"]?!1:!0;break;case"-":e.rightJustify=!0,e.zeroPad=!1;break;case"#":e.alternative=!0;break;default:throw Error("bad formatting flag '"+e.flags.charAt(o)+"'")}}e.minWidth=e._minWidth?parseInt(e._minWidth):0,e.maxWidth=-1,e.toUpper=!1,e.isUnsigned=!1,e.isInt=!1,e.isDouble=!1,e.precision=1,"."==e.period&&(e.precision=e._precision?parseInt(e._precision):0);var g=this._specifiers[e.specifier];if("undefined"==typeof g)throw new Error("unexpected specifier '"+e.specifier+"'");g.extend&&(dojo.mixin(g,this._specifiers[g.extend]),delete g.extend),dojo.mixin(e,g)}if("function"==typeof e.setArg&&e.setArg(e),"function"==typeof e.setMaxWidth&&e.setMaxWidth(e),"*"==e._minWidth){if(this._mapped)throw new Error("* width not supported in mapped formats");if(e.minWidth=parseInt(arguments[t++]),isNaN(e.minWidth))throw new Error("the argument for * width at position "+t+" is not a number in "+this._format);e.minWidth<0&&(e.rightJustify=!0,e.minWidth=-e.minWidth)}if("*"==e._precision&&"."==e.period){if(this._mapped)throw new Error("* precision not supported in mapped formats");if(e.precision=parseInt(arguments[t++]),isNaN(e.precision))throw Error("the argument for * precision at position "+t+" is not a number in "+this._format);e.precision<0&&(e.precision=1,e.period="")}e.isInt?("."==e.period&&(e.zeroPad=!1),this.formatInt(e)):e.isDouble&&("."!=e.period&&(e.precision=6),this.formatDouble(e)),this.fitField(e),i+=""+e.arg}return i},_zeros10:"0000000000",_spaces10:"          ",formatInt:function(r){var e=parseInt(r.arg);if(!isFinite(e)){if("number"!=typeof r.arg)throw new Error("format argument '"+r.arg+"' not an integer; parseInt returned "+e);e=0}0>e&&(r.isUnsigned||10!=r.base)&&(e=4294967295+e+1),0>e?(r.arg=(-e).toString(r.base),this.zeroPad(r),r.arg="-"+r.arg):(r.arg=e.toString(r.base),e||r.precision?this.zeroPad(r):r.arg="",r.sign&&(r.arg=r.sign+r.arg)),16==r.base&&(r.alternative&&(r.arg="0x"+r.arg),toke.art=r.toUpper?r.arg.toUpperCase():r.arg.toLowerCase()),8==r.base&&r.alternative&&"0"!=r.arg.charAt(0)&&(r.arg="0"+r.arg)},formatDouble:function(r){var e=parseFloat(r.arg);if(!isFinite(e)){if("number"!=typeof r.arg)throw new Error("format argument '"+r.arg+"' not a float; parseFloat returned "+e);e=0}switch(r.doubleNotation){case"e":r.arg=e.toExponential(r.precision);break;case"f":r.arg=e.toFixed(r.precision);break;case"g":r.arg=Math.abs(e)<1e-4?e.toExponential(r.precision>0?r.precision-1:r.precision):e.toPrecision(r.precision),r.alternative||(r.arg=r.arg.replace(/(\..*[^0])0*/,"$1"),r.arg=r.arg.replace(/\.0*e/,"e").replace(/\.0$/,""));break;default:throw new Error("unexpected double notation '"+r.doubleNotation+"'")}r.arg=r.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1"),dojo.isOpera&&(r.arg=r.arg.replace(/^\./,"0.")),r.alternative&&(r.arg=r.arg.replace(/^(\d+)$/,"$1."),r.arg=r.arg.replace(/^(\d+)e/,"$1.e")),e>=0&&r.sign&&(r.arg=r.sign+r.arg),r.arg=r.toUpper?r.arg.toUpperCase():r.arg.toLowerCase()},zeroPad:function(r,e){e=2==arguments.length?e:r.precision,"string"!=typeof r.arg&&(r.arg=""+r.arg);for(var i=e-10;r.arg.length<i;)r.arg=r.rightJustify?r.arg+this._zeros10:this._zeros10+r.arg;var t=e-r.arg.length;r.arg=r.rightJustify?r.arg+this._zeros10.substring(0,t):this._zeros10.substring(0,t)+r.arg},fitField:function(r){return r.maxWidth>=0&&r.arg.length>r.maxWidth?r.arg.substring(0,r.maxWidth):r.zeroPad?(this.zeroPad(r,r.minWidth),void 0):(this.spacePad(r),void 0)},spacePad:function(r,e){e=2==arguments.length?e:r.minWidth,"string"!=typeof r.arg&&(r.arg=""+r.arg);for(var i=e-10;r.arg.length<i;)r.arg=r.rightJustify?r.arg+this._spaces10:this._spaces10+r.arg;var t=e-r.arg.length;r.arg=r.rightJustify?r.arg+this._spaces10.substring(0,t):this._spaces10.substring(0,t)+r.arg}}));