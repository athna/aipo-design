dojo._hasResource["dojo._base.event"]||(dojo._hasResource["dojo._base.event"]=!0,dojo.provide("dojo._base.event"),dojo.require("dojo._base.connect"),function(){var e=dojo._event_listener={add:function(t,n,o){if(t){n=e._normalizeEventName(n),o=e._fixCallback(n,o);if(!dojo.isIE&&("mouseenter"==n||"mouseleave"==n)){var r=o;n="mouseenter"==n?"mouseover":"mouseout",o=function(e){var n=dojo.isDescendant(e.relatedTarget,t);return 0==n?r.call(this,e):void 0}}return t.addEventListener(n,o,!1),o}},remove:function(t,n,o){t&&t.removeEventListener(e._normalizeEventName(n),o,!1)},_normalizeEventName:function(e){return"on"==e.slice(0,2)?e.slice(2):e},_fixCallback:function(t,n){return"keypress"!=t?n:function(t){return n.call(this,e._fixEvent(t,this))}},_fixEvent:function(t){switch(t.type){case"keypress":e._setKeyChar(t)}return t},_setKeyChar:function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):""}};dojo.fixEvent=function(t,n){return e._fixEvent(t,n)},dojo.stopEvent=function(e){e.preventDefault(),e.stopPropagation()};var t=dojo._listener;if(dojo._connect=function(n,o,r,i,a){var s=n&&(n.nodeType||n.attachEvent||n.addEventListener),_=s?a?2:1:0,c=[dojo._listener,e,t][_],d=c.add(n,o,dojo.hitch(r,i));return[n,o,d,_]},dojo._disconnect=function(n,o,r,i){[dojo._listener,e,t][i].remove(n,o,r)},dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145},dojo.isIE){var n=function(e,t){try{return e.keyCode=t}catch(e){return 0}},o=dojo._listener;if(!djConfig._allow_leaks){t=o=dojo._ie_listener={handlers:[],add:function(e,t,n){e=e||dojo.global;var o=e[t];if(!o||!o._listeners){var i=dojo._getIeDispatcher();i.target=o&&r.push(o)-1,i._listeners=[],o=e[t]=i}return o._listeners.push(r.push(n)-1)},remove:function(e,t,n){var o=(e||dojo.global)[t],i=o&&o._listeners;o&&i&&n--&&(delete r[i[n]],delete i[n])}};var r=o.handlers}dojo.mixin(e,{add:function(t,n,r){if(t){if(n=e._normalizeEventName(n),"onkeypress"==n){var i=t.onkeydown;i&&i._listeners&&i._stealthKeydown||(e.add(t,"onkeydown",e._stealthKeyDown),t.onkeydown._stealthKeydown=!0)}return o.add(t,n,e._fixCallback(r))}},remove:function(t,n,r){o.remove(t,e._normalizeEventName(n),r)},_normalizeEventName:function(e){return"on"!=e.slice(0,2)?"on"+e:e},_nop:function(){},_fixEvent:function(t,n){if(!t){var o=n&&(n.ownerDocument||n.document||n).parentWindow||window;t=o.event}if(!t)return t;t.target=t.srcElement,t.currentTarget=n||t.srcElement,t.layerX=t.offsetX,t.layerY=t.offsetY;var r=t.srcElement,i=r&&r.ownerDocument||document,a=dojo.isIE<6||"BackCompat"==i.compatMode?i.body:i.documentElement,s=dojo._getIeDocumentElementOffset();return t.pageX=t.clientX+dojo._fixIeBiDiScrollLeft(a.scrollLeft||0)-s.x,t.pageY=t.clientY+(a.scrollTop||0)-s.y,"mouseover"==t.type&&(t.relatedTarget=t.fromElement),"mouseout"==t.type&&(t.relatedTarget=t.toElement),t.stopPropagation=e._stopPropagation,t.preventDefault=e._preventDefault,e._fixKeys(t)},_fixKeys:function(t){switch(t.type){case"keypress":var n="charCode"in t?t.charCode:t.keyCode;10==n?(n=0,t.keyCode=13):13==n||27==n?n=0:3==n&&(n=99),t.charCode=n,e._setKeyChar(t)}return t},_punctMap:{106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39},_stealthKeyDown:function(t){var o=t.currentTarget.onkeypress;if(o&&o._listeners){var r=t.keyCode,i=13!=r&&32!=r&&27!=r&&(48>r||r>90)&&(96>r||r>111)&&(186>r||r>192)&&(219>r||r>222);if(i||t.ctrlKey){var a=i?0:r;if(t.ctrlKey){if(3==r||13==r)return;a>95&&106>a?a-=48:!t.shiftKey&&a>=65&&90>=a?a+=32:a=e._punctMap[a]||a}var s=e._synthesizeEvent(t,{type:"keypress",faux:!0,charCode:a});o.call(t.currentTarget,s),t.cancelBubble=s.cancelBubble,t.returnValue=s.returnValue,n(t,s.keyCode)}}},_stopPropagation:function(){this.cancelBubble=!0},_preventDefault:function(){this.bubbledKeyCode=this.keyCode,this.ctrlKey&&n(this,0),this.returnValue=!1}}),dojo.stopEvent=function(t){t=t||window.event,e._stopPropagation.call(t),e._preventDefault.call(t)}}if(e._synthesizeEvent=function(t,n){var o=dojo.mixin({},t,n);return e._setKeyChar(o),o.preventDefault=function(){t.preventDefault()},o.stopPropagation=function(){t.stopPropagation()},o},dojo.isOpera&&dojo.mixin(e,{_fixEvent:function(t){switch(t.type){case"keypress":var n=t.which;return 3==n&&(n=99),n=41>n&&!t.shiftKey?0:n,t.ctrlKey&&!t.shiftKey&&n>=65&&90>=n&&(n+=32),e._synthesizeEvent(t,{charCode:n})}return t}}),dojo.isSafari){dojo.mixin(e,{_fixEvent:function(t){switch(t.type){case"keypress":var n=t.charCode,o=t.shiftKey,r=t.keyCode;return r=r||a[t.keyIdentifier]||0,"Enter"==t.keyIdentifier?n=0:t.ctrlKey&&n>0&&27>n?n+=96:n==dojo.keys.SHIFT_TAB?(n=dojo.keys.TAB,o=!0):n=n>=32&&63232>n?n:0,e._synthesizeEvent(t,{charCode:n,shiftKey:o,keyCode:r})}return t}}),dojo.mixin(dojo.keys,{SHIFT_TAB:25,UP_ARROW:63232,DOWN_ARROW:63233,LEFT_ARROW:63234,RIGHT_ARROW:63235,F1:63236,F2:63237,F3:63238,F4:63239,F5:63240,F6:63241,F7:63242,F8:63243,F9:63244,F10:63245,F11:63246,F12:63247,PAUSE:63250,DELETE:63272,HOME:63273,END:63275,PAGE_UP:63276,PAGE_DOWN:63277,INSERT:63302,PRINT_SCREEN:63248,SCROLL_LOCK:63249,NUM_LOCK:63289});var i=dojo.keys,a={Up:i.UP_ARROW,Down:i.DOWN_ARROW,Left:i.LEFT_ARROW,Right:i.RIGHT_ARROW,PageUp:i.PAGE_UP,PageDown:i.PAGE_DOWN}}}(),dojo.isIE&&(dojo._getIeDispatcher=function(){return function(){var e=Array.prototype,t=dojo._ie_listener.handlers,n=arguments.callee,o=n._listeners,r=t[n.target],i=r&&r.apply(this,arguments);for(var a in o)a in e||t[o[a]].apply(this,arguments);return i}},dojo._event_listener._fixCallback=function(e){var t=dojo._event_listener._fixEvent;return function(n){return e.call(this,t(n,this))}}));