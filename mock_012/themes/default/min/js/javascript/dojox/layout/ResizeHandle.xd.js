dojo._xdResourceLoaded({depends:[["provide","dojox.layout.ResizeHandle"],["require","dijit._Widget"],["require","dijit._Templated"],["require","dojo.fx"]],defineResource:function(e){e._hasResource["dojox.layout.ResizeHandle"]||(e._hasResource["dojox.layout.ResizeHandle"]=!0,e.provide("dojox.layout.ResizeHandle"),e.experimental("dojox.layout.ResizeHandle"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.require("dojo.fx"),e.declare("dojox.layout.ResizeHandle",[dijit._Widget,dijit._Templated],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,templateString:'<div dojoAttachPoint="resizeHandle" class="dojoxResizeHandle"><div></div></div>',_isSizing:!1,_connects:[],_activeResizeNode:null,_activeResizeLastEvent:null,_resizeX:!0,_resizeY:!0,postCreate:function(){switch(e.connect(this.resizeHandle,"onmousedown",this,"_beginSizing"),this.activeResize?this.animateSizing=!1:(this._activeResizeNode=document.createElement("div"),e.addClass(this._activeResizeNode,this.activeResizeClass)),this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight}),this._resizeX=this._resizeY=!1,this.resizeAxis.toLowerCase()){case"xy":this._resizeX=this._resizeY=!0,e.addClass(this.resizeHandle,"dojoxResizeNW");break;case"x":this._resizeX=!0,e.addClass(this.resizeHandle,"dojoxResizeW");break;case"y":this._resizeY=!0,e.addClass(this.resizeHandle,"dojoxResizeN")}},_beginSizing:function(i){if(this._isSizing)return!1;if(this.targetWidget=dijit.byId(this.targetId),this.targetWidget&&(this.activeResize=!0),this.targetDomNode=this.targetWidget?this.targetWidget.domNode:e.byId(this.targetId),this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode){this.activeResize||(this.targetDomNode.appendChild(this._activeResizeNode),e.fadeIn({node:this._activeResizeNode,duration:120,beforeBegin:e.hitch(this,function(){this._activeResizeNode.style.display=""})}).play()),this._isSizing=!0,this.startPoint={x:i.clientX,y:i.clientY};var t=this.targetWidget?e.marginBox(this.targetDomNode):e.contentBox(this.targetDomNode);this.startSize={w:t.w,h:t.h},this._connects=[],this._connects.push(e.connect(document,"onmousemove",this,"_updateSizing")),this._connects.push(e.connect(document,"onmouseup",this,"_endSizing")),i.preventDefault()}},_updateSizing:function(i){if(this.activeResize)this._changeSizing(i);else{var t=this._getNewCoords(i);if(t===!1)return;e.style(this._activeResizeNode,"width",t.width+"px"),e.style(this._activeResizeNode,"height",t.height+"px"),this._activeResizeNode.style.display=""}},_getNewCoords:function(e){try{if(!e.clientX||!e.clientY)return!1}catch(e){return!1}this._activeResizeLastEvent=e;var i=this.startPoint.x-e.clientX,t=this.startPoint.y-e.clientY,s=this._resizeX?this.startSize.w-i:this.startSize.w,n=this._resizeY?this.startSize.h-t:this.startSize.h;return this.minSize&&(s<this.minSize.w&&(s=this.minSize.w),n<this.minSize.h&&(n=this.minSize.h)),{width:s,height:n}},_changeSizing:function(i){var t=this._getNewCoords(i);if(t!==!1){if(this.targetWidget&&"function"==typeof this.targetWidget.resize)this.targetWidget.resize({w:t.width,h:t.height});else if(this.animateSizing){var s=e.fx[this.animateMethod]([e.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:t.width,unit:"px"}},duration:this.animateDuration}),e.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:t.height,unit:"px"}},duration:this.animateDuration})]);s.play()}else e.style(this.targetDomNode,"width",t.width+"px"),e.style(this.targetDomNode,"height",t.height+"px");i.preventDefault()}},_endSizing:function(i){e.forEach(this._connects,function(i){e.disconnect(i)}),this.activeResize||(e.fadeOut({node:this._activeResizeNode,duration:250,onEnd:e.hitch(this,function(){this._activeResizeNode.style.display="none"})}).play(),this._changeSizing(i)),this._isSizing=!1}}))}});