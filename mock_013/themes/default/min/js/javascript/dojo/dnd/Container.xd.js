dojo._xdResourceLoaded({depends:[["provide","dojo.dnd.Container"],["require","dojo.dnd.common"],["require","dojo.parser"]],defineResource:function(t){t._hasResource["dojo.dnd.Container"]||(t._hasResource["dojo.dnd.Container"]=!0,t.provide("dojo.dnd.Container"),t.require("dojo.dnd.common"),t.require("dojo.parser"),t.declare("dojo.dnd.Container",null,{skipForm:!1,constructor:function(e,n){this.node=t.byId(e),n||(n={}),this.creator=n.creator||null,this.skipForm=n.skipForm,this.defaultCreator=t.dnd._defaultCreator(this.node),this.map={},this.current=null,this.containerState="",t.addClass(this.node,"dojoDndContainer"),n&&n._skipStartup||this.startup(),this.events=[t.connect(this.node,"onmouseover",this,"onMouseOver"),t.connect(this.node,"onmouseout",this,"onMouseOut"),t.connect(this.node,"ondragstart",this,"onSelectStart"),t.connect(this.node,"onselectstart",this,"onSelectStart")]},creator:function(){},getItem:function(t){return this.map[t]},setItem:function(t,e){this.map[t]=e},delItem:function(t){delete this.map[t]},forInItems:function(e,n){n=n||t.global;var r=this.map,o=t.dnd._empty;for(var d in this.map)d in o||e.call(n,r[d],d,r)},clearItems:function(){this.map={}},getAllNodes:function(){return t.query("> .dojoDndItem",this.parent)},insertNodes:function(t,e,n){if(this.parent.firstChild?e?n||(n=this.parent.firstChild):n&&(n=n.nextSibling):n=null,n)for(var r=0;r<t.length;++r){var o=this._normalizedCreator(t[r]);this.setItem(o.node.id,{data:o.data,type:o.type}),this.parent.insertBefore(o.node,n)}else for(var r=0;r<t.length;++r){var o=this._normalizedCreator(t[r]);this.setItem(o.node.id,{data:o.data,type:o.type}),this.parent.appendChild(o.node)}return this},destroy:function(){t.forEach(this.events,t.disconnect),this.clearItems(),this.node=this.parent=this.current},markupFactory:function(e,n){return e._skipStartup=!0,new t.dnd.Container(n,e)},startup:function(){if(this.parent=this.node,"table"==this.parent.tagName.toLowerCase()){var e=this.parent.getElementsByTagName("tbody");e&&e.length&&(this.parent=e[0])}t.query("> .dojoDndItem",this.parent).forEach(function(e){e.id||(e.id=t.dnd.getUniqueId());var n=e.getAttribute("dndType"),r=e.getAttribute("dndData");this.setItem(e.id,{data:r?r:e.innerHTML,type:n?n.split(/\s*,\s*/):["text"]})},this)},onMouseOver:function(t){for(var e=t.relatedTarget;e&&e!=this.node;)try{e=e.parentNode}catch(n){e=null}e||(this._changeState("Container","Over"),this.onOverEvent()),e=this._getChildByEvent(t),this.current!=e&&(this.current&&this._removeItemClass(this.current,"Over"),e&&this._addItemClass(e,"Over"),this.current=e)},onMouseOut:function(t){for(var e=t.relatedTarget;e;){if(e==this.node)return;try{e=e.parentNode}catch(n){e=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null),this._changeState("Container",""),this.onOutEvent()},onSelectStart:function(e){this.skipForm&&t.dnd.isFormElement(e)||t.stopEvent(e)},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(e,n){var r="dojoDnd"+e,o=e.toLowerCase()+"State";t.removeClass(this.node,r+this[o]),t.addClass(this.node,r+n),this[o]=n},_addItemClass:function(e,n){t.addClass(e,"dojoDndItem"+n)},_removeItemClass:function(e,n){t.removeClass(e,"dojoDndItem"+n)},_getChildByEvent:function(e){var n=e.target;if(n)for(var r=n.parentNode;r;n=r,r=n.parentNode)if(r==this.parent&&t.hasClass(n,"dojoDndItem"))return n;return null},_normalizedCreator:function(e,n){var r=(this.creator?this.creator:this.defaultCreator)(e,n);return t.isArray(r.type)||(r.type=["text"]),r.node.id||(r.node.id=t.dnd.getUniqueId()),t.addClass(r.node,"dojoDndItem"),r}}),t.dnd._createNode=function(e){return e?function(n){var r=t.doc.createElement(e);return r.innerHTML=n,r}:t.dnd._createSpan},t.dnd._createTrTd=function(e){var n=t.doc.createElement("tr"),r=t.doc.createElement("td");return r.innerHTML=e,n.appendChild(r),n},t.dnd._createSpan=function(e){var n=t.doc.createElement("span");return n.innerHTML=e,n},t.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"},t.dnd._defaultCreator=function(e){var n=e.tagName.toLowerCase(),r="table"==n?t.dnd._createTrTd:t.dnd._createNode(t.dnd._defaultCreatorNodes[n]);return function(e,n){var o=t.isObject(e)&&e,d=o&&e.data?e.data:e,a=o&&e.type?e.type:["text"],i=String(d),s=("avatar"==n?t.dnd._createSpan:r)(i);return s.id=t.dnd.getUniqueId(),{node:s,data:d,type:a}}})}});