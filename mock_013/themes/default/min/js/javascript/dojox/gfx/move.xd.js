dojo._xdResourceLoaded({depends:[["provide","dojox.gfx.move"]],defineResource:function(e){e._hasResource["dojox.gfx.move"]||(e._hasResource["dojox.gfx.move"]=!0,e.provide("dojox.gfx.move"),e.experimental("dojox.gfx.move"),dojox.gfx.Mover=function(o,s){this.shape=o,this.lastX=s.clientX,this.lastY=s.clientY;var t=document,n=e.connect(t,"onmousemove",this,"onFirstMove");this.events=[e.connect(t,"onmousemove",this,"onMouseMove"),e.connect(t,"onmouseup",this,"destroy"),e.connect(t,"ondragstart",e,"stopEvent"),e.connect(t,"onselectstart",e,"stopEvent"),n],e.publish("/gfx/move/start",[this]),e.addClass(e.body(),"dojoMove")},e.extend(dojox.gfx.Mover,{onMouseMove:function(o){var s=o.clientX,t=o.clientY;this.shape.applyLeftTransform({dx:s-this.lastX,dy:t-this.lastY}),this.lastX=s,this.lastY=t,e.stopEvent(o)},onFirstMove:function(){e.disconnect(this.events.pop())},destroy:function(){e.forEach(this.events,e.disconnect),e.publish("/gfx/move/stop",[this]),e.removeClass(e.body(),"dojoMove"),this.events=this.shape=null}}),dojox.gfx.Moveable=function(e,o){this.shape=e,this.delay=o&&o.delay>0?o.delay:0,this.mover=o&&o.mover?o.mover:dojox.gfx.Mover,this.events=[this.shape.connect("onmousedown",this,"onMouseDown")]},e.extend(dojox.gfx.Moveable,{destroy:function(){e.forEach(this.events,"disconnect",this.shape),this.events=this.shape=null},onMouseDown:function(o){this.delay?(this.events.push(this.shape.connect("onmousemove",this,"onMouseMove")),this.events.push(this.shape.connect("onmouseup",this,"onMouseUp")),this._lastX=o.clientX,this._lastY=o.clientY):new this.mover(this.shape,o),e.stopEvent(o)},onMouseMove:function(o){(Math.abs(o.clientX-this._lastX)>this.delay||Math.abs(o.clientY-this._lastY)>this.delay)&&(this.onMouseUp(o),new this.mover(this.shape,o)),e.stopEvent(o)},onMouseUp:function(){this.shape.disconnect(this.events.pop()),this.shape.disconnect(this.events.pop())}}))}});