dojo._hasResource["dijit.form.TimeTextBox"]||(dojo._hasResource["dijit.form.TimeTextBox"]=!0,dojo.provide("dijit.form.TimeTextBox"),dojo.require("dojo.date"),dojo.require("dojo.date.locale"),dojo.require("dojo.date.stamp"),dojo.require("dijit._TimePicker"),dojo.require("dijit.form.ValidationTextBox"),dojo.declare("dijit.form.TimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function(e,t){return e&&e.toString()!=this._invalid?dojo.date.locale.format(e,t):null},parse:dojo.date.locale.parse,serialize:dojo.date.stamp.toISOString,value:new Date(""),_invalid:new Date("").toString(),_popupClass:"dijit._TimePicker",postMixInProperties:function(){this.inherited("postMixInProperties",arguments);var e=this.constraints;e.selector="time","string"==typeof e.min&&(e.min=dojo.date.stamp.fromISOString(e.min)),"string"==typeof e.max&&(e.max=dojo.date.stamp.fromISOString(e.max))},_onFocus:function(){this._open()},setValue:function(e){this.inherited("setValue",arguments),this._picker&&(e&&e.toString()!=this._invalid||(e=new Date),this._picker.setValue(e))},_open:function(){if(!this.disabled){var e=this;if(!this._picker){var t=dojo.getObject(this._popupClass,!1);this._picker=new t({onValueSelected:function(t){e.focus(),setTimeout(dojo.hitch(e,"_close"),1),dijit.form.TimeTextBox.superclass.setValue.call(e,t,!0)},lang:this.lang,constraints:this.constraints,isDisabledDate:function(t){return e.constraints&&(dojo.date.compare(e.constraints.min,t)>0||dojo.date.compare(e.constraints.max,t)<0)}}),this._picker.setValue(this.getValue()||new Date)}this._opened||(dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onCancel:dojo.hitch(this,this._close),onClose:function(){e._opened=!1}}),this._opened=!0),dojo.marginBox(this._picker.domNode,{w:this.domNode.offsetWidth})}},_close:function(){this._opened&&(dijit.popup.close(this._picker),this._opened=!1)},_onBlur:function(){this._close(),this.inherited("_onBlur",arguments)},getDisplayedValue:function(){return this.textbox.value},setDisplayedValue:function(e){this.textbox.value=e}}));