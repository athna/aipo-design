dojo._hasResource["dojo.date.locale"]||(dojo._hasResource["dojo.date.locale"]=!0,dojo.provide("dojo.date.locale"),dojo.require("dojo.date"),dojo.require("dojo.cldr.supplemental"),dojo.require("dojo.regexp"),dojo.require("dojo.string"),dojo.require("dojo.i18n"),dojo.requireLocalization("dojo.cldr","gregorian",null,"de,en,en-au,en-ca,en-gb,es,es-es,fr,ROOT,it,it-it,ja,ko,ko-kr,pt,pt-br,zh,zh-cn"),function(){function e(e,a,r){return r.replace(/([a-z])\1*/gi,function(t){var o,s,n=t.charAt(0),c=t.length,l=["abbr","wide","narrow"];switch(n){case"G":o=a[4>c?"eraAbbr":"eraNames"][e.getFullYear()<0?0:1];break;case"y":switch(o=e.getFullYear(),c){case 1:break;case 2:o=String(o),o=o.substr(o.length-2);break;default:s=!0}break;case"Q":case"q":o=Math.ceil((e.getMonth()+1)/3),s=!0;break;case"M":case"L":var d,i=e.getMonth();switch(c){case 1:case 2:o=i+1,s=!0;break;case 3:case 4:case 5:d=l[c-3]}if(d){var u="L"==n?"standalone":"format",g=["months",u,d].join("-");o=a[g][i]}break;case"w":var f=0;o=dojo.date.locale._getWeekOfYear(e,f),s=!0;break;case"d":o=e.getDate(),s=!0;break;case"D":o=dojo.date.locale._getDayOfYear(e),s=!0;break;case"E":case"e":case"c":var d,j=e.getDay();switch(c){case 1:case 2:if("e"==n){var h=dojo.cldr.supplemental.getFirstDayOfWeek(options.locale);j=(j-h+7)%7}if("c"!=n){o=j+1,s=!0;break}case 3:case 4:case 5:d=l[c-3]}if(d){var u="c"==n?"standalone":"format",g=["days",u,d].join("-");o=a[g][j]}break;case"a":var m=e.getHours()<12?"am":"pm";o=a[m];break;case"h":case"H":case"K":case"k":var b=e.getHours();switch(n){case"h":o=b%12||12;break;case"H":o=b;break;case"K":o=b%12;break;case"k":o=b||24}s=!0;break;case"m":o=e.getMinutes(),s=!0;break;case"s":o=e.getSeconds(),s=!0;break;case"S":o=Math.round(e.getMilliseconds()*Math.pow(10,c-3));break;case"v":case"z":if(o=dojo.date.getTimezoneName(e))break;c=4;case"Z":var k=e.getTimezoneOffset(),p=[0>=k?"+":"-",dojo.string.pad(Math.floor(Math.abs(k)/60),2),dojo.string.pad(Math.abs(k)%60,2)];4==c&&(p.splice(0,0,"GMT"),p.splice(3,0,":")),o=p.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+r)}return s&&(o=dojo.string.pad(o,c)),o})}function a(e,a,r,t){var o=function(e){return e};a=a||o,r=r||o,t=t||o;var s=e.match(/(''|[^'])+/g),n=!1;return dojo.forEach(s,function(e,t){e?(s[t]=(n?r:a)(e),n=!n):s[t]=""}),t(s.join(""))}function r(e,a,r,t){return t=dojo.regexp.escapeString(t),r.strict||(t=t.replace(" a"," ?a")),t.replace(/([a-z])\1*/gi,function(t){var o,s=t.charAt(0),n=t.length,c="",l="";switch(r.strict?(n>1&&(c="0{"+(n-1)+"}"),n>2&&(l="0{"+(n-2)+"}")):(c="0?",l="0{0,2}"),s){case"y":o="\\d{2,4}";break;case"M":o=n>2?"\\S+":c+"[1-9]|1[0-2]";break;case"D":o=c+"[1-9]|"+l+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case"d":o=c+"[1-9]|[12]\\d|3[01]";break;case"w":o=c+"[1-9]|[1-4][0-9]|5[0-3]";break;case"E":o="\\S+";break;case"h":o=c+"[1-9]|1[0-2]";break;case"k":o=c+"\\d|1[01]";break;case"H":o=c+"\\d|1\\d|2[0-3]";break;case"K":o=c+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":o="[0-5]\\d";break;case"S":o="\\d{"+n+"}";break;case"a":var d=r.am||a.am||"AM",i=r.pm||a.pm||"PM";r.strict?o=d+"|"+i:(o=d+"|"+i,d!=d.toLowerCase()&&(o+="|"+d.toLowerCase()),i!=i.toLowerCase()&&(o+="|"+i.toLowerCase()));break;default:o=".*"}return e&&e.push(t),"("+o+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}dojo.date.locale.format=function(r,t){t=t||{};var o=dojo.i18n.normalizeLocale(t.locale),s=t.formatLength||"short",n=dojo.date.locale._getGregorianBundle(o),c=[],l=dojo.hitch(this,e,r,n);if("year"==t.selector){var d=r.getFullYear();return o.match(/^zh|^ja/)&&(d+="å¹´"),d}if("time"!=t.selector){var i=t.datePattern||n["dateFormat-"+s];i&&c.push(a(i,l))}if("date"!=t.selector){var u=t.timePattern||n["timeFormat-"+s];u&&c.push(a(u,l))}var g=c.join(" ");return g},dojo.date.locale.regexp=function(e){return dojo.date.locale._parseInfo(e).regexp},dojo.date.locale._parseInfo=function(e){e=e||{};var t,o=dojo.i18n.normalizeLocale(e.locale),s=dojo.date.locale._getGregorianBundle(o),n=e.formatLength||"short",c=e.datePattern||s["dateFormat-"+n],l=e.timePattern||s["timeFormat-"+n];t="date"==e.selector?c:"time"==e.selector?l:c+" "+l;var d=[],i=a(t,dojo.hitch(this,r,d,s,e));return{regexp:i,tokens:d,bundle:s}},dojo.date.locale.parse=function(e,a){var r=dojo.date.locale._parseInfo(a),t=r.tokens,o=r.bundle,s=new RegExp("^"+r.regexp+"$"),n=s.exec(e);if(!n)return null;var c=["abbr","wide","narrow"],l=new Date(1972,0),d={},i="";dojo.forEach(n,function(e,r){if(r){var s=t[r-1],n=s.length;switch(s.charAt(0)){case"y":if(2!=n)l.setFullYear(e),d.year=e;else if(100>e){e=Number(e);var u=""+(new Date).getFullYear(),g=100*u.substring(0,2),f=Number(u.substring(2,4)),j=Math.min(f+20,99),h=j>e?g+e:g-100+e;l.setFullYear(h),d.year=h}else{if(a.strict)return null;l.setFullYear(e),d.year=e}break;case"M":if(n>2){var m=o["months-format-"+c[n-3]].concat();if(a.strict||(e=e.replace(".","").toLowerCase(),m=dojo.map(m,function(e){return e.replace(".","").toLowerCase()})),e=dojo.indexOf(m,e),-1==e)return null}else e--;l.setMonth(e),d.month=e;break;case"E":case"e":var b=o["days-format-"+c[n-3]].concat();if(a.strict||(e=e.toLowerCase(),b=dojo.map(b,"".toLowerCase)),e=dojo.indexOf(b,e),-1==e)return null;break;case"d":l.setDate(e),d.date=e;break;case"D":l.setMonth(0),l.setDate(e);break;case"a":var k=a.am||o.am,p=a.pm||o.pm;if(!a.strict){var v=/\./g;e=e.replace(v,"").toLowerCase(),k=k.replace(v,"").toLowerCase(),p=p.replace(v,"").toLowerCase()}if(a.strict&&e!=k&&e!=p)return null;i=e==p?"p":e==k?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":if(e>23)return null;l.setHours(e);break;case"m":l.setMinutes(e);break;case"s":l.setSeconds(e);break;case"S":l.setMilliseconds(e)}}});var u=l.getHours();return"p"===i&&12>u?l.setHours(u+12):"a"===i&&12==u&&l.setHours(0),d.year&&l.getFullYear()!=d.year?null:d.month&&l.getMonth()!=d.month?null:d.date&&l.getDate()!=d.date?null:l}}(),function(){var e=[];dojo.date.locale.addCustomFormats=function(a,r){e.push({pkg:a,name:r})},dojo.date.locale._getGregorianBundle=function(a){var r={};return dojo.forEach(e,function(e){var t=dojo.i18n.getLocalization(e.pkg,e.name,a);r=dojo.mixin(r,t)},this),r}}(),dojo.date.locale.addCustomFormats("dojo.cldr","gregorian"),dojo.date.locale.getNames=function(e,a,r,t){var o,s=dojo.date.locale._getGregorianBundle(t),n=[e,r,a];return"standAlone"==r&&(o=s[n.join("-")]),n[1]="format",(o||s[n.join("-")]).concat()},dojo.date.locale.isWeekend=function(e,a){var r=dojo.cldr.supplemental.getWeekend(a),t=(e||new Date).getDay();return r.end<r.start&&(r.end+=7,t<r.start&&(t+=7)),t>=r.start&&t<=r.end},dojo.date.locale._getDayOfYear=function(e){return dojo.date.difference(new Date(e.getFullYear(),0,1),e)+1},dojo.date.locale._getWeekOfYear=function(e,a){1==arguments.length&&(a=0);var r=new Date(e.getFullYear(),0,1).getDay(),t=(r-a+7)%7,o=Math.floor((dojo.date.locale._getDayOfYear(e)+t-1)/7);return r==a&&o++,o});