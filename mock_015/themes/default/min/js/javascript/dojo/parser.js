dojo._hasResource["dojo.parser"]||(dojo._hasResource["dojo.parser"]=!0,dojo.provide("dojo.parser"),dojo.require("dojo.date.stamp"),dojo.parser=new function(){function t(t){return o.isString(t)?"string":"number"==typeof t?"number":"boolean"==typeof t?"boolean":o.isFunction(t)?"function":o.isArray(t)?"array":t instanceof Date?"date":t instanceof o._Url?"url":"object"}function r(t,r){switch(r){case"string":return t;case"number":return t.length?Number(t):0/0;case"boolean":return"boolean"==typeof t?t:!("false"==t.toLowerCase());case"function":o.isFunction(t)&&(t=t.toString(),t=o.trim(t.substring(t.indexOf("{")+1,t.length-1)));try{return-1!=t.search(/[^\w\.]+/i)&&(t=o.parser._nameAnonFunc(new Function(t),this)),o.getObject(t,!1)}catch(e){return new Function}case"array":return t.split(/\s*,\s*/);case"date":switch(t){case"":return new Date("");case"now":return new Date;default:return o.date.stamp.fromISOString(t)}case"url":return o.baseUrl+t;default:return o.fromJson(t)}}function e(r){if(!n[r]){var e=o.getObject(r);if(!o.isFunction(e))throw new Error("Could not load class '"+r+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");var a=e.prototype,s={};for(var i in a)if("_"!=i.charAt(0)){var c=a[i];s[i]=t(c)}n[r]={cls:e,params:s}}return n[r]}var o=dojo,n={};this._functionFromScript=function(t){var r="",e="",n=t.getAttribute("args");n&&o.forEach(n.split(/\s*,\s*/),function(t,e){r+="var "+t+" = arguments["+e+"]; "});var a=t.getAttribute("with");return a&&a.length&&o.forEach(a.split(/\s*,\s*/),function(t){r+="with("+t+"){",e+="}"}),new Function(r+t.innerHTML+e)},this.instantiate=function(t){var n=[];return o.forEach(t,function(t){if(t){var a=t.getAttribute("dojoType");if(a&&a.length){var s=e(a),i=s.cls,c=i._noScript||i.prototype._noScript,u={},f=t.attributes;for(var d in s.params){var p=f.getNamedItem(d);if(p&&(p.specified||dojo.isIE&&"value"==d.toLowerCase())){var l=p.value;switch(d){case"class":l=t.className;break;case"style":l=t.style&&t.style.cssText}var j=s.params[d];u[d]=r(l,j)}}if(!c){var h=[],v=[];o.query("> script[type^='dojo/']",t).orphan().forEach(function(t){var r=t.getAttribute("event"),e=t.getAttribute("type"),n=o.parser._functionFromScript(t);r?"dojo/connect"==e?h.push({event:r,func:n}):u[r]=n:v.push(n)})}var m=i.markupFactory;!m&&i.prototype&&(m=i.prototype.markupFactory);var _=m?m(u,t,i):new i(u,t);n.push(_);var y=t.getAttribute("jsId");y&&o.setObject(y,_),c||(dojo.forEach(h,function(t){dojo.connect(_,t.event,null,t.func)}),dojo.forEach(v,function(t){t.call(_)}))}}}),o.forEach(n,function(t){!t||!t.startup||t.getParent&&t.getParent()||t.startup()}),n},this.parse=function(t){var r=o.query("[dojoType]",t),e=this.instantiate(r);return e}},function(){var t=function(){1==djConfig.parseOnLoad&&dojo.parser.parse()};dojo.exists("dijit.wai.onload")&&dijit.wai.onload===dojo._loaders[0]?dojo._loaders.splice(1,0,t):dojo._loaders.unshift(t)}(),dojo.parser._anonCtr=0,dojo.parser._anon={},dojo.parser._nameAnonFunc=function(t,r){var e=r||dojo.parser._anon;if(dojo.isIE){var o=t.__dojoNameCache;if(o&&e[o]===t)return t.__dojoNameCache}for(var n="__"+dojo.parser._anonCtr++;"undefined"!=typeof e[n];)n="__"+dojo.parser._anonCtr++;return e[n]=t,n});