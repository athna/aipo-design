dojo._hasResource["dojo.rpc.RpcService"]||(dojo._hasResource["dojo.rpc.RpcService"]=!0,dojo.provide("dojo.rpc.RpcService"),dojo.declare("dojo.rpc.RpcService",null,{constructor:function(r){if(r)if(dojo.isString(r)||r instanceof dojo._Url){if(r instanceof dojo._Url)var e=r+"";else e=r;var o=dojo.xhrGet({url:e,handleAs:"json-comment-optional",sync:!0});o.addCallback(this,"processSmd"),o.addErrback(function(){throw new Error("Unable to load SMD from "+r)})}else r.smdStr?this.processSmd(dojo.eval("("+r.smdStr+")")):(r.serviceUrl&&(this.serviceUrl=r.serviceUrl),this.timeout=r.timeout||3e3,"strictArgChecks"in r&&(this.strictArgChecks=r.strictArgChecks),this.processSmd(r))},strictArgChecks:!0,serviceUrl:"",parseResults:function(r){return r},errorCallback:function(r){return function(e){r.errback(new Error(e.message))}},resultCallback:function(r){var e=dojo.hitch(this,function(e){if(null!=e.error){var o;"object"==typeof e.error?(o=new Error(e.error.message),o.code=e.error.code,o.error=e.error.error):o=new Error(e.error),o.id=e.id,o.errorObject=e,r.errback(o)}else r.callback(this.parseResults(e))});return e},generateMethod:function(r,e,o){return dojo.hitch(this,function(){var t=new dojo.Deferred;if(this.strictArgChecks&&null!=e&&arguments.length!=e.length)throw new Error("Invalid number of parameters for remote method.");return this.bind(r,dojo._toArray(arguments),t,o),t})},processSmd:function(r){r.methods&&dojo.forEach(r.methods,function(r){if(r&&r.name&&(this[r.name]=this.generateMethod(r.name,r.parameters,r.url||r.serviceUrl||r.serviceURL),!dojo.isFunction(this[r.name])))throw new Error("RpcService: Failed to create"+r.name+"()")},this),this.serviceUrl=r.serviceUrl||r.serviceURL,this.required=r.required,this.smd=r}}));