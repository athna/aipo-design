dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]||(dojo._hasResource["dojox.charting.plot2d.ClusteredBars"]=!0,dojo.provide("dojox.charting.plot2d.ClusteredBars"),dojo.require("dojox.charting.plot2d.common"),dojo.require("dojox.charting.plot2d.Bars"),dojo.require("dojox.lang.functional"),function(){var e=dojox.lang.functional,o=dojox.charting.plot2d.common,r=e.lambda("item.purgeGroup()");dojo.declare("dojox.charting.plot2d.ClusteredBars",dojox.charting.plot2d.Bars,{render:function(t,s){if(this.dirty){dojo.forEach(this.series,r),this.cleanGroup();var i=this.group;e.forEachReversed(this.series,function(e){e.cleanGroup(i)})}for(var a,l,h,d=this.chart.theme,c=this.opt.gap<this._vScaler.scale/3?this.opt.gap:0,n=(this._vScaler.scale-2*c)/this.series.length,u=this.series.length-1;u>=0;--u){var g=this.series[u];if(this.dirty||g.dirty){g.cleanGroup();var i=g.group;g.fill&&g.stroke||(a=g.dyn.color=new dojo.Color(d.next("color"))),l=g.stroke?g.stroke:o.augmentStroke(d.series.stroke,a),h=g.fill?g.fill:o.augmentFill(d.series.fill,a);for(var p=Math.max(0,this._hScaler.bounds.lower),j=s.l+this._hScaler.scale*(p-this._hScaler.bounds.lower),f=t.height-s.b-this._vScaler.scale*(1.5-this._vScaler.bounds.lower)+c+n*(this.series.length-u-1),v=0;v<g.data.length;++v){var x=g.data[v],S=this._hScaler.scale*(x-p),_=n,m=Math.abs(S);if(m>=1&&_>=1){var y=i.createRect({x:j+(0>S?S:0),y:f-this._vScaler.scale*v,width:m,height:_}).setFill(h).setStroke(l);g.dyn.fill=y.getFill(),g.dyn.stroke=y.getStroke()}}g.dirty=!1}}return this.dirty=!1,this}})}());