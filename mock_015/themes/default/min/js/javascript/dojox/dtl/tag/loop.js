dojo._hasResource["dojox.dtl.tag.loop"]||(dojo._hasResource["dojox.dtl.tag.loop"]=!0,dojo.provide("dojox.dtl.tag.loop"),dojo.require("dojox.dtl._base"),dojox.dtl.tag.loop.CycleNode=function(e,o,t){this._cyclevars=e,this._counter=-1,this._name=o,this._map={},this._VarNode=t},dojo.extend(dojox.dtl.tag.loop.CycleNode,{render:function(e,o){e.forloop&&!e.forloop.counter0&&(this._counter=-1),++this._counter;var t=this._cyclevars[this._counter%this._cyclevars.length];this._name&&(e[this._name]=t),this._map[t]||(this._map[t]={});var n=this._map[t][this._counter]=new this._VarNode(t);return n.render(e,o,this)},unrender:function(e,o){return o},clone:function(){return new this.constructor(this._cyclevars,this._name)},_onEnd:function(){this._counter=-1},toString:function(){return"dojox.dtl.tag.loop.CycleNode"}}),dojox.dtl.tag.loop.cycle=function(e,o){var t=o.split(" ");if(t.length<2)throw new Error("'cycle' tag requires at least two arguments");if(-1!=t[1].indexOf(",")){var n=t[1].split(",");t=[t[0]];for(var r=0;r<n.length;r++)t.push('"'+n[r]+'"')}if(2==t.length){var l=t[t.length-1];if(!e._namedCycleNodes)throw new Error("No named cycles in template: '"+l+"' is not defined");if(!e._namedCycleNodes[l])throw new Error("Named cycle '"+l+"' does not exist");return e._namedCycleNodes[l]}if(t.length>4&&"as"==t[t.length-2]){var l=t[t.length-1],d=new dojox.dtl.tag.loop.CycleNode(t.slice(1,t.length-2),l,e.getVarNode());e._namedCycleNodes||(e._namedCycleNodes={}),e._namedCycleNodes[l]=d}else d=new dojox.dtl.tag.loop.CycleNode(t.slice(1),null,e.getVarNode());return d});