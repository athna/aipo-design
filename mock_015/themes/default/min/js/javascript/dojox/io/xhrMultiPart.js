dojo._hasResource["dojox.io.xhrMultiPart"]||(dojo._hasResource["dojox.io.xhrMultiPart"]=!0,dojo.provide("dojox.io.xhrMultiPart"),dojo.require("dojo._base.xhr"),dojo.require("dojox.uuid.generateRandomUuid"),function(){function o(o,e){if(!o.name&&!o.content)throw new Error("Each part of a multi-part request requires 'name' and 'content'.");var r=[];if(r.push("--"+e,'Content-Disposition: form-data; name="'+o.name+'"'+(o.filename?'; filename="'+o.filename+'"':"")),o.contentType){var n="Content-Type: "+o.contentType;o.charset&&(n+="; Charset="+o.charset),r.push(n)}return o.contentTransferEncoding&&r.push("Content-Transfer-Encoding: "+o.contentTransferEncoding),r.push("",o.content),r}function e(){var o=[];return o}dojox.io.xhrMultiPart=function(r){if(!r.file&&!r.formNode)throw new Error("file or formNode must be provided to dojox.io.xhrMultiPart's arguments");var n=dojox.uuid.generateRandomUuid(),t=[],a="";if(r.file)for(var i=dojo.isArray(r.file)?r.file:[r.file],d=0;d<i.length;d++)t=t.concat(o(i[d],n));return r.formNode&&(t=t.concat(e(r.formNode,n))),t.length&&(t.push("--"+n+"--",""),a=t.join("\r\n")),dojo.rawXhrPost(dojo.mixin(r,{contentType:"multipart/form-data; boundary="+n,postData:a}))}}());